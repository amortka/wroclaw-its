webpackJsonp([0],Array(94).concat([function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=n.n(a),c=n(105),u=(n(108),n(111),n(117)),l=n(28),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),d=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={activated:n.props.section&&n.props.section||l.q[0].code,skipNextActivation:!!n.props.section,isWorldInitialized:!1,world:null,types:l.q},n.onWordLoad=n.onWordLoad.bind(n),n}return o(t,e),h(t,[{key:"activateType",value:function(e){var t=l.p[e];this.state.world.system.transit.activate(t),this.state.world.system.makeGlitch(.3)}},{key:"toggle",value:function(e){this.state.world.system.toggle(e)}},{key:"componentDidMount",value:function(){this.setState({world:this._worldComponent})}},{key:"componentWillReceiveProps",value:function(e){this.props.isRunning!==e.isRunning&&this.toggle(e.isRunning),this.props.section!==e.section&&this.activateType(e.section)}},{key:"onWordLoad",value:function(){this.setState({isWorldInitialized:!0}),this.props.section&&this.activateType(this.props.section)}},{key:"render",value:function(){var e=this;this.state.WorldModule;return s.a.createElement("div",{className:"App"},s.a.createElement(c.a,{world:this.state.world,actions:this.props.actions,isVisible:this.props.isRunning}),s.a.createElement(u.a,{debug:!0,editable:!1,ref:function(t){return e._worldComponent=t},onLoad:this.onWordLoad}))}}]),t}(a.Component);t.default=d},function(e,t,n){"use strict";function i(e){return"[object Array]"===C.call(e)}function r(e){return"[object ArrayBuffer]"===C.call(e)}function o(e){return"undefined"!==typeof FormData&&e instanceof FormData}function a(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer}function s(e){return"string"===typeof e}function c(e){return"number"===typeof e}function u(e){return"undefined"===typeof e}function l(e){return null!==e&&"object"===typeof e}function h(e){return"[object Date]"===C.call(e)}function d(e){return"[object File]"===C.call(e)}function f(e){return"[object Blob]"===C.call(e)}function p(e){return"[object Function]"===C.call(e)}function m(e){return l(e)&&p(e.pipe)}function v(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams}function g(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}function y(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)}function b(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),i(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}function w(){function e(e,n){"object"===typeof t[n]&&"object"===typeof e?t[n]=w(t[n],e):t[n]=e}for(var t={},n=0,i=arguments.length;n<i;n++)b(arguments[n],e);return t}function A(e,t,n){return b(t,function(t,i){e[i]=n&&"function"===typeof t?E(t,n):t}),e}var E=n(100),x=n(138),C=Object.prototype.toString;e.exports={isArray:i,isArrayBuffer:r,isBuffer:x,isFormData:o,isArrayBufferView:a,isString:s,isNumber:c,isObject:l,isUndefined:u,isDate:h,isFile:d,isBlob:f,isFunction:p,isStream:m,isURLSearchParams:v,isStandardBrowserEnv:y,forEach:b,merge:w,extend:A,trim:g}},function(e,t,n){"use strict";function i(e){return e*h.l/180}function r(e){return 180*e/h.l}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o={lat:e,latInRadians:i(e),lon:t,k:n,radius:6378137};return{fromGeo:function(e,t){var n=i(e),r=i(t-o.lon),a=Math.sin(r)*Math.cos(n);return{x:.5*o.k*o.radius*Math.log((1+a)/(1-a)),y:-o.k*o.radius*(Math.atan(Math.tan(n)/Math.cos(r))-o.latInRadians)}},fromXY:function(e,t){var n=e/(o.k*o.radius),i=t/(o.k*o.radius),a=i+o.latInRadians,s=Math.atan(Math.sinh(n)/Math.cos(a)),c=Math.asin(Math.sin(a)/Math.cosh(n));return s=o.lon+r(s),c=r(c),{lat:c,lon:s}}}}function a(e,t,n){return{x:Math.floor((t+180)/360*Math.pow(2,n)),y:Math.floor((1-Math.log(Math.tan(e*Math.PI/180)+1/Math.cos(e*Math.PI/180))/Math.PI)/2*Math.pow(2,n))}}function s(e,t,n){var i=Math.PI-2*Math.PI*t/Math.pow(2,n);return{lat:180/Math.PI*Math.atan(.5*(Math.exp(i)-Math.exp(-i))),lon:e/Math.pow(2,n)*360-180}}function c(e,t,n,i){var r=a(e,t,n),o=s(r.x,r.y,n),c=s(r.x+1,r.y+1,n),u=i.fromGeo(o.lat,o.lon),l=i.fromGeo(c.lat,c.lon);return Math.ceil(Math.abs(u.x-l.x))}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,t=arguments[1],n=arguments[2],i=document.createElement("canvas");i.width=e,i.height=e;var r=i.getContext("2d"),o=r.createRadialGradient(i.width/2,i.height/2,0,i.width/2,i.height/2,i.width/2);o.addColorStop(0,"rgba(255,255,255,1)"),o.addColorStop(.2,"rgba(0,255,255,1)"),o.addColorStop(.4,"rgba(0,0,64,1)"),o.addColorStop(1,"rgba(0,0,0,1)"),r.fillStyle=o,r.fillRect(0,0,i.width,i.height),t&&(r.globalCompositeOperation="color",r.fillStyle=t,r.fillRect(0,0,e,e));var a=new n.Texture(i);return a.needsUpdate=!0,a}function l(e,t){return!(!e||!t)&&(e.x===t.x&&e.y===t.y&&e.z===t.z)}t.a=o,t.c=a,t.f=s,t.d=c,t.b=u,t.e=l;var h=n(28)},function(e,t,n){"use strict";(function(t){function i(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var r=n(95),o=n(141),a={"Content-Type":"application/x-www-form-urlencoded"},s={adapter:function(){var e;return"undefined"!==typeof XMLHttpRequest?e=n(101):"undefined"!==typeof t&&(e=n(101)),e}(),transformRequest:[function(e,t){return o(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(i(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(i(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};s.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],function(e){s.headers[e]={}}),r.forEach(["post","put","patch"],function(e){s.headers[e]=r.merge(a)}),e.exports=s}).call(t,n(140))},function(e,t,n){"use strict";function i(e,t){if(this.renderer=e,void 0===t){var n=window.innerWidth||1,i=window.innerHeight||1,o={minFilter:u.LinearFilter,magFilter:u.LinearFilter,format:u.RGBFormat,stencilBuffer:!1};t=new u.WebGLRenderTarget(n,i,o)}this.renderTarget1=t,this.renderTarget2=t.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.passes=[],this.copyPass=new a.ShaderPass(r.CopyShader)}Object.defineProperty(t,"__esModule",{value:!0}),t.ClearMaskPass=t.MaskPass=t.ShaderPass=t.RenderPass=t.CopyShader=void 0;var r=n(123);Object.defineProperty(t,"CopyShader",{enumerable:!0,get:function(){return r.CopyShader}});var o=n(124);Object.defineProperty(t,"RenderPass",{enumerable:!0,get:function(){return o.RenderPass}});var a=n(125);Object.defineProperty(t,"ShaderPass",{enumerable:!0,get:function(){return a.ShaderPass}});var s=n(126);Object.defineProperty(t,"MaskPass",{enumerable:!0,get:function(){return s.MaskPass}});var c=n(127);Object.defineProperty(t,"ClearMaskPass",{enumerable:!0,get:function(){return c.ClearMaskPass}});var u=n(27);i.prototype.swapBuffers=function(){var e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e},i.prototype.addPass=function(e){this.passes.push(e)},i.prototype.insertPass=function(e,t){this.passes.splice(t,0,e)},i.prototype.render=function(e){this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2;for(var t=!1,n=0;n<this.passes.length;n++){var i=this.passes[n];if(i.enabled){if(i.render(this.renderer,this.writeBuffer,this.readBuffer,e,t),i.needsSwap){if(t){var r=this.renderer.context;r.stencilFunc(r.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),r.stencilFunc(r.EQUAL,1,4294967295)}this.swapBuffers()}i instanceof s.MaskPass?t=!0:i instanceof c.ClearMaskPass&&(t=!1)}}},i.prototype.reset=function(e){void 0===e&&(e=this.renderTarget1.clone(),e.width=window.innerWidth,e.height=window.innerHeight),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2},i.prototype.setSize=function(e,t){var n=this.renderTarget1.clone();n.width=e,n.height=t,this.reset(n)},i.camera=new u.OrthographicCamera(-1,1,1,-1,0,1),i.quad=new u.Mesh(new u.PlaneGeometry(2,2),null),i.scene=new u.Scene,i.scene.add(i.quad),t.default=i},function(e,t,n){"use strict";function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.h.zoom,n=localStorage.getItem(s.j+"tiles");if(n)return JSON.parse(n);var i=s.o[t].add.map(function(e){return{z:t,x:e[0],y:e[1]}}),r=s.o[t].remove;return a()(e,t).filter(function(e){return!~r.findIndex(function(t){return t[0]===e.x&&t[1]===e.y})}).concat(i)}function r(e,t){var n=[];return i(e,t).forEach(function(e){n.push(e),n.push({x:e.x+1,y:e.y+0,z:e.z}),n.push({x:e.x+1,y:e.y+1,z:e.z}),n.push({x:e.x+0,y:e.y+1,z:e.z})}),n.filter(function(e,t){return n.findIndex(function(t){return e.x===t.x&&e.y===t.y})===t})}t.a=i,t.b=r;var o=n(130),a=n.n(o),s=n(28)},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return e.apply(t,n)}}},function(e,t,n){"use strict";var i=n(95),r=n(142),o=n(144),a=n(145),s=n(146),c=n(102),u="undefined"!==typeof window&&window.btoa&&window.btoa.bind(window)||n(147);e.exports=function(e){return new Promise(function(t,l){var h=e.data,d=e.headers;i.isFormData(h)&&delete d["Content-Type"];var f=new XMLHttpRequest,p="onreadystatechange",m=!1;if("undefined"===typeof window||!window.XDomainRequest||"withCredentials"in f||s(e.url)||(f=new window.XDomainRequest,p="onload",m=!0,f.onprogress=function(){},f.ontimeout=function(){}),e.auth){var v=e.auth.username||"",g=e.auth.password||"";d.Authorization="Basic "+u(v+":"+g)}if(f.open(e.method.toUpperCase(),o(e.url,e.params,e.paramsSerializer),!0),f.timeout=e.timeout,f[p]=function(){if(f&&(4===f.readyState||m)&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in f?a(f.getAllResponseHeaders()):null,i=e.responseType&&"text"!==e.responseType?f.response:f.responseText,o={data:i,status:1223===f.status?204:f.status,statusText:1223===f.status?"No Content":f.statusText,headers:n,config:e,request:f};r(t,l,o),f=null}},f.onerror=function(){l(c("Network Error",e,null,f)),f=null},f.ontimeout=function(){l(c("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",f)),f=null},i.isStandardBrowserEnv()){var y=n(148),b=(e.withCredentials||s(e.url))&&e.xsrfCookieName?y.read(e.xsrfCookieName):void 0;b&&(d[e.xsrfHeaderName]=b)}if("setRequestHeader"in f&&i.forEach(d,function(e,t){"undefined"===typeof h&&"content-type"===t.toLowerCase()?delete d[t]:f.setRequestHeader(t,e)}),e.withCredentials&&(f.withCredentials=!0),e.responseType)try{f.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"===typeof e.onDownloadProgress&&f.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){f&&(f.abort(),l(e),f=null)}),void 0===h&&(h=null),f.send(h)})}},function(e,t,n){"use strict";var i=n(143);e.exports=function(e,t,n,r,o){var a=new Error(e);return i(a,t,n,r,o)}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";function i(e){this.message=e}i.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},i.prototype.__CANCEL__=!0,e.exports=i},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(0),s=n.n(a),c=n(9),u=n.n(c),l=n(106),h=(n.n(l),n(31)),d=n(30),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),p=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClick=function(e){return function(t){n.props.world&&n.props.world.system&&n.props.world.system.makeGlitch(e)}},n.openMenu=function(){n.props.actions.toggleMenu()},n.handleClick=n.handleClick.bind(n),n}return o(t,e),f(t,[{key:"componentDidMount",value:function(){console.log("this.props.isRunning",this.props.isVisible)}},{key:"render",value:function(){var e=u()({"ui-overlay":!0,"ui-overlay--hidden":!this.props.isVisible});this.props.debug&&s.a.createElement(a.Fragment,null,s.a.createElement("button",{onClick:this.handleClick()},"click for glitch!"),s.a.createElement("button",{onClick:this.handleClick(2)},"click for MEGA glitch!"),s.a.createElement("button",{onClick:this.openMenu},"open menu"));return s.a.createElement("div",{className:e},this.props.isVisible?s.a.createElement(d.a,{onClick:this.openMenu}):null,s.a.createElement(h.a,null))}}]),t}(a.Component);t.a=p},function(e,t,n){var i=n(107);"string"===typeof i&&(i=[[e.i,i,""]]);var r={hmr:!1};r.transform=void 0;n(93)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){t=e.exports=n(92)(!0),t.push([e.i,".ui-overlay{width:100%;height:100%;min-height:100vh;position:absolute;z-index:50;-webkit-transition:opacity .5s ease-in-out;-o-transition:opacity .5s ease-in-out;transition:opacity .5s ease-in-out}.ui-overlay--hidden button{color:red}","",{version:3,sources:["e:/my-dev/wroclaw-its/model-builder/src/components/ui/style.css"],names:[],mappings:"AAAA,YACI,WAAY,AACZ,YAAa,AACb,iBAAkB,AAClB,kBAAmB,AACnB,WAAY,AACZ,2CAA6C,AAC7C,sCAAwC,AACxC,kCAAqC,CACxC,AAMD,2BACI,SAAW,CACd",file:"style.css",sourcesContent:[".ui-overlay {\r\n    width: 100%;\r\n    height: 100%;\r\n    min-height: 100vh;\r\n    position: absolute;\r\n    z-index: 50;\r\n    -webkit-transition: opacity 0.5s ease-in-out;\r\n    -o-transition: opacity 0.5s ease-in-out;\r\n    transition: opacity 0.5s ease-in-out;\r\n}\r\n\r\n.ui-overlay--hidden {\r\n    /* opacity: 0; */\r\n}\r\n\r\n.ui-overlay--hidden button {\r\n    color: red;\r\n}"],sourceRoot:""}])},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(0),s=n.n(a),c=n(9),u=n.n(c),l=n(29),h=(n.n(l),n(109)),d=(n.n(h),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}());!function(e){function t(){var e,n,o,a;i(this,t);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return n=o=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),o.SCROLL_SNAP_DISTANCE=250,o.SCROLL_TIMEOUT=100,o.state={y:0},o.handleInternal=function(e){o.isInternal=!1},o.handleScroll=function(e){o.lastScroll=document.documentElement.scrollTop,o.scrollSpeed=o.getScrollSpeed(e),o.setState({y:o.lastScroll}),o.animation&&!o.isInternal&&o.animation.kill(),o.timeoutId?clearTimeout(o.timeoutId):o.scrollStart=o.lastScroll,o.timeoutId=setTimeout(o.handleAnimation.bind(o),o.SCROLL_TIMEOUT)},a=n,r(o,a)}o(t,e),d(t,[{key:"bindScroll",value:function(){window.addEventListener("scroll",this.handleScroll)}},{key:"unBindScroll",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"componentDidMount",value:function(){this.bindScroll(),window.addEventListener("mousewheel",this.handleInternal,{passive:!0}),window.addEventListener("DOMMouseScroll",this.handleInternal),window.addEventListener("wheel",this.handleInternal,{passive:!0})}},{key:"componentWillUnmount",value:function(){this.unBindScroll()}},{key:"getSnapHeight",value:function(){return Math.max(document.documentElement.clientHeight,window.innerHeight||1)}},{key:"getSnapTarget",value:function(){var e=this.getSnapHeight();return Math.round(this.lastScroll/e)*e}},{key:"getScrollSpeed",value:function(e){return Math.abs(this.lastScroll-this.scrollStart)||0}},{key:"isSnapping",value:function(){return this.lastScroll.value%this.getSnapHeight()<this.SCROLL_SNAP_DISTANCE}},{key:"handleAnimation",value:function(){var e=this;if(this.scrollStart&&this.scrollStart!==this.lastScroll){var t=this.getSnapTarget(),n={y:this.lastScroll};this.animation=l.TweenMax.to(n,.35,{y:t,onStart:function(){e.isInternal=!0},onUpdate:function(){e.setState({y:Math.round(n.y)}),e.isInternal=!0,window.scrollTo(0,n.y)},onComplete:function(){e.isInternal=!1}})}}},{key:"render",value:function(){var e=u()({Onepage:!0,"Onepage--noOverflow":!this.props.isVisible});return s.a.createElement("div",{className:e},this.props.children(this.state))}}])}(a.Component)},function(e,t,n){var i=n(110);"string"===typeof i&&(i=[[e.i,i,""]]);var r={hmr:!1};r.transform=void 0;n(93)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){t=e.exports=n(92)(!0),t.push([e.i,".Onepage{position:relative;z-index:100}.Onepage .debug{position:fixed;bottom:20px;left:20px;color:#fff}.Onepage--noOverflow{overflow:hidden;height:100vh}","",{version:3,sources:["e:/my-dev/wroclaw-its/model-builder/src/components/onepage/style.css"],names:[],mappings:"AAAA,SACI,kBAAmB,AACnB,WAAa,CAChB,AAED,gBACI,eAAgB,AAChB,YAAa,AACb,UAAW,AACX,UAAY,CACf,AAED,qBACI,gBAAiB,AACjB,YAAc,CACjB",file:"style.css",sourcesContent:[".Onepage {\r\n    position: relative;\r\n    z-index: 100;\r\n}\r\n\r\n.Onepage .debug {\r\n    position: fixed;\r\n    bottom: 20px;\r\n    left: 20px;\r\n    color: #fff;\r\n}\r\n\r\n.Onepage--noOverflow {\r\n    overflow: hidden;\r\n    height: 100vh;\r\n}"],sourceRoot:""}])},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(0),s=n.n(a),c=n(9),u=n.n(c),l=n(112),h=(n.n(l),n(114)),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){function t(){var e,n,o,a;i(this,t);for(var s=arguments.length,c=Array(s),u=0;u<s;u++)c[u]=arguments[u];return n=o=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),o.el={offsetTop:0},o.active=!1,a=n,r(o,a)}o(t,e),d(t,[{key:"componentDidMount",value:function(){var e=this;this.props.activateSelf&&setTimeout(function(){window.scrollTo(0,e.el.offsetTop)})}},{key:"componentWillReceiveProps",value:function(e){Math.abs(this.props.scroll-this.el.offsetTop)<100?(!this.active&&this.props.activate&&this.props.activate(this.props.type),this.active=!0):this.active=!1}},{key:"render",value:function(){var e=this,t=u()("Fullpage",{"Fullpage--isActive":this.active||this.props.isActive}),n=s.a.createElement("p",null);return s.a.createElement("div",{className:t,ref:function(t){return e.el=t}},s.a.createElement("h1",null,this.props.title),this.active?n:null,s.a.createElement(h.a,null))}}])}(a.Component)},function(e,t,n){var i=n(113);"string"===typeof i&&(i=[[e.i,i,""]]);var r={hmr:!1};r.transform=void 0;n(93)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){t=e.exports=n(92)(!0),t.push([e.i,".Fullpage{position:relative;width:100%;height:100vh;overflow:hidden}.Fullpage h1{position:absolute;left:10px;top:20px;font-size:30px;-webkit-transition:all .2s ease-out;-o-transition:all .2s ease-out;transition:all .2s ease-out;opacity:.5;pointer-events:none;margin:0}.Fullpage--isActive h1{left:60px;font-size:100px;opacity:1}.Fullpage .Tile{-webkit-transition:all .8s ease-out;-o-transition:all .8s ease-out;transition:all .8s ease-out;opacity:0}.Fullpage--isActive .Tile{opacity:1}","",{version:3,sources:["e:/my-dev/wroclaw-its/model-builder/src/components/fullpage/style.css"],names:[],mappings:"AAAA,UACI,kBAAmB,AACnB,WAAY,AACZ,aAAc,AACd,eAAiB,CAEpB,AAMD,aACI,kBAAmB,AACnB,UAAW,AACX,SAAU,AACV,eAAgB,AAChB,oCAAsC,AACtC,+BAAiC,AACjC,4BAA8B,AAC9B,WAAa,AACb,oBAAqB,AACrB,QAAU,CACb,AAED,uBACI,UAAW,AACX,gBAAiB,AACjB,SAAW,CACd,AAGD,gBACI,oCAAsC,AACtC,+BAAiC,AACjC,4BAA8B,AAC9B,SAAW,CACd,AAED,0BACI,SAAW,CACd",file:"style.css",sourcesContent:[".Fullpage {\r\n    position: relative;\r\n    width: 100%;\r\n    height: 100vh;\r\n    overflow: hidden;\r\n    /* opacity: 0.0; */\r\n}\r\n\r\n.Fullpage--isActive {\r\n    /* color: red; */\r\n}\r\n\r\n.Fullpage h1 {\r\n    position: absolute;\r\n    left: 10px;\r\n    top: 20px;\r\n    font-size: 30px;\r\n    -webkit-transition: all 0.2s ease-out;\r\n    -o-transition: all 0.2s ease-out;\r\n    transition: all 0.2s ease-out;\r\n    opacity: 0.5;\r\n    pointer-events: none;\r\n    margin: 0;\r\n}\r\n\r\n.Fullpage--isActive h1 {\r\n    left: 60px;\r\n    font-size: 100px;\r\n    opacity: 1;\r\n}\r\n\r\n\r\n.Fullpage .Tile {\r\n    -webkit-transition: all 0.8s ease-out;\r\n    -o-transition: all 0.8s ease-out;\r\n    transition: all 0.8s ease-out;\r\n    opacity: 0;\r\n}\r\n\r\n.Fullpage--isActive .Tile {\r\n    opacity: 1;\r\n}"],sourceRoot:""}])},function(e,t,n){"use strict";var i=n(0),r=n.n(i),o=n(115);n.n(o);t.a=function(e){return r.a.createElement("div",{className:"Tile"},r.a.createElement("div",{className:"Tile-bar"}),r.a.createElement("h2",null,"hello"))}},function(e,t,n){var i=n(116);"string"===typeof i&&(i=[[e.i,i,""]]);var r={hmr:!1};r.transform=void 0;n(93)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){t=e.exports=n(92)(!0),t.push([e.i,".Tile{width:150px;height:250px;left:40px;bottom:40px;background-image:-webkit-linear-gradient(140deg,#303551 20%,#343048);background-image:-o-linear-gradient(140deg,#303551 20%,#343048 100%);background-image:linear-gradient(-50deg,#303551 20%,#343048);-webkit-box-shadow:0 0 10px 0 rgba(0,0,0,.5);box-shadow:0 0 10px 0 rgba(0,0,0,.5)}.Tile,.Tile-bar{position:absolute}.Tile-bar{width:100%;height:8px;top:0;left:0;background-image:-webkit-gradient(linear,left top,right top,from(#84fab0),to(#8fd3f4));background-image:-webkit-linear-gradient(left,#84fab0,#8fd3f4);background-image:-o-linear-gradient(left,#84fab0 0,#8fd3f4 100%);background-image:linear-gradient(90deg,#84fab0,#8fd3f4);-webkit-box-shadow:0 0 10px 0 rgba(132,250,176,.75);box-shadow:0 0 10px 0 rgba(132,250,176,.75)}.Tile h2{color:#fff;padding:0 10px;font-weight:100}","",{version:3,sources:["e:/my-dev/wroclaw-its/model-builder/src/components/tile/style.css"],names:[],mappings:"AAAA,MACI,YAAa,AACb,aAAc,AAGd,UAAW,AACX,YAAa,AAGb,qEAA6E,AAC7E,qEAAwE,AACxE,6DAAqE,AACrE,6CAAwD,AAChD,oCAAgD,CAC3D,AAED,gBAbI,iBAAmB,CA6BtB,AAhBD,UAEI,WAAY,AACZ,WAAY,AACZ,MAAO,AACP,OAAQ,AAER,uFAA4F,AAE5F,+DAA0E,AAE1E,iEAAqE,AAErE,wDAAmE,AACnE,oDAA+D,AACvD,2CAAuD,CAClE,AAED,SACI,WAAY,AACZ,eAAgB,AAChB,eAAiB,CACpB",file:"style.css",sourcesContent:[".Tile {\r\n    width: 150px;\r\n    height: 250px;\r\n    position: absolute;\r\n    \r\n    left: 40px;\r\n    bottom: 40px;\r\n    \r\n    /* background-color: #303551; */\r\n    background-image: -webkit-linear-gradient(140deg, #303551 20%, #343048 100%);\r\n    background-image: -o-linear-gradient(140deg, #303551 20%, #343048 100%);\r\n    background-image: linear-gradient(-50deg, #303551 20%, #343048 100%);\r\n    -webkit-box-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.5);\r\n            box-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.5);\r\n}\r\n\r\n.Tile-bar {\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 8px;\r\n    top: 0;\r\n    left: 0;\r\n\r\n    background-image: -webkit-gradient(linear, left top, right top, from(#84fab0), to(#8fd3f4));\r\n\r\n    background-image: -webkit-linear-gradient(left, #84fab0 0%, #8fd3f4 100%);\r\n\r\n    background-image: -o-linear-gradient(left, #84fab0 0%, #8fd3f4 100%);\r\n\r\n    background-image: linear-gradient(90deg, #84fab0 0%, #8fd3f4 100%);\r\n    -webkit-box-shadow: 0px 0px 10px 0px rgba(132, 250, 176, 0.75);\r\n            box-shadow: 0px 0px 10px 0px rgba(132, 250, 176, 0.75);\r\n}\r\n\r\n.Tile h2 {\r\n    color: #fff;\r\n    padding: 0 10px;\r\n    font-weight: 100;\r\n}"],sourceRoot:""}])},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(0),s=n.n(a),c=n(118),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l={width:"100%",height:"100%",minHeight:"100vh",position:"fixed",zIndex:0},h=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onProgress=n.onProgress.bind(n),n.onLoad=n.onLoad.bind(n),n}return o(t,e),u(t,[{key:"componentDidMount",value:function(){this.system=new c.a(this.rootEl,this.onProgress,this.onLoad,this.props)}},{key:"onLoad",value:function(){var e=this;console.log(":: World: load is complete!"),this.system.init(),setTimeout(function(){e.props.onLoad(),e.system.initLate()},2500)}},{key:"onProgress",value:function(e,t,n){}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"Scene",style:l,ref:function(t){return e.rootEl=t}})}}]),t}(a.Component);t.a=h},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=n(27),o=n(29),a=(n.n(o),n(119)),s=n.n(a),c=n(120),u=n(121),l=n(128),h=n(131),d=n(133),f=n(134),p=n(135),m=n(28),v=n(96),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),y=n(156)(r),b=function(){function e(t,n,o,a){i(this,e),this.isRunning=!0,this.container=t,this.onProgressCb=n,this.onLoadCb=o,this.options=a,this.sphereGeometry=new r.SphereBufferGeometry(100,16,16),this.center=new r.Vector3,this.mercator=Object(v.a)(m.c.lat,m.c.lon),this.initialized=!1,this.raycaster=new r.Raycaster,this.setupClock(),this.setupDebug(),this.setupLoader(),this.setupScene(),this.setupCamera(),this.setupSize(),this.setupRenderer(),this.setupComposer(),this.setupControls(),this.setupHelpers(),this.setupListeners(),this.setupComposer(),this.onResize(),this.grid=new l.a(this),this.city=new h.a(this),this.transit=new d.a(this),this.its=new p.a(this),this.loop(),this.toggle=this.toggle.bind(this)}return g(e,[{key:"init",value:function(){console.log("System initialize sequence"),this.initialized=!0,this.grid&&this.grid.init(),this.city&&this.city.init(),this.transit&&this.transit.init(),this.tilemap=new f.a(this)}},{key:"initLate",value:function(){this.city&&this.city.initLate(),this.tilemap&&this.tilemap.init()}},{key:"setupClock",value:function(){this.clock=new r.Clock}},{key:"setupDebug",value:function(){}},{key:"setupLoader",value:function(){this.loadingManager=new r.LoadingManager,this.loadingManager.onProgress=this.onProgressCb,this.loadingManager.onLoad=this.onLoadCb,this.loaderJSON=new r.JSONLoader(this.loadingManager),this.loaderFile=new r.FileLoader(this.loadingManager)}},{key:"setupScene",value:function(){this.scene=new r.Scene,window.THREE=r,window.scene=this.scene}},{key:"setupCamera",value:function(){this.cameraPoint=null,this.cameraTarget=new r.Vector3,this.cameraLerp=.1,this.camera=new r.PerspectiveCamera(20,0,1e-4,1e6),this.camera.position.copy(m.b.debugTop),this.camera.lookAt(new r.Vector3)}},{key:"setupRenderer",value:function(){this.renderer=new r.WebGLRenderer({alpha:!0,antialias:!0,autoClear:!1}),this.renderer.shadowMap.soft=!1,this.renderer.shadowMap.enabled=!0,this.container.appendChild(this.renderer.domElement)}},{key:"setupComposer",value:function(){var e={minFilter:r.LinearFilter,magFilter:r.LinearFilter,format:r.RGBAFormat,stencilBuffer:!1},t=new r.WebGLRenderTarget(this.width,this.height,e);this.composer=new y(this.renderer,t),this.composer.addPass(new y.RenderPass(this.scene,this.camera)),this.copyPass=new y.ShaderPass(y.CopyShader),this.composer.addPass(this.copyPass),this.fxaaPass=new y.ShaderPass(s()()),this.composer.addPass(this.fxaaPass),this.glitchPass=new u.a(64),this.glitchPass.renderToScreen=!0,this.composer.addPass(this.glitchPass),this.fxaaPass.uniforms.resolution.value.set(window.innerWidth,window.innerHeight)}},{key:"setupControls",value:function(){this.controls=new c.a(this.camera),this.controls.enabled=!0,this.controls.minPolarAngle=0,this.controls.maxPolarAngle=Math.PI/2-.15,this.controls.rotateSpeed=.1,this.controls.dampingFactor=.05,this.controls.minDistance=0,this.controls.maxDistance=6e5,this.controls.enableZoom=this.options.debug||!1,this.controls.target.copy(new r.Vector3(0,0,0))}},{key:"setupHelpers",value:function(){var e=Object(v.d)(m.c.lat,m.c.lon,m.h.zoom,this.mercator),t=Object(v.c)(m.c.lat,m.c.lon,m.h.zoom),n=Object(v.f)(t.x,t.y,m.h.zoom),i=this.mercator.fromGeo(n.lat,n.lon),o=new r.AxesHelper(1e3);this.gridHelper=new r.GridHelper(30*e,30,m.k.grid,m.k.gridMain),this.gridHelper.position.set(i.x,0,i.y-e),this.gridHelper.material.transparent=!0,this.gridHelper.material.opacity=.1,this.scene.add(o),this.scene.add(this.gridHelper)}},{key:"setupListeners",value:function(){var e=this;window.addEventListener("resize",function(t){return e.onResize(t)}),document.addEventListener("keydown",this.onKeyDown.bind(this),!1),document.addEventListener("mousemove",this.onDocumentMouseMove.bind(this),!1)}},{key:"setupSize",value:function(){this.width=window.innerWidth,this.height=window.innerHeight}},{key:"onResize",value:function(){this.setupSize(),this.dpr=window.devicePixelRatio>1?2:1,this.renderer.setPixelRatio(this.dpr),this.renderer.setSize(this.width,this.height),this.camera.aspect=this.width/this.height,this.camera.updateProjectionMatrix(),this.setupComposer()}},{key:"onKeyDown",value:function(e){switch(e.keyCode){case 83:console.log("SAVE camera to LS ==>"),console.log("camera position:",this.camera.position.x.toFixed(2)+", "+this.camera.position.y.toFixed(2)+", "+this.camera.position.z.toFixed(2)),localStorage.setItem(m.j+"savedCamera",JSON.stringify({cameraPosition:this.camera.position,targetPosition:this.controls.target}));break;case 84:this.tilemap&&this.tilemap.saveTiles();break;case 68:console.log("LOAD camera from LS <=="),this.loadCameraFromLS()}}},{key:"onDocumentMouseMove",value:function(e){var t=e.clientX/window.innerWidth*2-1,n=-e.clientY/window.innerHeight*2+1;this.mouse={x:t,y:n}}},{key:"loadCameraFromLS",value:function(){var e=JSON.parse(localStorage.getItem(m.j+"savedCamera"));e&&(this.camera.position.copy(e.cameraPosition),this.camera.lookAt(e.targetPosition),this.controls.target.copy(e.targetPosition))}},{key:"update",value:function(){this.mouse&&this.raycaster.setFromCamera(this.mouse,this.camera),this.controls&&this.controls.update(),this.grid&&this.grid.update(),this.city&&this.city.update(),this.transit&&this.transit.update(),this.tilemap&&this.tilemap.update(),this.its&&this.its.update()}},{key:"render",value:function(){this.renderer.render(this.scene,this.camera)}},{key:"loop",value:function(){var e=this;this.isRunning&&(this.update(),this.composer?this.composer.render():this.render()),this.raf=window.requestAnimationFrame(function(){return e.loop()})}},{key:"makeGlitch",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.25,n={p:1};o.TweenMax.to(n,t,{p:0,onStart:function(){return e.glitchPass.isEnabled=!0},onComplete:function(){return e.glitchPass.isEnabled=!1},onUpdate:function(){return e.glitchPass.byp=n.p}})}},{key:"toggle",value:function(e){this.isRunning=void 0!==e?e:!this.isRunning,console.log("System.toggle():",this.isRunning,e)}}]),e}();t.a=b},function(e,t,n){(function(t){function n(e){if("undefined"===typeof t.THREE)throw new TypeError("You must have THREE in global scope for this module.");return e=e||{},{uniforms:{tDiffuse:{type:"t",value:new THREE.Texture},resolution:{type:"v2",value:e.resolution||new THREE.Vector2}},vertexShader:"#define GLSLIFY 1\nvarying vec2 vUv;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec2 resolution;\n\nvoid main() {\n  vUv = uv;\n  vec2 fragCoord = uv * resolution;\n  vec2 inverseVP = 1.0 / resolution.xy;\n  v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n  v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n  v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n  v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n  v_rgbM = vec2(fragCoord * inverseVP);\n\n  gl_Position = projectionMatrix *\n              modelViewMatrix *\n              vec4(position,1.0);\n}\n",fragmentShader:'#define GLSLIFY 1\nvarying vec2 vUv;\n\n//texcoords computed in vertex step\n//to avoid dependent texture reads\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\n//make sure to have a resolution uniform set to the screen size\nuniform vec2 resolution;\nuniform sampler2D tDiffuse;\n\n/**\nBasic FXAA implementation based on the code on geeks3d.com with the\nmodification that the texture2DLod stuff was removed since it\'s\nunsupported by WebGL.\n\n--\n\nFrom:\nhttps://github.com/mitsuhiko/webgl-meincraft\n\nCopyright (c) 2011 by Armin Ronacher.\n\nSome rights reserved.\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are\nmet:\n\n    * Redistributions of source code must retain the above copyright\n      notice, this list of conditions and the following disclaimer.\n\n    * Redistributions in binary form must reproduce the above\n      copyright notice, this list of conditions and the following\n      disclaimer in the documentation and/or other materials provided\n      with the distribution.\n\n    * The names of the contributors may not be used to endorse or\n      promote products derived from this software without specific\n      prior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\nLIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\nA PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\nOWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\nSPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\nLIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\nDATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\nTHEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\nOF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\n#ifndef FXAA_REDUCE_MIN\n    #define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n    #define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n    #define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent \n//texture reads can be a bottleneck\nvec4 fxaa_1540259130(sampler2D tex, vec2 fragCoord, vec2 resolution,\n            vec2 v_rgbNW, vec2 v_rgbNE, \n            vec2 v_rgbSW, vec2 v_rgbSE, \n            vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n              dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n        texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n        texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n  vec2 fragCoord = vUv * resolution;   \n  gl_FragColor = fxaa_1540259130(tDiffuse, fragCoord, resolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n'}}e.exports=n}).call(t,n(17))},function(e,t,n){"use strict";function i(e,t){function n(){return 2*Math.PI/60/60*L.autoRotateSpeed}function i(){return Math.pow(.95,L.zoomSpeed)}function o(e){W.theta-=e}function a(e){W.phi-=e}function s(e){L.object instanceof r.PerspectiveCamera?H/=e:L.object instanceof r.OrthographicCamera?(L.object.zoom=Math.max(L.minZoom,Math.min(L.maxZoom,L.object.zoom*e)),L.object.updateProjectionMatrix(),V=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),L.enableZoom=!1)}function c(e){L.object instanceof r.PerspectiveCamera?H*=e:L.object instanceof r.OrthographicCamera?(L.object.zoom=Math.max(L.minZoom,Math.min(L.maxZoom,L.object.zoom/e)),L.object.updateProjectionMatrix(),V=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),L.enableZoom=!1)}function u(e){Y.set(e.clientX,e.clientY)}function l(e){Q.set(e.clientX,e.clientY)}function h(e){Z.set(e.clientX,e.clientY)}function d(e){X.set(e.clientX,e.clientY),q.subVectors(X,Y);var t=L.domElement===document?L.domElement.body:L.domElement;o(2*Math.PI*q.x/t.clientWidth*L.rotateSpeed),a(2*Math.PI*q.y/t.clientHeight*L.rotateSpeed),Y.copy(X),L.update()}function f(e){$.set(e.clientX,e.clientY),ee.subVectors($,Q),ee.y>0?s(i()):ee.y<0&&c(i()),Q.copy($),L.update()}function p(e){K.set(e.clientX,e.clientY),J.subVectors(K,Z),ie(J.x,J.y),Z.copy(K),L.update()}function m(e){}function v(e){e.deltaY<0?c(i()):e.deltaY>0&&s(i()),L.update()}function g(e){switch(e.keyCode){case L.keys.UP:ie(0,L.keyPanSpeed),L.update();break;case L.keys.BOTTOM:ie(0,-L.keyPanSpeed),L.update();break;case L.keys.LEFT:ie(L.keyPanSpeed,0),L.update();break;case L.keys.RIGHT:ie(-L.keyPanSpeed,0),L.update()}}function y(e){Y.set(e.touches[0].pageX,e.touches[0].pageY)}function b(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,i=Math.sqrt(t*t+n*n);Q.set(0,i)}function w(e){Z.set(e.touches[0].pageX,e.touches[0].pageY)}function A(e){X.set(e.touches[0].pageX,e.touches[0].pageY),q.subVectors(X,Y);var t=L.domElement===document?L.domElement.body:L.domElement;o(2*Math.PI*q.x/t.clientWidth*L.rotateSpeed),a(2*Math.PI*q.y/t.clientHeight*L.rotateSpeed),Y.copy(X),L.update()}function E(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,r=Math.sqrt(t*t+n*n);$.set(0,r),ee.subVectors($,Q),ee.y>0?c(i()):ee.y<0&&s(i()),Q.copy($),L.update()}function x(e){K.set(e.touches[0].pageX,e.touches[0].pageY),J.subVectors(K,Z),ie(J.x,J.y),Z.copy(K),L.update()}function C(e){}function T(e){if(!1!==L.enabled){switch(e.preventDefault(),e.button){case L.mouseButtons.ORBIT:if(!1===L.enableRotate)return;u(e),F=N.ROTATE;break;case L.mouseButtons.ZOOM:if(!1===L.enableZoom)return;l(e),F=N.DOLLY;break;case L.mouseButtons.PAN:if(!1===L.enablePan)return;h(e),F=N.PAN}F!==N.NONE&&(document.addEventListener("mousemove",S,!1),document.addEventListener("mouseup",M,!1),L.dispatchEvent(B))}}function S(e){if(!1!==L.enabled)switch(e.preventDefault(),F){case N.ROTATE:if(!1===L.enableRotate)return;d(e);break;case N.DOLLY:if(!1===L.enableZoom)return;f(e);break;case N.PAN:if(!1===L.enablePan)return;p(e)}}function M(e){!1!==L.enabled&&(m(e),document.removeEventListener("mousemove",S,!1),document.removeEventListener("mouseup",M,!1),L.dispatchEvent(I),F=N.NONE)}function O(e){!1===L.enabled||!1===L.enableZoom||F!==N.NONE&&F!==N.ROTATE||(e.stopPropagation(),v(e),L.dispatchEvent(B),L.dispatchEvent(I))}function P(e){!1!==L.enabled&&!1!==L.enableKeys&&!1!==L.enablePan&&g(e)}function k(e){if(!1!==L.enabled){switch(e.touches.length){case 1:if(!1===L.enableRotate)return;y(e),F=N.TOUCH_ROTATE;break;case 2:if(!1===L.enableZoom)return;b(e),F=N.TOUCH_DOLLY;break;case 3:if(!1===L.enablePan)return;w(e),F=N.TOUCH_PAN;break;default:F=N.NONE}F!==N.NONE&&L.dispatchEvent(B)}}function _(e){if(!1!==L.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:if(!1===L.enableRotate)return;if(F!==N.TOUCH_ROTATE)return;A(e);break;case 2:if(!1===L.enableZoom)return;if(F!==N.TOUCH_DOLLY)return;E(e);break;case 3:if(!1===L.enablePan)return;if(F!==N.TOUCH_PAN)return;x(e);break;default:F=N.NONE}}function R(e){!1!==L.enabled&&(C(e),L.dispatchEvent(I),F=N.NONE)}function D(e){e.preventDefault()}this.object=e,this.domElement=void 0!==t?t:document,this.enabled=!0,this.target=new r.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!0,this.dampingFactor=.12,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={ORBIT:r.MOUSE.LEFT,ZOOM:r.MOUSE.MIDDLE,PAN:r.MOUSE.RIGHT},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return U.phi},this.getAzimuthalAngle=function(){return U.theta},this.saveState=function(){L.target0.copy(L.target),L.position0.copy(L.object.position),L.zoom0=L.object.zoom},this.reset=function(){L.target.copy(L.target0),L.object.position.copy(L.position0),L.object.zoom=L.zoom0,L.object.updateProjectionMatrix(),L.dispatchEvent(j),L.update(),F=N.NONE},this.update=function(){var t=new r.Vector3,i=(new r.Quaternion).setFromUnitVectors(e.up,new r.Vector3(0,1,0)),a=i.clone().inverse(),s=new r.Vector3,c=new r.Quaternion;return function(){var e=L.object.position;return t.copy(e).sub(L.target),t.applyQuaternion(i),U.setFromVector3(t),L.autoRotate&&F===N.NONE&&o(n()),U.theta+=W.theta,U.phi+=W.phi,U.theta=Math.max(L.minAzimuthAngle,Math.min(L.maxAzimuthAngle,U.theta)),U.phi=Math.max(L.minPolarAngle,Math.min(L.maxPolarAngle,U.phi)),U.makeSafe(),U.radius*=H,U.radius=Math.max(L.minDistance,Math.min(L.maxDistance,U.radius)),L.target.add(G),t.setFromSpherical(U),t.applyQuaternion(a),e.copy(L.target).add(t),L.object.lookAt(L.target),!0===L.enableDamping?(W.theta*=1-L.dampingFactor,W.phi*=1-L.dampingFactor):W.set(0,0,0),H=1,G.set(0,0,0),!!(V||s.distanceToSquared(L.object.position)>z||8*(1-c.dot(L.object.quaternion))>z)&&(L.dispatchEvent(j),s.copy(L.object.position),c.copy(L.object.quaternion),V=!1,!0)}}(),this.dispose=function(){L.domElement.removeEventListener("contextmenu",D,!1),L.domElement.removeEventListener("mousedown",T,!1),L.domElement.removeEventListener("wheel",O,!1),L.domElement.removeEventListener("touchstart",k,!1),L.domElement.removeEventListener("touchend",R,!1),L.domElement.removeEventListener("touchmove",_,!1),document.removeEventListener("mousemove",S,!1),document.removeEventListener("mouseup",M,!1),window.removeEventListener("keydown",P,!1)};var L=this,j={type:"change"},B={type:"start"},I={type:"end"},N={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},F=N.NONE,z=1e-6,U=new r.Spherical,W=new r.Spherical,H=1,G=new r.Vector3,V=!1,Y=new r.Vector2,X=new r.Vector2,q=new r.Vector2,Z=new r.Vector2,K=new r.Vector2,J=new r.Vector2,Q=new r.Vector2,$=new r.Vector2,ee=new r.Vector2,te=function(){var e=new r.Vector3;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),G.add(e)}}(),ne=function(){var e=new r.Vector3;return function(t,n){e.setFromMatrixColumn(n,1),e.multiplyScalar(t),G.add(e)}}(),ie=function(){var e=new r.Vector3;return function(t,n){var i=L.domElement===document?L.domElement.body:L.domElement;if(L.object instanceof r.PerspectiveCamera){var o=L.object.position;e.copy(o).sub(L.target);var a=e.length();a*=Math.tan(L.object.fov/2*Math.PI/180),te(2*t*a/i.clientHeight,L.object.matrix),ne(2*n*a/i.clientHeight,L.object.matrix)}else L.object instanceof r.OrthographicCamera?(te(t*(L.object.right-L.object.left)/L.object.zoom/i.clientWidth,L.object.matrix),ne(n*(L.object.top-L.object.bottom)/L.object.zoom/i.clientHeight,L.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),L.enablePan=!1)}}();L.domElement.addEventListener("contextmenu",D,!1),L.domElement.addEventListener("mousedown",T,!1),L.domElement.addEventListener("wheel",O,{passive:!0}),L.domElement.addEventListener("touchstart",k,!1),L.domElement.addEventListener("touchend",R,!1),L.domElement.addEventListener("touchmove",_,!1),window.addEventListener("keydown",P,!1),this.update()}var r=window.THREE||n(27);i.prototype=Object.create(r.EventDispatcher.prototype),i.prototype.constructor=r.OrbitControls,Object.defineProperties(i.prototype,{center:{get:function(){return console.warn("THREE.OrbitControls: .center has been renamed to .target"),this.target}},noZoom:{get:function(){return console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(e){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!e}},noRotate:{get:function(){return console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),!this.enableRotate},set:function(e){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),this.enableRotate=!e}},noPan:{get:function(){return console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),!this.enablePan},set:function(e){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),this.enablePan=!e}},noKeys:{get:function(){return console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),!this.enableKeys},set:function(e){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),this.enableKeys=!e}},staticMoving:{get:function(){return console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),!this.enableDamping},set:function(e){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),this.enableDamping=!e}},dynamicDampingFactor:{get:function(){return console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor},set:function(e){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor=e}}}),t.a=i},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(27),s=n(122),c=n(98),u=(n.n(c),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),l=function(e){function t(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];i(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.uniforms=a.UniformsUtils.clone(s.a.uniforms),e.material=new a.ShaderMaterial({uniforms:e.uniforms,vertexShader:s.a.vertexShader,fragmentShader:s.a.fragmentShader}),e.camera=new a.OrthographicCamera(-1,1,1,-1,0,1),e.scene=new a.Scene,e.quad=new a.Mesh(new a.PlaneBufferGeometry(2,2),null),e.quad.frustumCulled=!1,e.scene.add(e.quad),e.isEnabled=!1,e.goWild=!1,e.curF=0,e.byp=1,e.generateTrigger(),e}return o(t,e),u(t,[{key:"render",value:function(e,t,n,i,r){this.uniforms.tDiffuse.value=n.texture,this.uniforms.seed.value=Math.random(),this.uniforms.byp.value=this.isEnabled?this.byp:1,this.uniforms.amount.value=Math.random()/80,this.uniforms.angle.value=a.Math.randFloat(-Math.PI,Math.PI),this.uniforms.distortion_x.value=a.Math.randFloat(.1,1),this.uniforms.distortion_y.value=a.Math.randFloat(.1,1),this.uniforms.seed_x.value=a.Math.randFloat(-1,1),this.uniforms.seed_y.value=a.Math.randFloat(-1,1),this.generateTrigger(),this.curF++,this.quad.material=this.material,this.renderToScreen?e.render(this.scene,this.camera):e.render(this.scene,this.camera,t,this.clear)}},{key:"generateTrigger",value:function(){this.randX=a.Math.randInt(120,240)}},{key:"generateHeightmap",value:function(){for(var e=new Float32Array(this.dt_size*this.dt_size*3),t=this.dt_size*this.dt_size,n=0;n<t;n++){var i=a.Math.randFloat(0,1);e[3*n+0]=i,e[3*n+1]=i,e[3*n+2]=i}var r=new a.DataTexture(e,this.dt_size,this.dt_size,a.RGBFormat,a.FloatType);return r.needsUpdate=!0,r}}]),t}(c.RenderPass);t.a=l},function(e,t,n){"use strict";t.a={uniforms:{tDiffuse:{value:null},tDisp:{value:null},byp:{value:0},amount:{value:.08},angle:{value:.02},seed:{value:.02},seed_x:{value:.02},seed_y:{value:.02},distortion_x:{value:.5},distortion_y:{value:.6},col_s:{value:.05}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform int byp;","uniform sampler2D tDiffuse;","uniform sampler2D tDisp;","uniform float amount;","uniform float angle;","uniform float seed;","uniform float seed_x;","uniform float seed_y;","uniform float distortion_x;","uniform float distortion_y;","uniform float col_s;","varying vec2 vUv;","float rand(vec2 co){","return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);","}","void main() {","if(byp<1) {","vec2 p = vUv;","float xs = floor(gl_FragCoord.x / 0.5);","float ys = floor(gl_FragCoord.y / 0.5);","vec4 normal = texture2D (tDisp, p*seed*seed);","if(p.y<distortion_x+col_s && p.y>distortion_x-col_s*seed) {","if(seed_x>0.){","p.y = 1. - (p.y + distortion_y);","}","else {","p.y = distortion_y;","}","}","if(p.x<distortion_y+col_s && p.x>distortion_y-col_s*seed) {","if(seed_y>0.){","p.x=distortion_x;","}","else {","p.x = 1. - (p.x + distortion_x);","}","}","p.x+=normal.x*seed_x*(seed/5.);","p.y+=normal.y*seed_y*(seed/5.);","vec2 offset = amount * vec2( cos(angle), sin(angle));","vec4 cr = texture2D(tDiffuse, p + offset);","vec4 cga = texture2D(tDiffuse, p);","vec4 cb = texture2D(tDiffuse, p - offset);","gl_FragColor = vec4(cr.r, cga.g, cb.b, cga.a);","vec4 snow = 200.*amount*vec4(rand(vec2(xs * seed,ys * seed*50.))*0.2);","gl_FragColor = gl_FragColor+ snow;","}","else {","gl_FragColor=texture2D (tDiffuse, vUv);","}","}"].join("\n")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={uniforms:{tDiffuse:{type:"t",value:null},opacity:{type:"f",value:1}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","vec4 texel = texture2D( tDiffuse, vUv );","gl_FragColor = opacity * texel;","}"].join("\n")};t.CopyShader=i},function(e,t,n){"use strict";function i(e,t,n,o,a){if(!(this instanceof i))return new i(e,t,n,o,a);this.scene=e,this.camera=t,this.overrideMaterial=n,this.clearColor=o,this.clearAlpha=void 0!==a?a:1,this.oldClearColor=new r.Color,this.oldClearAlpha=1,this.enabled=!0,this.clear=!0,this.needsSwap=!1}Object.defineProperty(t,"__esModule",{value:!0}),t.RenderPass=void 0;var r=n(27);i.prototype.render=function(e,t,n,i){this.scene.overrideMaterial=this.overrideMaterial,this.clearColor&&(this.oldClearColor.copy(e.getClearColor()),this.oldClearAlpha=e.getClearAlpha(),e.setClearColor(this.clearColor,this.clearAlpha)),e.render(this.scene,this.camera,n,this.clear),this.clearColor&&e.setClearColor(this.oldClearColor,this.oldClearAlpha),this.scene.overrideMaterial=null},t.RenderPass=i},function(e,t,n){"use strict";function i(e,t){if(!(this instanceof i))return new i(e,t);this.textureID=void 0!==t?t:"tDiffuse",this.uniforms=a.UniformsUtils.clone(e.uniforms),this.material=new a.ShaderMaterial({uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader}),this.renderToScreen=!1,this.enabled=!0,this.needsSwap=!0,this.clear=!1}Object.defineProperty(t,"__esModule",{value:!0}),t.ShaderPass=void 0;var r=n(98),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=n(27);i.prototype.render=function(e,t,n,i){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=n.texture),o.default.quad.material=this.material,this.renderToScreen?e.render(o.default.scene,o.default.camera):e.render(o.default.scene,o.default.camera,t,this.clear)},t.ShaderPass=i},function(e,t,n){"use strict";function i(e,t){if(!(this instanceof i))return new i(e,t);this.scene=e,this.camera=t,this.enabled=!0,this.clear=!0,this.needsSwap=!1,this.inverse=!1}Object.defineProperty(t,"__esModule",{value:!0}),i.prototype.render=function(e,t,n,i){var r=e.context;r.colorMask(!1,!1,!1,!1),r.depthMask(!1);var o,a;this.inverse?(o=0,a=1):(o=1,a=0),r.enable(r.STENCIL_TEST),r.stencilOp(r.REPLACE,r.REPLACE,r.REPLACE),r.stencilFunc(r.ALWAYS,o,4294967295),r.clearStencil(a),e.render(this.scene,this.camera,n,this.clear),e.render(this.scene,this.camera,t,this.clear),r.colorMask(!0,!0,!0,!0),r.depthMask(!0),r.stencilFunc(r.EQUAL,1,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.KEEP)},t.MaskPass=i},function(e,t,n){"use strict";function i(e,t){if(!(this instanceof i))return new i(e,t);this.enabled=!0}Object.defineProperty(t,"__esModule",{value:!0}),i.prototype.render=function(e,t,n,i){var r=e.context;r.disable(r.STENCIL_TEST)},t.ClearMaskPass=i},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=n(27),o=n(29),a=(n.n(o),n(129)),s=n(96),c=n(28),u=n(99),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),h=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.h.zoom;i(this,e),this.system=t,this.zoom=n,this.group=new r.Object3D,this.tileSize=Object(s.d)(c.c.lat,c.c.lon,this.zoom,this.system.mercator),this.grid=[],this.tiles=Object(u.b)();var o=Object(s.c)(51.042667,16.807339,this.zoom),a=Object(s.f)(o.x,o.y,this.zoom);this.positionStart=this.system.mercator.fromGeo(a.lat,a.lon),this.system.scene.add(this.group)}return l(e,[{key:"makeGrid",value:function(){var e=this;this.tiles.forEach(function(t,n){var i=Object(s.f)(t.x,t.y,t.z),u=e.system.mercator.fromGeo(i.lat,i.lon),l=new r.SphereBufferGeometry(5,4,4),h=new r.MeshBasicMaterial({color:c.k.gridDots,transparent:!0,depthTest:!1}),d=new r.Mesh(l,h);d.position.x=n%2?e.positionStart.x:u.x,d.position.z=n%2?u.y:e.positionStart.y,d.position.y=0,o.TweenMax.to(d.position,.8,{x:u.x,z:u.y,delay:.01*n,ease:o.TweenMax.SlowMo.ease.config(.1,.4,!1),onComplete:function(){t.crosspoint=new a.a(e.group,d.position)}}),e.group.add(d)})}},{key:"init",value:function(){this.makeGrid()}},{key:"update",value:function(){}}]),e}();t.a=h},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=n(27),o=n(29),a=(n.n(o),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),s=function(){function e(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#007777";i(this,e),this.size=o,this.color=new r.Color(a),this.parentGroup=t,this.group=new r.Object3D,this.createCrossPoint(n)}return a(e,[{key:"createCrossPoint",value:function(e){var t=new r.LineBasicMaterial({color:this.color});this.group.position.set(e.x,e.y,e.z);var n=new r.Geometry;n.vertices.push(new r.Vector3(-this.size,0,0)),n.vertices.push(new r.Vector3(this.size,0,0));var i=new r.Geometry;i.vertices.push(new r.Vector3(0,0,-this.size)),i.vertices.push(new r.Vector3(0,0,this.size));var a=new r.Line(n,t),s=new r.Line(i,t);this.group.scale.set(.01,.01,.01),o.TweenMax.fromTo(this.group.scale,2.75,{x:25,z:25},{x:1,z:1,ease:o.TweenMax.Elastic.easeOut.config(1,.1),onStart:function(){}}),this.group.add(a),this.group.add(s),this.parentGroup.add(this.group)}}]),e}();t.a=s},function(e,t){function n(e,t){for(var n=i(e[1][1],e[0][0],t),r=i(e[0][1],e[1][0],t),o=[],a=n.x;a<=r.x;a++)for(var s=n.y;s<=r.y;s++)o.push({x:a,y:s,z:t});return o}function i(e,t,n){var i=Math.PI/180,s=Math.max(Math.min(Math.sin(e*i),1-1e-15),-(1-1e-15)),c=256*Math.pow(2,n),u={x:o*t*i,y:o*Math.log((1+s)/(1-s))/2};return u.x=r(c*(a*u.x+.5)),u.y=r(c*(-a*u.y+.5)),u}function r(e){return Math.floor(e/256)}var o=6378137,a=.5/(Math.PI*o);e.exports=function(e,t,i){var r,o,a=[];i?i<t?(r=i,o=t):(r=t,o=i):o=r=t;for(var s=r;s<=o;s++)a=a.concat(n(e,s));return a}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=n(27),o=n(29),a=(n.n(o),n(28)),s=n(132),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function(){function e(t){i(this,e),this.system=t,this.buildings=[],this.models={},this.group=new r.Object3D,this.system.scene.add(this.group),this.load()}return c(e,[{key:"load",value:function(){var e=this;a.f.forEach(function(t){return e.loadBuilding(t)}),a.g.forEach(function(t){return e.loadBuilding(t,!0)}),this.system.loaderJSON.load("models/wroclaw-boundary.json",function(t){var n=new r.LineSegments(new r.EdgesGeometry(t),s.a);e.models.boundary=n}),this.system.loaderJSON.load("models/water_lowp.json",function(t){var n=new r.Mesh(t,s.c);e.models.water=n})}},{key:"loadBuilding",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.system.loaderJSON.load("models/buildings/"+e,function(e){var i=new r.LineSegments(new r.EdgesGeometry(e),s.b),o=new r.Mesh(e,s.d);t.buildings.push({isBuilt:!1,isLazy:n,edges:i,mesh:o})})}},{key:"buildModels",value:function(e){var t=this;o.TweenMax.staggerFromTo(this.buildings.filter(function(t){return!t.isBuilt&&!t.isBuilding&&(!t.isLazy||e)}),.5+2.5*Math.random(),{__p:0},{__p:1,delay:0,ease:o.TweenMax.Bounce.easeOut,onStartParams:["{self}"],onStart:function(e){e.target.isBuilding=!0,e.target.edges.scale.set(1,.01,1),t.group.add(e.target.edges)},onUpdateParams:["{self}"],onUpdate:function(e){e.target.edges.scale.set(1,e.target.__p,1)},onCompleteParams:["{self}"],onComplete:function(e){e.target.isBuilt=!0}},.25)}},{key:"addModels",value:function(){var e=this;Object.keys(this.models).forEach(function(t){e.group.add(e.models[t])})}},{key:"init",value:function(){this.addModels(),this.buildModels()}},{key:"initLate",value:function(){this.buildModels(!0)}},{key:"update",value:function(){}}]),e}();t.a=u},function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"c",function(){return s});var i=n(27),r=new i.MeshBasicMaterial({color:3447003,side:i.DoubleSide,transparent:!0,wireframe:!0,blending:i.AdditiveBlending,precision:"lowp"}),o=(new i.MeshBasicMaterial({color:1118481,side:i.DoubleSide}),new i.LineBasicMaterial({color:3447003,transparent:!0,blending:i.AdditiveBlending})),a=new i.LineBasicMaterial({color:16711824}),s=new i.MeshBasicMaterial({color:3447003,side:i.DoubleSide})},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=n(27),o=n(29),a=(n.n(o),n(96)),s=n(28),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function(){function e(t){i(this,e),this.system=t,this.currentType=null,this.group=new r.Object3D,this.system.scene.add(this.group),this.vertices=[],this.load()}return c(e,[{key:"load",value:function(){var e=this;this.system.loaderFile.load("data/mpk.json",function(t){e.prepareData(JSON.parse(t))})}},{key:"prepareData",value:function(e){var t=this;this.data=e.lines.map(function(n){return Object.assign({},n,{model:null,isActive:!1,code:s.p[n.type].code,color:s.p[n.type].color,points:t.getPoints(n.name,e.busStops)})})}},{key:"getPoints",value:function(e,t){var n=this;return((t.find(function(t){return t.name===e})||{}).coords||[]).map(function(e){return n.system.mercator.fromGeo(parseFloat(e.lat),parseFloat(e.lon))})}},{key:"createModels",value:function(){var e=this;this.data.filter(function(e){return e.points.length>0}).forEach(function(t){t.model=e.getLineModel(t.points,t.color),e.group.add(t.model)})}},{key:"getLineModel",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=Object(a.b)(32,t,r),o=(new r.PointsMaterial({size:3,transparent:!0,sizeAttenuation:!1,map:i,blending:r.AdditiveBlending,depthWrite:!1,opacity:.3}),new r.LineBasicMaterial({color:new r.Color(t),transparent:!0,opacity:.2,blending:r.AdditiveBlending})),s=e.map(function(e){return new r.Vector3(e.x,0,e.y)});this.vertices=this.vertices.concat(s);var c=new r.CatmullRomCurve3(s),u=(new r.Geometry).setFromPoints(c.getPoints(n));return new r.Line(u,o)}},{key:"activate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.p.ITS;this.currentType!==e.code&&e.code!==s.p.ITS.code?this.data.filter(function(e){return e.points.length>0}).forEach(function(t){o.TweenMax.to(t.model.material,1.2,{opacity:t.code===e.code?.7:0})}):e.code===s.p.ITS.code&&this.data.filter(function(e){return e.points.length>0}).forEach(function(e){o.TweenMax.to(e.model.material,1.2,{opacity:.3})}),this.currentType=e.code}},{key:"update",value:function(){this.blob&&(this.blob.rotation.x+=(.00123+.023411*Math.cos(this.system.clock.getElapsedTime()))/10,this.blob.rotation.z+=(.00154+.01*Math.sin(this.system.clock.getElapsedTime()))/10)}},{key:"init",value:function(){this.createModels()}}]),e}();t.a=u},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=n(27),o=n(29),a=(n.n(o),n(28)),s=n(96),c=n(99),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.h.zoom;i(this,e),this.system=t,this.isReady=!1,this.activeTile=null,this.zoom=n,this.tileSize=Object(s.d)(a.c.lat,a.c.lon,this.zoom,this.system.mercator),this.group=new r.Object3D,this.system.scene.add(this.group),this.loadingManager=new r.LoadingManager,this.loadingManager.onLoad=this.onComplete.bind(this),this.loader=new r.TextureLoader(this.loadingManager),this.loader.crossOrigin="Anonymous",this.centerXY=Object(s.c)(a.e.lat,a.e.lon,this.zoom),this.tiles=[],this.createTiles(),this.onComplete=this.onComplete.bind(this),this.system.options.editable&&this.createDummyIntersection()}return u(e,[{key:"createDummyIntersection",value:function(){var e=new r.TextureLoader,t=e.load("gfx/stripe_white_diagonal.png");t.wrapS=r.RepeatWrapping,t.wrapT=r.RepeatWrapping,t.repeat.set(6,6);var n=new r.PlaneGeometry(this.tileSize,this.tileSize,4),i=new r.MeshBasicMaterial({transparent:!0,opacity:0,map:t});this.dummyTile=new r.Mesh(n,i),this.dummyTile._isDummy=!0,this.dummyTile.rotation.x=-a.m,this.dummyTile.position.y=25,this.group.add(this.dummyTile);var o=new r.PlaneGeometry(30*this.tileSize,30*this.tileSize,4),s=new r.MeshBasicMaterial({color:3426654,transparent:!0,opacity:0});this.dummyPlane=new r.Mesh(o,s),this.dummyPlane.position.y=50,this.dummyPlane.rotation.x=-a.m,this.dummyPlane._isDummy=!0,this.group.add(this.dummyPlane)}},{key:"createTile",value:function(e,t,n){var i=Object(s.f)(e,t,n),r=Object(s.f)(e+1,t+1,n),o={lat:(i.lat+r.lat)/2,lon:(i.lon+r.lon)/2},c=Math.hypot(Math.abs(o.lat-a.e.lat),Math.abs(o.lon-a.e.lon));return{x:e,y:t,z:n,position:this.system.mercator.fromGeo(i.lat,i.lon),distance:c}}},{key:"addTile",value:function(e,t,n){var i=this.createTile(e,t,n);this.tiles.push(i),this.createTileMesh(i)}},{key:"removeTile",value:function(e){var t=this,n=this.tiles.findIndex(function(t){return t.mesh.id===e});this.tiles.splice(n,1);var i=this.group.getObjectById(e);i._isAnimating=!0,o.TweenMax.to(i.rotation,1.5,{x:a.l,ease:o.TweenMax.Elastic.easeInOut.config(1.2,.2),onComplete:function(){t.group.remove(i)}})}},{key:"createTiles",value:function(){var e=this;this.tiles=Object(c.a)().map(function(t){return e.createTile(t.x,t.y,t.z)}).sort(function(e,t){return e.distance-t.distance}).map(function(e,t){return Object.assign(e,{id:t})}),this.tiles.forEach(function(t){return e.createTileMesh(t)})}},{key:"createTileMesh",value:function(e){var t=this,n=e.z,i=e.x,o=e.y,s=document.createElement("canvas");s.width=256,s.height=256;var c=s.getContext("2d");c.fillStyle="white",this.loader.load(a.n.local(i,o,n),function(n){var i=n.image;c.drawImage(i,0,0);var o=new r.Texture(s);o.needsUpdate=!0;var u=new r.PlaneGeometry(t.tileSize,t.tileSize,4),l=new r.MeshBasicMaterial({map:o,transparent:!0,opacity:1,depthTest:!1,blending:r.AdditiveBlending});e.mesh=new r.Mesh(u,l),e.mesh.position.x=e.position.x+t.tileSize/2,e.mesh.position.z=e.position.y+t.tileSize/2,e.mesh.position.y=-10,e.mesh.rotation.x=-a.m,e.mesh.scale.set(.01,.01,.01),e.mesh._x=e.x,e.mesh._y=e.y,e.mesh._z=e.z,t.buildTile(e),t.group.add(e.mesh)})}},{key:"buildTile",value:function(e){o.TweenMax.fromTo(e,2.5,{_scale:.01,_opacity:0},{_scale:1,_opacity:a.h.tilesOpacity,delay:.01*e.id,ease:o.TweenMax.Elastic.easeInOut.config(1.2,.2),onUpdate:function(){e.mesh.scale.set(e._scale,e._scale,e._scale),e.mesh.material.opacity=e._opacity}})}},{key:"buildTiles",value:function(){o.TweenMax.staggerFromTo(this.tiles,2.5,{_scale:.01,_opacity:0},{_scale:1,_opacity:.33,ease:o.TweenMax.Elastic.easeInOut.config(1.2,.2),onUpdateParams:["{self}"],onUpdate:function(e){e.target.mesh.scale.set(e.target._scale,e.target._scale,e.target._scale),e.target.mesh.material.opacity=e.target._opacity}},.01,this.onComplete)}},{key:"onComplete",value:function(){this.isReady=!0}},{key:"checkDummyIntersection",value:function(){var e=this.system.raycaster.intersectObject(this.dummyPlane);if(e.length>0&&null===this.activeTile){var t=e[0].point,n=t.x,i=t.z,r=this.system.mercator.fromXY(n,-i),o=Object(s.c)(r.lat,r.lon,this.zoom);if(!this.activeDummy||!Object(s.e)(this.activeDummy,o)){var a=Object(s.f)(o.x,o.y,this.zoom),c=this.system.mercator.fromGeo(a.lat,a.lon);this.dummyTile.material.opacity=.5,this.dummyTile.position.x=c.x+this.tileSize/2,this.dummyTile.position.z=c.y+this.tileSize/2,this.activeDummy=o}}else this.dummyTile.material.opacity=0,this.activeDummy=null}},{key:"saveTiles",value:function(){console.log("-- SAVING tiles");var e=this.tiles.map(function(e){return{x:e.x,y:e.y,z:e.z}});localStorage.setItem(a.j+"tiles",JSON.stringify(e))}},{key:"update",value:function(){var e=this;if(this.isReady&&this.system.mouse&&this.system.options.editable){var t=this.system.raycaster.intersectObjects(this.group.children.filter(function(e){return!e._isDummy}));if(t.length>0){if(!this.activeTile||this.activeTile!==t[0].object.id){this.activeTile=t[0].object.id;var n=new o.TimelineLite;t[0].object._isAnimating||(n.to(t[0].object.scale,.15,{x:.75,y:.75,onStart:function(){t[0].object._isAnimating=!0}}),n.to(t[0].object.scale,.15,{x:1,y:1,ease:o.TweenMax.Elastic.easeOut.config(1.2,.2),onComplete:function(){t[0].object._wasActive=!0,t[0].object._isAnimating=!1}}),t[0].object.material.opacity=1)}}else this.activeTile=null;this.group.children.filter(function(t){return t._wasActive&&!t._isAnimating&&t.id!==e.activeTile&&!t._isDummy}).forEach(function(e){e.material.opacity=a.h.tilesOpacity,e._wasActive=!1,e._isAnimating=!1}),this.checkDummyIntersection()}}},{key:"onDocumentMouseDown",value:function(e){!this.activeTile&&this.activeDummy?(this.addTile(this.activeDummy.x,this.activeDummy.y,this.zoom),this.activeTile=null):this.activeTile&&!this.activeDummy&&this.removeTile(this.activeTile)}},{key:"init",value:function(){this.system.options.editable&&document.addEventListener("mousedown",this.onDocumentMouseDown.bind(this),!1)}}]),e}();t.a=l},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=n(27),o=n(136),a=n.n(o),s=n(28),c=(n(96),n(29)),u=(n.n(c),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),l=function(){function e(t){i(this,e),this.system=t,this.group=new r.Object3D,this.ring=new r.Object3D,this.marker=new r.Object3D,this.points=new r.Object3D,this.positions=[],this.group.add(this.points),this.group.add(this.marker),this.system.scene.add(this.group),this.loadingManager=new r.LoadingManager,this.loadingManager.onLoad=this.onComplete.bind(this),this.loader=new r.FileLoader(this.loadingManager),this.loader.crossOrigin="Anonymous",this.setupSpheres(),this.setupRadar(),this.setLocation(s.d),this.loadData(),this.interval=setInterval(this.loadData.bind(this),s.i)}return u(e,[{key:"setupSpheres",value:function(){var e=this,t=[1,1,.7,.7],n=s.l;t.forEach(function(t,i){var o=n*i,a=new r.RingGeometry(990*t,1e3*t,12,1,0,s.l/2),c=new r.MeshBasicMaterial({color:15844367,transparent:!0}),u=new r.Mesh(a,c);u.position.y=100,u.rotation.z=o,u.rotation.x=-s.m,e.ring.add(u)}),this.marker.add(this.ring)}},{key:"setupRadar",value:function(){var e=new r.RingGeometry(142.5,150,32,1),t=new r.MeshBasicMaterial({color:1752220,wireframe:!0,transparent:!0,opacity:.2,blending:r.AdditiveBlending}),n=new r.Mesh(e,t);n.rotation.x=-s.m,this.marker.add(n);var i={scale:0,opacity:1};c.TweenMax.fromTo(i,2.5,{scale:0,opacity:1},{scale:10,opacity:0,ease:c.TweenMax.Power4.easeIn,repeat:-1,onUpdate:function(){n.material.opacity=i.opacity,n.scale.set(i.scale,i.scale,1)}})}},{key:"setLocation",value:function(e){var t=this.system.mercator.fromGeo(e.lat,e.lon);this.location=e,this.marker.children.forEach(function(e){e.position.x=t.x,e.position.z=t.y})}},{key:"loadData",value:function(){var e=this;console.log("loading data @",(new Date).toISOString());var t=new FormData;["a","c","d","k","n","100","101","103","104","105","107","109","110","113","114","115","116","118","119","120","122","125","126","127","128","129","130","131","132","133","134","136","140","141","142","144","145","146","147","149","240","241","243","245","246","247","249","250","251","253","255","257","259","102","106","108","112","148","150","206","248","319","325","331","602","607","609","612"].forEach(function(e){return t.append("busList[bus][]",e)}),["0P","0L","1","2","3","4","5","6","7","8","9","10","11","14","15","17","20","23","24","31","32","33"].forEach(function(e){return t.append("busList[tram][]",e)}),a.a.post("https://cors-anywhere.herokuapp.com/http://mpk.wroc.pl/position.php",t).then(function(t){return e.processData(t.data)})}},{key:"processData",value:function(e){var t=this;e.forEach(function(e){var n=t.positions.find(function(t){return e.k===t.k});if(n){var i=t.system.mercator.fromGeo(parseFloat(e.x),parseFloat(e.y));c.TweenMax.to(n.mesh.position,Math.round(s.i/1e3),{x:i.x,z:i.y,ease:c.TweenMax.Linear.easeNone,onComplete:function(){n.x=i.x,n.y=i.y}})}else{var o=t.system.mercator.fromGeo(parseFloat(e.x),parseFloat(e.y)),a="bus"===e.type?2600544:3447003,u=new r.OctahedronGeometry(25,1),l=new r.MeshBasicMaterial({color:a,wireframe:!0,transparent:!0,opacity:.5,blending:r.AdditiveBlending}),h=new r.Mesh(u,l);h.position.x=o.x,h.position.z=o.y,t.points.add(h);var d=Object.assign({},e,{mesh:h});t.positions.push(d)}})}},{key:"onComplete",value:function(){}},{key:"update",value:function(){var e=this;this.ring.children.forEach(function(t,n){var i=2*e.system.clock.getElapsedTime(),r=(Math.sin,n>1?-1:1);t.rotation.z+=r*(.05+.03*Math.sin(i))})}},{key:"init",value:function(){}}]),e}();t.a=l},function(e,t,n){e.exports=n(137)},function(e,t,n){"use strict";function i(e){var t=new a(e),n=o(a.prototype.request,t);return r.extend(n,a.prototype,t),r.extend(n,t),n}var r=n(95),o=n(100),a=n(139),s=n(97),c=i(s);c.Axios=a,c.create=function(e){return i(r.merge(s,e))},c.Cancel=n(104),c.CancelToken=n(154),c.isCancel=n(103),c.all=function(e){return Promise.all(e)},c.spread=n(155),e.exports=c,e.exports.default=c},function(e,t){function n(e){return!!e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function i(e){return"function"===typeof e.readFloatLE&&"function"===typeof e.slice&&n(e.slice(0,0))}e.exports=function(e){return null!=e&&(n(e)||i(e)||!!e._isBuffer)}},function(e,t,n){"use strict";function i(e){this.defaults=e,this.interceptors={request:new a,response:new a}}var r=n(97),o=n(95),a=n(149),s=n(150);i.prototype.request=function(e){"string"===typeof e&&(e=o.merge({url:arguments[0]},arguments[1])),e=o.merge(r,this.defaults,{method:"get"},e),e.method=e.method.toLowerCase();var t=[s,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},o.forEach(["delete","get","head","options"],function(e){i.prototype[e]=function(t,n){return this.request(o.merge(n||{},{method:e,url:t}))}}),o.forEach(["post","put","patch"],function(e){i.prototype[e]=function(t,n,i){return this.request(o.merge(i||{},{method:e,url:t,data:n}))}}),e.exports=i},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function r(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function o(e){if(h===clearTimeout)return clearTimeout(e);if((h===i||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(e);try{return h(e)}catch(t){try{return h.call(null,e)}catch(t){return h.call(this,e)}}}function a(){m&&f&&(m=!1,f.length?p=f.concat(p):v=-1,p.length&&s())}function s(){if(!m){var e=r(a);m=!0;for(var t=p.length;t;){for(f=p,p=[];++v<t;)f&&f[v].run();v=-1,t=p.length}f=null,m=!1,o(e)}}function c(e,t){this.fun=e,this.array=t}function u(){}var l,h,d=e.exports={};!function(){try{l="function"===typeof setTimeout?setTimeout:n}catch(e){l=n}try{h="function"===typeof clearTimeout?clearTimeout:i}catch(e){h=i}}();var f,p=[],m=!1,v=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new c(e,t)),1!==p.length||m||r(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=u,d.addListener=u,d.once=u,d.off=u,d.removeListener=u,d.removeAllListeners=u,d.emit=u,d.prependListener=u,d.prependOnceListener=u,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,n){"use strict";var i=n(95);e.exports=function(e,t){i.forEach(e,function(n,i){i!==t&&i.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[i])})}},function(e,t,n){"use strict";var i=n(102);e.exports=function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(i("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";e.exports=function(e,t,n,i,r){return e.config=t,n&&(e.code=n),e.request=i,e.response=r,e}},function(e,t,n){"use strict";function i(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var r=n(95);e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var a=[];r.forEach(t,function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)&&(t+="[]"),r.isArray(e)||(e=[e]),r.forEach(e,function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(i(t)+"="+i(e))}))}),o=a.join("&")}return o&&(e+=(-1===e.indexOf("?")?"?":"&")+o),e}},function(e,t,n){"use strict";var i=n(95),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,a={};return e?(i.forEach(e.split("\n"),function(e){if(o=e.indexOf(":"),t=i.trim(e.substr(0,o)).toLowerCase(),n=i.trim(e.substr(o+1)),t){if(a[t]&&r.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}}),a):a}},function(e,t,n){"use strict";var i=n(95);e.exports=i.isStandardBrowserEnv()?function(){function e(e){var t=e;return n&&(r.setAttribute("href",t),t=r.href),r.setAttribute("href",t),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}var t,n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");return t=e(window.location.href),function(n){var r=i.isString(n)?e(n):n;return r.protocol===t.protocol&&r.host===t.host}}():function(){return function(){return!0}}()},function(e,t,n){"use strict";function i(){this.message="String contains an invalid character"}function r(e){for(var t,n,r=String(e),a="",s=0,c=o;r.charAt(0|s)||(c="=",s%1);a+=c.charAt(63&t>>8-s%1*8)){if((n=r.charCodeAt(s+=.75))>255)throw new i;t=t<<8|n}return a}var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.prototype=new Error,i.prototype.code=5,i.prototype.name="InvalidCharacterError",e.exports=r},function(e,t,n){"use strict";var i=n(95);e.exports=i.isStandardBrowserEnv()?function(){return{write:function(e,t,n,r,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),i.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),i.isString(r)&&s.push("path="+r),i.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},function(e,t,n){"use strict";function i(){this.handlers=[]}var r=n(95);i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=i},function(e,t,n){"use strict";function i(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var r=n(95),o=n(151),a=n(103),s=n(97),c=n(152),u=n(153);e.exports=function(e){return i(e),e.baseURL&&!c(e.url)&&(e.url=u(e.baseURL,e.url)),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||s.adapter)(e).then(function(t){return i(e),t.data=o(t.data,t.headers,e.transformResponse),t},function(t){return a(t)||(i(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,n){"use strict";var i=n(95);e.exports=function(e,t,n){return i.forEach(n,function(n){e=n(e,t)}),e}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new r(e),t(n.reason))})}var r=n(104);i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i(function(t){e=t}),cancel:e}},e.exports=i},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){e.exports=function(e){function t(t,n){if(this.renderer=t,void 0===n){var o=window.innerWidth||1,a=window.innerHeight||1,s={minFilter:e.LinearFilter,magFilter:e.LinearFilter,format:e.RGBFormat,stencilBuffer:!1};n=new e.WebGLRenderTarget(o,a,s)}this.renderTarget1=n,this.renderTarget2=n.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.passes=[],this.copyPass=new r(i)}var i=t.CopyShader=n(157),r=(t.RenderPass=n(158)(e),t.ShaderPass=n(159)(e,t)),o=t.MaskPass=n(160)(e),a=t.ClearMaskPass=n(161)(e);return t.prototype={swapBuffers:function(){var e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e},addPass:function(e){this.passes.push(e)},insertPass:function(e,t){this.passes.splice(t,0,e)},render:function(e){this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2;var t,n,i=!1,r=this.passes.length;for(n=0;n<r;n++)if(t=this.passes[n],t.enabled){if(t.render(this.renderer,this.writeBuffer,this.readBuffer,e,i),t.needsSwap){if(i){var s=this.renderer.context;s.stencilFunc(s.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),s.stencilFunc(s.EQUAL,1,4294967295)}this.swapBuffers()}t instanceof o?i=!0:t instanceof a&&(i=!1)}},reset:function(e){void 0===e&&(e=this.renderTarget1.clone(),e.width=window.innerWidth,e.height=window.innerHeight),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2},setSize:function(e,t){var n=this.renderTarget1.clone();n.width=e,n.height=t,this.reset(n)}},t.camera=new e.OrthographicCamera(-1,1,1,-1,0,1),t.quad=new e.Mesh(new e.PlaneGeometry(2,2),null),t.scene=new e.Scene,t.scene.add(t.quad),t}},function(e,t){e.exports={uniforms:{tDiffuse:{type:"t",value:null},opacity:{type:"f",value:1}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","vec4 texel = texture2D( tDiffuse, vUv );","gl_FragColor = opacity * texel;","}"].join("\n")}},function(e,t){e.exports=function(e){function t(n,i,r,o,a){if(!(this instanceof t))return new t(n,i,r,o,a);this.scene=n,this.camera=i,this.overrideMaterial=r,this.clearColor=o,this.clearAlpha=void 0!==a?a:1,this.oldClearColor=new e.Color,this.oldClearAlpha=1,this.enabled=!0,this.clear=!0,this.needsSwap=!1}return t.prototype={render:function(e,t,n,i){this.scene.overrideMaterial=this.overrideMaterial,this.clearColor&&(this.oldClearColor.copy(e.getClearColor()),this.oldClearAlpha=e.getClearAlpha(),e.setClearColor(this.clearColor,this.clearAlpha)),e.render(this.scene,this.camera,n,this.clear),this.clearColor&&e.setClearColor(this.oldClearColor,this.oldClearAlpha),this.scene.overrideMaterial=null}},t}},function(e,t){e.exports=function(e,t){function n(t,i){if(!(this instanceof n))return new n(t,i);this.textureID=void 0!==i?i:"tDiffuse",this.uniforms=e.UniformsUtils.clone(t.uniforms),this.material=new e.ShaderMaterial({uniforms:this.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader}),this.renderToScreen=!1,this.enabled=!0,this.needsSwap=!0,this.clear=!1}return n.prototype={render:function(e,n,i,r){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=i),t.quad.material=this.material,this.renderToScreen?e.render(t.scene,t.camera):e.render(t.scene,t.camera,n,this.clear)}},n}},function(e,t){e.exports=function(e){function t(e,n){if(!(this instanceof t))return new t(e,n);this.scene=e,this.camera=n,this.enabled=!0,this.clear=!0,this.needsSwap=!1,this.inverse=!1}return t.prototype={render:function(e,t,n,i){var r=e.context;r.colorMask(!1,!1,!1,!1),r.depthMask(!1);var o,a;this.inverse?(o=0,a=1):(o=1,a=0),r.enable(r.STENCIL_TEST),r.stencilOp(r.REPLACE,r.REPLACE,r.REPLACE),r.stencilFunc(r.ALWAYS,o,4294967295),r.clearStencil(a),e.render(this.scene,this.camera,n,this.clear),e.render(this.scene,this.camera,t,this.clear),r.colorMask(!0,!0,!0,!0),r.depthMask(!0),r.stencilFunc(r.EQUAL,1,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.KEEP)}},t}},function(e,t){e.exports=function(e){function t(){if(!(this instanceof t))return new t(scene,camera);this.enabled=!0}return t.prototype={render:function(e,t,n,i){var r=e.context;r.disable(r.STENCIL_TEST)}},t}}]));
//# sourceMappingURL=0.51ecc919.chunk.js.map