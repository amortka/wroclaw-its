{"version":3,"sources":["../static/js/0.51ecc919.chunk.js","components/core/Core.js","../node_modules/axios/lib/utils.js","components/world/Calc.js","../node_modules/axios/lib/defaults.js","../node_modules/three-effectcomposer-es6/dist/index.js","components/world/Common.js","../node_modules/axios/lib/helpers/bind.js","../node_modules/axios/lib/adapters/xhr.js","../node_modules/axios/lib/core/createError.js","../node_modules/axios/lib/cancel/isCancel.js","../node_modules/axios/lib/cancel/Cancel.js","components/ui/UI.js","webpack:///./src/components/ui/style.css?e21e","components/ui/style.css","components/onepage/Onepage.js","webpack:///./src/components/onepage/style.css?966b","components/onepage/style.css","components/fullpage/Fullpage.js","webpack:///./src/components/fullpage/style.css?3da0","components/fullpage/style.css","components/tile/Tile.js","webpack:///./src/components/tile/style.css?2405","components/tile/style.css","components/world/index.js","components/world/System.js","../node_modules/three-shader-fxaa/build/index.js","lib/OrbitControls.js","lib/GlitchPass.js","lib/shaders/digitalGlitch.js","../node_modules/three-effectcomposer-es6/dist/lib/copyshader.js","../node_modules/three-effectcomposer-es6/dist/lib/renderpass.js","../node_modules/three-effectcomposer-es6/dist/lib/shaderpass.js","../node_modules/three-effectcomposer-es6/dist/lib/maskpass.js","../node_modules/three-effectcomposer-es6/dist/lib/clearmaskpass.js","components/world/Grid.js","components/world/Crosspoint.js","../node_modules/xyz-affair/index.js","components/world/City.js","components/world/materials.js","components/world/Transit.js","components/world/Tilemap.js","components/world/ITS.js","../node_modules/axios/index.js","../node_modules/axios/lib/axios.js","../node_modules/is-buffer/index.js","../node_modules/axios/lib/core/Axios.js","../node_modules/process/browser.js","../node_modules/axios/lib/helpers/normalizeHeaderName.js","../node_modules/axios/lib/core/settle.js","../node_modules/axios/lib/core/enhanceError.js","../node_modules/axios/lib/helpers/buildURL.js","../node_modules/axios/lib/helpers/parseHeaders.js","../node_modules/axios/lib/helpers/isURLSameOrigin.js","../node_modules/axios/lib/helpers/btoa.js","../node_modules/axios/lib/helpers/cookies.js","../node_modules/axios/lib/core/InterceptorManager.js","../node_modules/axios/lib/core/dispatchRequest.js","../node_modules/axios/lib/core/transformData.js","../node_modules/axios/lib/helpers/isAbsoluteURL.js","../node_modules/axios/lib/helpers/combineURLs.js","../node_modules/axios/lib/cancel/CancelToken.js","../node_modules/axios/lib/helpers/spread.js","../node_modules/three-effectcomposer/index.js","../node_modules/three-copyshader/index.js","../node_modules/three-effectcomposer/lib/renderpass.js","../node_modules/three-effectcomposer/lib/shaderpass.js","../node_modules/three-effectcomposer/lib/maskpass.js","../node_modules/three-effectcomposer/lib/clearmaskpass.js"],"names":["webpackJsonp","Array","concat","module","__webpack_exports__","__webpack_require__","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_0_react___default","n","__WEBPACK_IMPORTED_MODULE_1__ui_UI__","__WEBPACK_IMPORTED_MODULE_4__world___","__WEBPACK_IMPORTED_MODULE_5__world_constants__","_createClass","defineProperties","target","props","i","length","descriptor","key","protoProps","staticProps","Core","_Component","this","_this","getPrototypeOf","state","activated","section","code","skipNextActivation","isWorldInitialized","world","types","onWordLoad","bind","type","system","transit","activate","makeGlitch","toggle","setState","_worldComponent","next","isRunning","activateType","_this2","WorldModule","a","createElement","className","actions","isVisible","debug","editable","ref","child","onLoad","exports","isArray","val","toString","isArrayBuffer","isFormData","FormData","isArrayBufferView","ArrayBuffer","isView","buffer","isString","isNumber","isUndefined","isObject","isDate","isFile","isBlob","isFunction","isStream","pipe","isURLSearchParams","URLSearchParams","trim","str","replace","isStandardBrowserEnv","navigator","product","window","document","forEach","obj","fn","l","hasOwnProperty","merge","assignValue","result","arguments","extend","b","thisArg","isBuffer","deg2rad","deg","__WEBPACK_IMPORTED_MODULE_0__constants__","rad2deg","rad","Mercator","lat","lon","factor","undefined","latInRadians","k","radius","fromGeo","inLat","inLon","Math","sin","cos","x","log","y","atan","tan","fromXY","px","py","D","sinh","asin","cosh","geo2tile","zoom","floor","pow","PI","tile2geo","z","exp","getTileSize","mercator","tile","coordsNW","coordsSE","posNW","posSE","ceil","abs","generateSprite","size","tint","THREE","canvas","width","height","context","getContext","gradient","createRadialGradient","addColorStop","fillStyle","fillRect","globalCompositeOperation","texture","Texture","needsUpdate","isEqualTile","t1","t2","process","setContentTypeIfUnset","headers","utils","normalizeHeaderName","DEFAULT_CONTENT_TYPE","Content-Type","defaults","adapter","XMLHttpRequest","transformRequest","data","JSON","stringify","transformResponse","parse","e","timeout","xsrfCookieName","xsrfHeaderName","maxContentLength","validateStatus","status","common","Accept","method","EffectComposer","renderer","renderTarget","innerWidth","innerHeight","parameters","minFilter","_three","LinearFilter","magFilter","format","RGBFormat","stencilBuffer","WebGLRenderTarget","renderTarget1","renderTarget2","clone","writeBuffer","readBuffer","passes","copyPass","_shaderpass","ShaderPass","_copyshader","CopyShader","ClearMaskPass","MaskPass","RenderPass","get","_renderpass","_maskpass","_clearmaskpass","swapBuffers","tmp","addPass","pass","push","insertPass","index","splice","render","delta","maskActive","enabled","needsSwap","stencilFunc","NOTEQUAL","EQUAL","reset","setSize","camera","OrthographicCamera","quad","Mesh","PlaneGeometry","scene","Scene","add","default","getTiles","bounds","__WEBPACK_IMPORTED_MODULE_1__constants__","lsTiles","localStorage","getItem","toAdd","map","t","toRemove","remove","__WEBPACK_IMPORTED_MODULE_0_xyz_affair___default","filter","findIndex","getTilesExtra","tiles","idx","__WEBPACK_IMPORTED_MODULE_0_xyz_affair__","args","apply","settle","buildURL","parseHeaders","isURLSameOrigin","createError","btoa","config","Promise","resolve","reject","requestData","requestHeaders","request","loadEvent","xDomain","XDomainRequest","url","onprogress","ontimeout","auth","username","password","Authorization","open","toUpperCase","params","paramsSerializer","readyState","responseURL","indexOf","responseHeaders","getAllResponseHeaders","responseData","responseType","response","responseText","statusText","onerror","cookies","xsrfValue","withCredentials","read","toLowerCase","setRequestHeader","onDownloadProgress","addEventListener","onUploadProgress","upload","cancelToken","promise","then","cancel","abort","send","enhanceError","message","error","Error","__CANCEL__","Cancel","__WEBPACK_IMPORTED_MODULE_1_classnames__","__WEBPACK_IMPORTED_MODULE_1_classnames___default","__WEBPACK_IMPORTED_MODULE_2__style_css__","__WEBPACK_IMPORTED_MODULE_3__safearea_Safearea__","__WEBPACK_IMPORTED_MODULE_4__menuToggle_MenuToggle__","UI","handleClick","p","openMenu","toggleMenu","console","uiClass","ui-overlay","ui-overlay--hidden","onClick","content","options","hmr","transform","locals","version","sources","names","mappings","file","sourcesContent","sourceRoot","__WEBPACK_IMPORTED_MODULE_2_gsap__","__WEBPACK_IMPORTED_MODULE_3__style_css__","Onepage","_ref","_temp","_ret","_len","_key","SCROLL_SNAP_DISTANCE","SCROLL_TIMEOUT","handleInternal","isInternal","handleScroll","lastScroll","documentElement","scrollTop","scrollSpeed","getScrollSpeed","animation","kill","timeoutId","clearTimeout","scrollStart","setTimeout","handleAnimation","removeEventListener","bindScroll","passive","unBindScroll","max","clientHeight","h","getSnapHeight","round","getSnapTarget","scroll","to","onStart","onUpdate","scrollTo","onComplete","divClass","Onepage--noOverflow","children","__WEBPACK_IMPORTED_MODULE_3__tile_Tile__","Fullpage","el","offsetTop","active","activateSelf","_this3","pageClass","Fullpage--isActive","isActive","activeContent","title","__WEBPACK_IMPORTED_MODULE_1__style_css__","__WEBPACK_IMPORTED_MODULE_1__System__","style","minHeight","position","zIndex","World","onProgress","rootEl","init","initLate","itemsLoaded","itemsTotal","__WEBPACK_IMPORTED_MODULE_0_three__","__WEBPACK_IMPORTED_MODULE_1_gsap__","__WEBPACK_IMPORTED_MODULE_2_three_shader_fxaa__","__WEBPACK_IMPORTED_MODULE_2_three_shader_fxaa___default","__WEBPACK_IMPORTED_MODULE_3__lib_OrbitControls__","__WEBPACK_IMPORTED_MODULE_4__lib_GlitchPass__","__WEBPACK_IMPORTED_MODULE_5__Grid__","__WEBPACK_IMPORTED_MODULE_6__City__","__WEBPACK_IMPORTED_MODULE_7__Transit__","__WEBPACK_IMPORTED_MODULE_8__Tilemap__","__WEBPACK_IMPORTED_MODULE_9__ITS__","__WEBPACK_IMPORTED_MODULE_10__constants__","__WEBPACK_IMPORTED_MODULE_11__Calc__","System","rootElement","onProgressCb","onLoadCb","container","sphereGeometry","center","initialized","raycaster","setupClock","setupDebug","setupLoader","setupScene","setupCamera","setupSize","setupRenderer","setupComposer","setupControls","setupHelpers","setupListeners","onResize","grid","city","its","loop","tilemap","clock","loadingManager","loaderJSON","loaderFile","cameraPoint","cameraTarget","cameraLerp","copy","debugTop","lookAt","alpha","antialias","autoClear","shadowMap","soft","appendChild","domElement","composer","fxaaPass","glitchPass","renderToScreen","uniforms","resolution","set","controls","minPolarAngle","maxPolarAngle","rotateSpeed","dampingFactor","minDistance","maxDistance","enableZoom","tileSize","tileNW","tileStart","positionStart","axisHelper","gridHelper","gridMain","material","transparent","opacity","onKeyDown","onDocumentMouseMove","dpr","devicePixelRatio","setPixelRatio","aspect","updateProjectionMatrix","keyCode","toFixed","setItem","cameraPosition","targetPosition","saveTiles","loadCameraFromLS","event","clientX","clientY","mouse","savedCamera","setFromCamera","update","raf","requestAnimationFrame","duration","effect","isEnabled","byp","forcedState","global","threeShaderFXAA","opt","tDiffuse","Vector2","vertexShader","fragmentShader","OrbitControls","object","getAutoRotationAngle","scope","autoRotateSpeed","getZoomScale","zoomSpeed","rotateLeft","angle","sphericalDelta","theta","rotateUp","phi","dollyIn","dollyScale","PerspectiveCamera","scale","minZoom","min","maxZoom","zoomChanged","warn","dollyOut","handleMouseDownRotate","rotateStart","handleMouseDownDolly","dollyStart","handleMouseDownPan","panStart","handleMouseMoveRotate","rotateEnd","rotateDelta","subVectors","element","body","clientWidth","handleMouseMoveDolly","dollyEnd","dollyDelta","handleMouseMovePan","panEnd","panDelta","pan","handleMouseUp","handleMouseWheel","deltaY","handleKeyDown","keys","UP","keyPanSpeed","BOTTOM","LEFT","RIGHT","handleTouchStartRotate","touches","pageX","pageY","handleTouchStartDolly","dx","dy","distance","sqrt","handleTouchStartPan","handleTouchMoveRotate","handleTouchMoveDolly","handleTouchMovePan","handleTouchEnd","onMouseDown","preventDefault","button","mouseButtons","ORBIT","enableRotate","STATE","ROTATE","ZOOM","DOLLY","PAN","enablePan","NONE","onMouseMove","onMouseUp","dispatchEvent","startEvent","endEvent","onMouseWheel","stopPropagation","enableKeys","onTouchStart","TOUCH_ROTATE","TOUCH_DOLLY","TOUCH_PAN","onTouchMove","onTouchEnd","onContextMenu","Vector3","Infinity","minAzimuthAngle","maxAzimuthAngle","enableDamping","autoRotate","MOUSE","MIDDLE","target0","position0","zoom0","getPolarAngle","spherical","getAzimuthalAngle","saveState","changeEvent","offset","quat","Quaternion","setFromUnitVectors","up","quatInverse","inverse","lastPosition","lastQuaternion","sub","applyQuaternion","setFromVector3","makeSafe","panOffset","setFromSpherical","distanceToSquared","EPS","dot","quaternion","dispose","Spherical","panLeft","v","objectMatrix","setFromMatrixColumn","multiplyScalar","panUp","deltaX","targetDistance","fov","matrix","right","left","top","bottom","EventDispatcher","noZoom","noRotate","noPan","noKeys","staticMoving","dynamicDampingFactor","__WEBPACK_IMPORTED_MODULE_1__shaders_digitalGlitch__","__WEBPACK_IMPORTED_MODULE_2_three_effectcomposer_es6__","GlitchPass","_RenderPass","frustumCulled","goWild","curF","generateTrigger","random","randFloat","clear","randX","randInt","data_arr","Float32Array","dt_size","tDisp","amount","seed","seed_x","seed_y","distortion_x","distortion_y","col_s","join","overrideMaterial","clearColor","clearAlpha","oldClearColor","Color","oldClearAlpha","getClearColor","getClearAlpha","setClearColor","shader","textureID","UniformsUtils","ShaderMaterial","_index","_index2","__esModule","colorMask","depthMask","writeValue","clearValue","enable","STENCIL_TEST","stencilOp","REPLACE","ALWAYS","clearStencil","KEEP","disable","__WEBPACK_IMPORTED_MODULE_2__Crosspoint__","__WEBPACK_IMPORTED_MODULE_3__Calc__","__WEBPACK_IMPORTED_MODULE_4__constants__","__WEBPACK_IMPORTED_MODULE_5__Common__","Grid","group","geometry","color","gridDots","depthTest","mesh","delay","ease","SlowMo","crosspoint","makeGrid","Crosspoint","parentGroup","createCrossPoint","geometryH","vertices","geometryV","lineH","lineV","fromTo","Elastic","easeOut","xyz","project","lng","d","point","R","tiled","sphericalScale","num","__WEBPACK_IMPORTED_MODULE_2__constants__","__WEBPACK_IMPORTED_MODULE_3__materials__","City","buildings","models","load","model","loadBuilding","boundary","water","isLazy","edges","isBuilt","forceBuild","staggerFromTo","building","isBuilding","__p","Bounce","onStartParams","tween","onUpdateParams","onCompleteParams","_this4","ob","addModels","buildModels","wireframeMat","lineMat","boundaryMat","waterMat","side","wireframe","blending","precision","__WEBPACK_IMPORTED_MODULE_2__Calc__","__WEBPACK_IMPORTED_MODULE_3__constants__","Transit","currentType","prepareData","lines","line","assign","points","getPoints","name","busStops","lineId","find","coords","parseFloat","getLineModel","quality","materialLine","sizeAttenuation","depthWrite","curve","setFromPoints","ITS","blob","rotation","getElapsedTime","createModels","__WEBPACK_IMPORTED_MODULE_4__Common__","Tilemap","isReady","activeTile","loader","crossOrigin","centerXY","createTiles","createDummyIntersection","wrapS","wrapT","repeat","dummyTile","_isDummy","geometryPlane","materialPlane","dummyPlane","hypot","newTile","createTile","createTileMesh","tileId","tileIdx","id","tileObject","getObjectById","_isAnimating","easeInOut","sort","ctx","local","img","image","drawImage","textureFinal","_x","_y","_z","buildTile","_scale","_opacity","tilesOpacity","intersects","intersectObject","_intersects$0$point","activeDummy","intersectObjects","c","tl","_wasActive","checkDummyIntersection","addTile","removeTile","onDocumentMouseDown","__WEBPACK_IMPORTED_MODULE_1_axios__","__WEBPACK_IMPORTED_MODULE_1_axios___default","__WEBPACK_IMPORTED_MODULE_4_gsap__","ring","marker","positions","setupSpheres","setupRadar","setLocation","loadData","interval","setInterval","parts","phase","rFx","ringGeometry","ringPartial","radar","o","Power4","easeIn","location","Date","toISOString","bus","append","tram","post","processData","oldPosition","newCoords","Linear","easeNone","newPosition","dir","createInstance","defaultConfig","Axios","axios","instanceConfig","CancelToken","isCancel","all","promises","spread","isSlowBuffer","readFloatLE","slice","_isBuffer","interceptors","InterceptorManager","dispatchRequest","chain","interceptor","unshift","fulfilled","rejected","shift","defaultSetTimout","defaultClearTimeout","runTimeout","fun","cachedSetTimeout","runClearTimeout","cachedClearTimeout","cleanUpNextTick","draining","currentQueue","queue","queueIndex","drainQueue","len","run","Item","array","noop","nextTick","browser","env","argv","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","umask","normalizedName","encode","encodeURIComponent","serializedParams","ignoreDuplicateOf","parsed","split","substr","resolveURL","href","msie","urlParsingNode","setAttribute","protocol","host","search","hash","hostname","port","pathname","charAt","originURL","test","userAgent","requestURL","E","input","block","charCode","String","output","chars","charCodeAt","write","expires","path","domain","secure","cookie","toGMTString","match","RegExp","decodeURIComponent","now","handlers","use","eject","throwIfCancellationRequested","throwIfRequested","transformData","isAbsoluteURL","combineURLs","baseURL","reason","fns","relativeURL","executor","resolvePromise","token","source","callback","arr","il"],"mappings":"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","file":"static/js/0.51ecc919.chunk.js","sourcesContent":["webpackJsonp([0],Array(94).concat([\n/* 94 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__ui_UI__ = __webpack_require__(105);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__onepage_Onepage__ = __webpack_require__(108);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__fullpage_Fullpage__ = __webpack_require__(111);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__world___ = __webpack_require__(117);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__world_constants__ = __webpack_require__(28);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Core=function(_Component){_inherits(Core,_Component);function Core(props){_classCallCheck(this,Core);var _this=_possibleConstructorReturn(this,(Core.__proto__||Object.getPrototypeOf(Core)).call(this,props));_this.state={activated:_this.props.section&&_this.props.section||__WEBPACK_IMPORTED_MODULE_5__world_constants__[\"q\" /* TRANSIT_TYPES_ARR */][0].code,skipNextActivation:!!_this.props.section,isWorldInitialized:false,world:null,types:__WEBPACK_IMPORTED_MODULE_5__world_constants__[\"q\" /* TRANSIT_TYPES_ARR */]};_this.onWordLoad=_this.onWordLoad.bind(_this);return _this;}_createClass(Core,[{key:'activateType',value:function activateType(code){var type=__WEBPACK_IMPORTED_MODULE_5__world_constants__[\"p\" /* TRANSIT_TYPES */][code];this.state.world.system.transit.activate(type);this.state.world.system.makeGlitch(0.3);}},{key:'toggle',value:function toggle(state){this.state.world.system.toggle(state);}},{key:'componentDidMount',value:function componentDidMount(){this.setState({world:this._worldComponent});}},{key:'componentWillReceiveProps',value:function componentWillReceiveProps(next){// console.log('::CORE componentWillReceiveProps', next);\n// check if still isRunning    \nif(this.props.isRunning!==next.isRunning){this.toggle(next.isRunning);}// check if section has changed\nif(this.props.section!==next.section){this.activateType(next.section);}}},{key:'onWordLoad',value:function onWordLoad(){this.setState({isWorldInitialized:true});if(this.props.section){this.activateType(this.props.section);}}},{key:'render',value:function render(){var _this2=this;var WorldModule=this.state.WorldModule;return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'App'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1__ui_UI__[\"a\" /* default */],{world:this.state.world,actions:this.props.actions,isVisible:this.props.isRunning}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4__world___[\"a\" /* default */],{debug:true,editable:false,ref:function ref(child){return _this2._worldComponent=child;},onLoad:this.onWordLoad}));}}]);return Core;}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);/* harmony default export */ __webpack_exports__[\"default\"] = (Core);\n\n/***/ }),\n/* 95 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar bind = __webpack_require__(100);\nvar isBuffer = __webpack_require__(138);\n\n/*global toString:true*/\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.replace(/^\\s*/, '').replace(/\\s*$/, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && navigator.product === 'ReactNative') {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (typeof result[key] === 'object' && typeof val === 'object') {\n      result[key] = merge(result[key], val);\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim\n};\n\n\n/***/ }),\n/* 96 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export random */\n/* unused harmony export randomInt */\n/* unused harmony export randomArray */\n/* unused harmony export shuffleArray */\n/* unused harmony export deg2rad */\n/* unused harmony export rad2deg */\n/* unused harmony export linearScale */\n/* unused harmony export getPointInBetweenByPerc */\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = Mercator;\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = geo2tile;\n/* harmony export (immutable) */ __webpack_exports__[\"f\"] = tile2geo;\n/* harmony export (immutable) */ __webpack_exports__[\"d\"] = getTileSize;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = generateSprite;\n/* harmony export (immutable) */ __webpack_exports__[\"e\"] = isEqualTile;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__constants__ = __webpack_require__(28);\nfunction random(min,max){if(max===undefined){max=min;min=0;}return Math.random()*(max+min)+min;}function randomInt(min,max){if(max===undefined){max=min;min=0;}return Math.floor(Math.random()*(max-min+1))+min;}function randomArray(arr){return arr[Math.floor(Math.random()*arr.length)];}function shuffleArray(a){var i,t,j;for(i=a.length-1;i>0;i-=1){t=a[i];j=Math.floor(Math.random()*(i+1));a[i]=a[j];a[j]=t;}return a;}function deg2rad(deg){return deg*__WEBPACK_IMPORTED_MODULE_0__constants__[\"l\" /* PI */]/180;}function rad2deg(rad){return rad*180/__WEBPACK_IMPORTED_MODULE_0__constants__[\"l\" /* PI */];}function linearScale(domain,range,clamp){return function(value){if(domain[0]===domain[1]||range[0]===range[1]){return range[0];}var ratio=(range[1]-range[0])/(domain[1]-domain[0]);var result=range[0]+ratio*(value-domain[0]);return clamp?Math.min(range[1],Math.max(range[0],result)):result;};}function getPointInBetweenByPerc(pointA,pointB,percentage){var dir=pointB.clone().sub(pointA);var len=dir.length();dir=dir.normalize().multiplyScalar(len*percentage);return pointA.clone().add(dir);}function Mercator(lat,lon){var factor=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;var self={lat:lat,latInRadians:deg2rad(lat),lon:lon,k:factor,radius:6378137};var fromGeo=function fromGeo(inLat,inLon){var lat=deg2rad(inLat);var lon=deg2rad(inLon-self.lon);var b=Math.sin(lon)*Math.cos(lat);var x=0.5*self.k*self.radius*Math.log((1+b)/(1-b));var y=-self.k*self.radius*(Math.atan(Math.tan(lat)/Math.cos(lon))-self.latInRadians);return{x:x,y:y};};var fromXY=function fromXY(px,py){var x=px/(self.k*self.radius);var y=py/(self.k*self.radius);var D=y+self.latInRadians;var lon=Math.atan(Math.sinh(x)/Math.cos(D));var lat=Math.asin(Math.sin(D)/Math.cosh(x));lon=self.lon+rad2deg(lon);lat=rad2deg(lat);return{lat:lat,lon:lon};};return{fromGeo:fromGeo,fromXY:fromXY};}function geo2tile(lat,lon,zoom){var x=Math.floor((lon+180)/360*Math.pow(2,zoom));var y=Math.floor((1-Math.log(Math.tan(lat*Math.PI/180)+1/Math.cos(lat*Math.PI/180))/Math.PI)/2*Math.pow(2,zoom));return{x:x,y:y};}function tile2geo(x,y,z){var n=Math.PI-2*Math.PI*y/Math.pow(2,z);var lat=180/Math.PI*Math.atan(0.5*(Math.exp(n)-Math.exp(-n)));var lon=x/Math.pow(2,z)*360-180;return{lat:lat,lon:lon};}function getTileSize(lat,lon,zoom,mercator){var tile=geo2tile(lat,lon,zoom);var coordsNW=tile2geo(tile.x,tile.y,zoom);var coordsSE=tile2geo(tile.x+1,tile.y+1,zoom);var posNW=mercator.fromGeo(coordsNW.lat,coordsNW.lon);var posSE=mercator.fromGeo(coordsSE.lat,coordsSE.lon);return Math.ceil(Math.abs(posNW.x-posSE.x));}function generateSprite(){var size=arguments.length>0&&arguments[0]!==undefined?arguments[0]:32;var tint=arguments[1];var THREE=arguments[2];var canvas=document.createElement('canvas');canvas.width=size;canvas.height=size;var context=canvas.getContext('2d');var gradient=context.createRadialGradient(canvas.width/2,canvas.height/2,0,canvas.width/2,canvas.height/2,canvas.width/2);gradient.addColorStop(0,'rgba(255,255,255,1)');gradient.addColorStop(0.2,'rgba(0,255,255,1)');gradient.addColorStop(0.4,'rgba(0,0,64,1)');gradient.addColorStop(1,'rgba(0,0,0,1)');context.fillStyle=gradient;context.fillRect(0,0,canvas.width,canvas.height);if(tint){context.globalCompositeOperation='color';context.fillStyle=tint;context.fillRect(0,0,size,size);}var texture=new THREE.Texture(canvas);texture.needsUpdate=true;return texture;}function isEqualTile(t1,t2){if(!t1||!t2){return false;}return t1.x===t2.x&&t1.y===t2.y&&t1.z===t2.z;}\n\n/***/ }),\n/* 97 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(process) {\n\nvar utils = __webpack_require__(95);\nvar normalizeHeaderName = __webpack_require__(141);\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = __webpack_require__(101);\n  } else if (typeof process !== 'undefined') {\n    // For node use HTTP adapter\n    adapter = __webpack_require__(101);\n  }\n  return adapter;\n}\n\nvar defaults = {\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Content-Type');\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data)) {\n      setContentTypeIfUnset(headers, 'application/json;charset=utf-8');\n      return JSON.stringify(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    /*eslint no-param-reassign:0*/\n    if (typeof data === 'string') {\n      try {\n        data = JSON.parse(data);\n      } catch (e) { /* Ignore */ }\n    }\n    return data;\n  }],\n\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\n\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(140)))\n\n/***/ }),\n/* 98 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ClearMaskPass = exports.MaskPass = exports.ShaderPass = exports.RenderPass = exports.CopyShader = undefined;\n\nvar _copyshader = __webpack_require__(123);\n\nObject.defineProperty(exports, 'CopyShader', {\n  enumerable: true,\n  get: function get() {\n    return _copyshader.CopyShader;\n  }\n});\n\nvar _renderpass = __webpack_require__(124);\n\nObject.defineProperty(exports, 'RenderPass', {\n  enumerable: true,\n  get: function get() {\n    return _renderpass.RenderPass;\n  }\n});\n\nvar _shaderpass = __webpack_require__(125);\n\nObject.defineProperty(exports, 'ShaderPass', {\n  enumerable: true,\n  get: function get() {\n    return _shaderpass.ShaderPass;\n  }\n});\n\nvar _maskpass = __webpack_require__(126);\n\nObject.defineProperty(exports, 'MaskPass', {\n  enumerable: true,\n  get: function get() {\n    return _maskpass.MaskPass;\n  }\n});\n\nvar _clearmaskpass = __webpack_require__(127);\n\nObject.defineProperty(exports, 'ClearMaskPass', {\n  enumerable: true,\n  get: function get() {\n    return _clearmaskpass.ClearMaskPass;\n  }\n});\n\nvar _three = __webpack_require__(27);\n\nfunction EffectComposer(renderer, renderTarget) {\n  this.renderer = renderer;\n\n  if (renderTarget === undefined) {\n    var width = window.innerWidth || 1;\n    var height = window.innerHeight || 1;\n    var parameters = { minFilter: _three.LinearFilter, magFilter: _three.LinearFilter, format: _three.RGBFormat, stencilBuffer: false };\n\n    renderTarget = new _three.WebGLRenderTarget(width, height, parameters);\n  }\n\n  this.renderTarget1 = renderTarget;\n  this.renderTarget2 = renderTarget.clone();\n\n  this.writeBuffer = this.renderTarget1;\n  this.readBuffer = this.renderTarget2;\n\n  this.passes = [];\n\n  this.copyPass = new _shaderpass.ShaderPass(_copyshader.CopyShader);\n}\n\nEffectComposer.prototype.swapBuffers = function () {\n  var tmp = this.readBuffer;\n  this.readBuffer = this.writeBuffer;\n  this.writeBuffer = tmp;\n};\n\nEffectComposer.prototype.addPass = function (pass) {\n  this.passes.push(pass);\n};\n\nEffectComposer.prototype.insertPass = function (pass, index) {\n  this.passes.splice(index, 0, pass);\n};\n\nEffectComposer.prototype.render = function (delta) {\n  this.writeBuffer = this.renderTarget1;\n  this.readBuffer = this.renderTarget2;\n\n  var maskActive = false;\n\n  for (var i = 0; i < this.passes.length; i++) {\n    var pass = this.passes[i];\n\n    if (!pass.enabled) continue;\n\n    pass.render(this.renderer, this.writeBuffer, this.readBuffer, delta, maskActive);\n\n    if (pass.needsSwap) {\n      if (maskActive) {\n        var context = this.renderer.context;\n\n        context.stencilFunc(context.NOTEQUAL, 1, 0xffffffff);\n\n        this.copyPass.render(this.renderer, this.writeBuffer, this.readBuffer, delta);\n\n        context.stencilFunc(context.EQUAL, 1, 0xffffffff);\n      }\n\n      this.swapBuffers();\n    }\n\n    if (pass instanceof _maskpass.MaskPass) {\n      maskActive = true;\n    } else if (pass instanceof _clearmaskpass.ClearMaskPass) {\n      maskActive = false;\n    }\n  }\n};\n\nEffectComposer.prototype.reset = function (renderTarget) {\n  if (renderTarget === undefined) {\n    renderTarget = this.renderTarget1.clone();\n\n    renderTarget.width = window.innerWidth;\n    renderTarget.height = window.innerHeight;\n  }\n\n  this.renderTarget1 = renderTarget;\n  this.renderTarget2 = renderTarget.clone();\n\n  this.writeBuffer = this.renderTarget1;\n  this.readBuffer = this.renderTarget2;\n};\n\nEffectComposer.prototype.setSize = function (width, height) {\n  var renderTarget = this.renderTarget1.clone();\n\n  renderTarget.width = width;\n  renderTarget.height = height;\n\n  this.reset(renderTarget);\n};\n\n// shared ortho camera\n\nEffectComposer.camera = new _three.OrthographicCamera(-1, 1, 1, -1, 0, 1);\n\nEffectComposer.quad = new _three.Mesh(new _three.PlaneGeometry(2, 2), null);\n\nEffectComposer.scene = new _three.Scene();\nEffectComposer.scene.add(EffectComposer.quad);\n\nexports.default = EffectComposer;\n\n/***/ }),\n/* 99 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = getTiles;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = getTilesExtra;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_xyz_affair__ = __webpack_require__(130);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_xyz_affair___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_xyz_affair__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__constants__ = __webpack_require__(28);\nfunction getTiles(){var bounds=arguments.length>0&&arguments[0]!==undefined?arguments[0]:__WEBPACK_IMPORTED_MODULE_1__constants__[\"a\" /* BOUNDS */];var zoom=arguments.length>1&&arguments[1]!==undefined?arguments[1]:__WEBPACK_IMPORTED_MODULE_1__constants__[\"h\" /* DEFAULTS */].zoom;var lsTiles=localStorage.getItem(__WEBPACK_IMPORTED_MODULE_1__constants__[\"j\" /* LS_PREFIX */]+'tiles');if(!!lsTiles){return JSON.parse(lsTiles);}else{var toAdd=__WEBPACK_IMPORTED_MODULE_1__constants__[\"o\" /* TILE_ADJUST */][zoom].add.map(function(t){return{z:zoom,x:t[0],y:t[1]};});var toRemove=__WEBPACK_IMPORTED_MODULE_1__constants__[\"o\" /* TILE_ADJUST */][zoom].remove;return __WEBPACK_IMPORTED_MODULE_0_xyz_affair___default()(bounds,zoom).filter(function(tile){return!~toRemove.findIndex(function(t){return t[0]===tile.x&&t[1]===tile.y;});}).concat(toAdd);}}function getTilesExtra(bounds,zoom){var tiles=[];getTiles(bounds,zoom).forEach(function(tile){tiles.push(tile);tiles.push({x:tile.x+1,y:tile.y+0,z:tile.z});tiles.push({x:tile.x+1,y:tile.y+1,z:tile.z});tiles.push({x:tile.x+0,y:tile.y+1,z:tile.z});});return tiles.filter(function(t,idx){return tiles.findIndex(function(t2){return t.x===t2.x&&t.y===t2.y;})===idx;});}\n\n/***/ }),\n/* 100 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n\n\n/***/ }),\n/* 101 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar utils = __webpack_require__(95);\nvar settle = __webpack_require__(142);\nvar buildURL = __webpack_require__(144);\nvar parseHeaders = __webpack_require__(145);\nvar isURLSameOrigin = __webpack_require__(146);\nvar createError = __webpack_require__(102);\nvar btoa = (typeof window !== 'undefined' && window.btoa && window.btoa.bind(window)) || __webpack_require__(147);\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n    var loadEvent = 'onreadystatechange';\n    var xDomain = false;\n\n    // For IE 8/9 CORS support\n    // Only supports POST and GET calls and doesn't returns the response headers.\n    // DON'T do this for testing b/c XMLHttpRequest is mocked, not XDomainRequest.\n    if (\"production\" !== 'test' &&\n        typeof window !== 'undefined' &&\n        window.XDomainRequest && !('withCredentials' in request) &&\n        !isURLSameOrigin(config.url)) {\n      request = new window.XDomainRequest();\n      loadEvent = 'onload';\n      xDomain = true;\n      request.onprogress = function handleProgress() {};\n      request.ontimeout = function handleTimeout() {};\n    }\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password || '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    request.open(config.method.toUpperCase(), buildURL(config.url, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    // Listen for ready state\n    request[loadEvent] = function handleLoad() {\n      if (!request || (request.readyState !== 4 && !xDomain)) {\n        return;\n      }\n\n      // The request errored out and we didn't get a response, this will be\n      // handled by onerror instead\n      // With one exception: request that using file: protocol, most browsers\n      // will return status as 0 even though it's a successful request\n      if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n        return;\n      }\n\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !config.responseType || config.responseType === 'text' ? request.responseText : request.response;\n      var response = {\n        data: responseData,\n        // IE sends 1223 instead of 204 (https://github.com/axios/axios/issues/201)\n        status: request.status === 1223 ? 204 : request.status,\n        statusText: request.status === 1223 ? 'No Content' : request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(resolve, reject, response);\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      reject(createError('timeout of ' + config.timeout + 'ms exceeded', config, 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      var cookies = __webpack_require__(148);\n\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(config.url)) && config.xsrfCookieName ?\n          cookies.read(config.xsrfCookieName) :\n          undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (config.withCredentials) {\n      request.withCredentials = true;\n    }\n\n    // Add responseType to request if needed\n    if (config.responseType) {\n      try {\n        request.responseType = config.responseType;\n      } catch (e) {\n        // Expected DOMException thrown by browsers not compatible XMLHttpRequest Level 2.\n        // But, this can be suppressed for 'json' type as it can be parsed by default 'transformResponse' function.\n        if (config.responseType !== 'json') {\n          throw e;\n        }\n      }\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel);\n        // Clean up request\n        request = null;\n      });\n    }\n\n    if (requestData === undefined) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n\n\n/***/ }),\n/* 102 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar enhanceError = __webpack_require__(143);\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n\n\n/***/ }),\n/* 103 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n\n\n/***/ }),\n/* 104 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n\n\n/***/ }),\n/* 105 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_classnames__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_classnames___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_classnames__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__style_css__ = __webpack_require__(106);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__style_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__style_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__safearea_Safearea__ = __webpack_require__(31);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__menuToggle_MenuToggle__ = __webpack_require__(30);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var UI=function(_Component){_inherits(UI,_Component);function UI(props){_classCallCheck(this,UI);var _this=_possibleConstructorReturn(this,(UI.__proto__||Object.getPrototypeOf(UI)).call(this,props));_this.handleClick=function(p){return function(e){if(_this.props.world&&_this.props.world.system){_this.props.world.system.makeGlitch(p);}};};_this.openMenu=function(){_this.props.actions.toggleMenu();};_this.handleClick=_this.handleClick.bind(_this);return _this;}_createClass(UI,[{key:'componentDidMount',value:function componentDidMount(){console.log('this.props.isRunning',this.props.isVisible);}},{key:'render',value:function render(){var uiClass=__WEBPACK_IMPORTED_MODULE_1_classnames___default()({'ui-overlay':true,'ui-overlay--hidden':!this.props.isVisible});var debugMenu=this.props.debug?__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_0_react__[\"Fragment\"],null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('button',{onClick:this.handleClick()},'click for glitch!'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('button',{onClick:this.handleClick(2)},'click for MEGA glitch!'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('button',{onClick:this.openMenu},'open menu')):null;return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:uiClass},this.props.isVisible?__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4__menuToggle_MenuToggle__[\"a\" /* default */],{onClick:this.openMenu}):null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3__safearea_Safearea__[\"a\" /* default */],null));}}]);return UI;}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);/* harmony default export */ __webpack_exports__[\"a\"] = (UI);\n\n/***/ }),\n/* 106 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(107);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":false}\noptions.transform = transform\n// add the styles to the DOM\nvar update = __webpack_require__(93)(content, options);\nif(content.locals) module.exports = content.locals;\n\n\n/***/ }),\n/* 107 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(92)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".ui-overlay{width:100%;height:100%;min-height:100vh;position:absolute;z-index:50;-webkit-transition:opacity .5s ease-in-out;-o-transition:opacity .5s ease-in-out;transition:opacity .5s ease-in-out}.ui-overlay--hidden button{color:red}\", \"\", {\"version\":3,\"sources\":[\"e:/my-dev/wroclaw-its/model-builder/src/components/ui/style.css\"],\"names\":[],\"mappings\":\"AAAA,YACI,WAAY,AACZ,YAAa,AACb,iBAAkB,AAClB,kBAAmB,AACnB,WAAY,AACZ,2CAA6C,AAC7C,sCAAwC,AACxC,kCAAqC,CACxC,AAMD,2BACI,SAAW,CACd\",\"file\":\"style.css\",\"sourcesContent\":[\".ui-overlay {\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    min-height: 100vh;\\r\\n    position: absolute;\\r\\n    z-index: 50;\\r\\n    -webkit-transition: opacity 0.5s ease-in-out;\\r\\n    -o-transition: opacity 0.5s ease-in-out;\\r\\n    transition: opacity 0.5s ease-in-out;\\r\\n}\\r\\n\\r\\n.ui-overlay--hidden {\\r\\n    /* opacity: 0; */\\r\\n}\\r\\n\\r\\n.ui-overlay--hidden button {\\r\\n    color: red;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n/* 108 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_classnames__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_classnames___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_classnames__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_gsap__ = __webpack_require__(29);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_gsap___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_gsap__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__style_css__ = __webpack_require__(109);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__style_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__style_css__);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Onepage=function(_Component){_inherits(Onepage,_Component);function Onepage(){var _ref;var _temp,_this,_ret;_classCallCheck(this,Onepage);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=Onepage.__proto__||Object.getPrototypeOf(Onepage)).call.apply(_ref,[this].concat(args))),_this),_this.SCROLL_SNAP_DISTANCE=250,_this.SCROLL_TIMEOUT=100,_this.state={y:0},_this.handleInternal=function(e){_this.isInternal=false;},_this.handleScroll=function(e){_this.lastScroll=document.documentElement.scrollTop;_this.scrollSpeed=_this.getScrollSpeed(e);_this.setState({y:_this.lastScroll});if(_this.animation&&!_this.isInternal){_this.animation.kill();}if(_this.timeoutId){clearTimeout(_this.timeoutId);}else{_this.scrollStart=_this.lastScroll;}_this.timeoutId=setTimeout(_this.handleAnimation.bind(_this),_this.SCROLL_TIMEOUT);},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(Onepage,[{key:'bindScroll',value:function bindScroll(){window.addEventListener('scroll',this.handleScroll);}},{key:'unBindScroll',value:function unBindScroll(){window.removeEventListener('scroll',this.handleScroll);}},{key:'componentDidMount',value:function componentDidMount(){this.bindScroll();window.addEventListener('mousewheel',this.handleInternal,{passive:true});window.addEventListener('DOMMouseScroll',this.handleInternal);window.addEventListener('wheel',this.handleInternal,{passive:true});}},{key:'componentWillUnmount',value:function componentWillUnmount(){this.unBindScroll();}},{key:'getSnapHeight',value:function getSnapHeight(){return Math.max(document.documentElement.clientHeight,window.innerHeight||1);}},{key:'getSnapTarget',value:function getSnapTarget(){var h=this.getSnapHeight();return Math.round(this.lastScroll/h)*h;}},{key:'getScrollSpeed',value:function getScrollSpeed(e){return Math.abs(this.lastScroll-this.scrollStart)||0;}},{key:'isSnapping',value:function isSnapping(){return this.lastScroll.value%this.getSnapHeight()<this.SCROLL_SNAP_DISTANCE;}},{key:'handleAnimation',value:function handleAnimation(){var _this2=this;if(!this.scrollStart||this.scrollStart===this.lastScroll){return;}var target=this.getSnapTarget();var scroll={y:this.lastScroll};this.animation=__WEBPACK_IMPORTED_MODULE_2_gsap__[\"TweenMax\"].to(scroll,0.350,{y:target,// ease: TweenMax.Bounce.easeOut,\nonStart:function onStart(){_this2.isInternal=true;},onUpdate:function onUpdate(){_this2.setState({y:Math.round(scroll.y)});_this2.isInternal=true;window.scrollTo(0,scroll.y);},onComplete:function onComplete(){_this2.isInternal=false;}});}},{key:'render',value:function render(){var divClass=__WEBPACK_IMPORTED_MODULE_1_classnames___default()({'Onepage':true,'Onepage--noOverflow':!this.props.isVisible});return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:divClass},this.props.children(this.state));}}]);return Onepage;}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);/* unused harmony default export */ var _unused_webpack_default_export = (Onepage);\n\n/***/ }),\n/* 109 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(110);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":false}\noptions.transform = transform\n// add the styles to the DOM\nvar update = __webpack_require__(93)(content, options);\nif(content.locals) module.exports = content.locals;\n\n\n/***/ }),\n/* 110 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(92)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".Onepage{position:relative;z-index:100}.Onepage .debug{position:fixed;bottom:20px;left:20px;color:#fff}.Onepage--noOverflow{overflow:hidden;height:100vh}\", \"\", {\"version\":3,\"sources\":[\"e:/my-dev/wroclaw-its/model-builder/src/components/onepage/style.css\"],\"names\":[],\"mappings\":\"AAAA,SACI,kBAAmB,AACnB,WAAa,CAChB,AAED,gBACI,eAAgB,AAChB,YAAa,AACb,UAAW,AACX,UAAY,CACf,AAED,qBACI,gBAAiB,AACjB,YAAc,CACjB\",\"file\":\"style.css\",\"sourcesContent\":[\".Onepage {\\r\\n    position: relative;\\r\\n    z-index: 100;\\r\\n}\\r\\n\\r\\n.Onepage .debug {\\r\\n    position: fixed;\\r\\n    bottom: 20px;\\r\\n    left: 20px;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.Onepage--noOverflow {\\r\\n    overflow: hidden;\\r\\n    height: 100vh;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n/* 111 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_classnames__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_classnames___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_classnames__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__style_css__ = __webpack_require__(112);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__style_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__style_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__tile_Tile__ = __webpack_require__(114);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Fullpage=function(_Component){_inherits(Fullpage,_Component);function Fullpage(){var _ref;var _temp,_this,_ret;_classCallCheck(this,Fullpage);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=Fullpage.__proto__||Object.getPrototypeOf(Fullpage)).call.apply(_ref,[this].concat(args))),_this),_this.el={offsetTop:0},_this.active=false,_temp),_possibleConstructorReturn(_this,_ret);}_createClass(Fullpage,[{key:'componentDidMount',value:function componentDidMount(){var _this2=this;if(this.props.activateSelf){setTimeout(function(){window.scrollTo(0,_this2.el.offsetTop);});}}},{key:'componentWillReceiveProps',value:function componentWillReceiveProps(next){if(Math.abs(this.props.scroll-this.el.offsetTop)<100){if(!this.active&&this.props.activate){this.props.activate(this.props.type);}this.active=true;}else{this.active=false;}}},{key:'render',value:function render(){var _this3=this;var pageClass=__WEBPACK_IMPORTED_MODULE_1_classnames___default()('Fullpage',{'Fullpage--isActive':this.active||this.props.isActive});var activeContent=__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('p',null);return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:pageClass,ref:function ref(el){return _this3.el=el;}},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('h1',null,this.props.title),this.active?activeContent:null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3__tile_Tile__[\"a\" /* default */],null));}}]);return Fullpage;}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);/* unused harmony default export */ var _unused_webpack_default_export = (Fullpage);\n\n/***/ }),\n/* 112 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(113);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":false}\noptions.transform = transform\n// add the styles to the DOM\nvar update = __webpack_require__(93)(content, options);\nif(content.locals) module.exports = content.locals;\n\n\n/***/ }),\n/* 113 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(92)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".Fullpage{position:relative;width:100%;height:100vh;overflow:hidden}.Fullpage h1{position:absolute;left:10px;top:20px;font-size:30px;-webkit-transition:all .2s ease-out;-o-transition:all .2s ease-out;transition:all .2s ease-out;opacity:.5;pointer-events:none;margin:0}.Fullpage--isActive h1{left:60px;font-size:100px;opacity:1}.Fullpage .Tile{-webkit-transition:all .8s ease-out;-o-transition:all .8s ease-out;transition:all .8s ease-out;opacity:0}.Fullpage--isActive .Tile{opacity:1}\", \"\", {\"version\":3,\"sources\":[\"e:/my-dev/wroclaw-its/model-builder/src/components/fullpage/style.css\"],\"names\":[],\"mappings\":\"AAAA,UACI,kBAAmB,AACnB,WAAY,AACZ,aAAc,AACd,eAAiB,CAEpB,AAMD,aACI,kBAAmB,AACnB,UAAW,AACX,SAAU,AACV,eAAgB,AAChB,oCAAsC,AACtC,+BAAiC,AACjC,4BAA8B,AAC9B,WAAa,AACb,oBAAqB,AACrB,QAAU,CACb,AAED,uBACI,UAAW,AACX,gBAAiB,AACjB,SAAW,CACd,AAGD,gBACI,oCAAsC,AACtC,+BAAiC,AACjC,4BAA8B,AAC9B,SAAW,CACd,AAED,0BACI,SAAW,CACd\",\"file\":\"style.css\",\"sourcesContent\":[\".Fullpage {\\r\\n    position: relative;\\r\\n    width: 100%;\\r\\n    height: 100vh;\\r\\n    overflow: hidden;\\r\\n    /* opacity: 0.0; */\\r\\n}\\r\\n\\r\\n.Fullpage--isActive {\\r\\n    /* color: red; */\\r\\n}\\r\\n\\r\\n.Fullpage h1 {\\r\\n    position: absolute;\\r\\n    left: 10px;\\r\\n    top: 20px;\\r\\n    font-size: 30px;\\r\\n    -webkit-transition: all 0.2s ease-out;\\r\\n    -o-transition: all 0.2s ease-out;\\r\\n    transition: all 0.2s ease-out;\\r\\n    opacity: 0.5;\\r\\n    pointer-events: none;\\r\\n    margin: 0;\\r\\n}\\r\\n\\r\\n.Fullpage--isActive h1 {\\r\\n    left: 60px;\\r\\n    font-size: 100px;\\r\\n    opacity: 1;\\r\\n}\\r\\n\\r\\n\\r\\n.Fullpage .Tile {\\r\\n    -webkit-transition: all 0.8s ease-out;\\r\\n    -o-transition: all 0.8s ease-out;\\r\\n    transition: all 0.8s ease-out;\\r\\n    opacity: 0;\\r\\n}\\r\\n\\r\\n.Fullpage--isActive .Tile {\\r\\n    opacity: 1;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n/* 114 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__style_css__ = __webpack_require__(115);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__style_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__style_css__);\n/* harmony default export */ __webpack_exports__[\"a\"] = (function(props){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'Tile'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'Tile-bar'}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('h2',null,'hello'));});\n\n/***/ }),\n/* 115 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(116);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":false}\noptions.transform = transform\n// add the styles to the DOM\nvar update = __webpack_require__(93)(content, options);\nif(content.locals) module.exports = content.locals;\n\n\n/***/ }),\n/* 116 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(92)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".Tile{width:150px;height:250px;left:40px;bottom:40px;background-image:-webkit-linear-gradient(140deg,#303551 20%,#343048);background-image:-o-linear-gradient(140deg,#303551 20%,#343048 100%);background-image:linear-gradient(-50deg,#303551 20%,#343048);-webkit-box-shadow:0 0 10px 0 rgba(0,0,0,.5);box-shadow:0 0 10px 0 rgba(0,0,0,.5)}.Tile,.Tile-bar{position:absolute}.Tile-bar{width:100%;height:8px;top:0;left:0;background-image:-webkit-gradient(linear,left top,right top,from(#84fab0),to(#8fd3f4));background-image:-webkit-linear-gradient(left,#84fab0,#8fd3f4);background-image:-o-linear-gradient(left,#84fab0 0,#8fd3f4 100%);background-image:linear-gradient(90deg,#84fab0,#8fd3f4);-webkit-box-shadow:0 0 10px 0 rgba(132,250,176,.75);box-shadow:0 0 10px 0 rgba(132,250,176,.75)}.Tile h2{color:#fff;padding:0 10px;font-weight:100}\", \"\", {\"version\":3,\"sources\":[\"e:/my-dev/wroclaw-its/model-builder/src/components/tile/style.css\"],\"names\":[],\"mappings\":\"AAAA,MACI,YAAa,AACb,aAAc,AAGd,UAAW,AACX,YAAa,AAGb,qEAA6E,AAC7E,qEAAwE,AACxE,6DAAqE,AACrE,6CAAwD,AAChD,oCAAgD,CAC3D,AAED,gBAbI,iBAAmB,CA6BtB,AAhBD,UAEI,WAAY,AACZ,WAAY,AACZ,MAAO,AACP,OAAQ,AAER,uFAA4F,AAE5F,+DAA0E,AAE1E,iEAAqE,AAErE,wDAAmE,AACnE,oDAA+D,AACvD,2CAAuD,CAClE,AAED,SACI,WAAY,AACZ,eAAgB,AAChB,eAAiB,CACpB\",\"file\":\"style.css\",\"sourcesContent\":[\".Tile {\\r\\n    width: 150px;\\r\\n    height: 250px;\\r\\n    position: absolute;\\r\\n    \\r\\n    left: 40px;\\r\\n    bottom: 40px;\\r\\n    \\r\\n    /* background-color: #303551; */\\r\\n    background-image: -webkit-linear-gradient(140deg, #303551 20%, #343048 100%);\\r\\n    background-image: -o-linear-gradient(140deg, #303551 20%, #343048 100%);\\r\\n    background-image: linear-gradient(-50deg, #303551 20%, #343048 100%);\\r\\n    -webkit-box-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.5);\\r\\n            box-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.5);\\r\\n}\\r\\n\\r\\n.Tile-bar {\\r\\n    position: absolute;\\r\\n    width: 100%;\\r\\n    height: 8px;\\r\\n    top: 0;\\r\\n    left: 0;\\r\\n\\r\\n    background-image: -webkit-gradient(linear, left top, right top, from(#84fab0), to(#8fd3f4));\\r\\n\\r\\n    background-image: -webkit-linear-gradient(left, #84fab0 0%, #8fd3f4 100%);\\r\\n\\r\\n    background-image: -o-linear-gradient(left, #84fab0 0%, #8fd3f4 100%);\\r\\n\\r\\n    background-image: linear-gradient(90deg, #84fab0 0%, #8fd3f4 100%);\\r\\n    -webkit-box-shadow: 0px 0px 10px 0px rgba(132, 250, 176, 0.75);\\r\\n            box-shadow: 0px 0px 10px 0px rgba(132, 250, 176, 0.75);\\r\\n}\\r\\n\\r\\n.Tile h2 {\\r\\n    color: #fff;\\r\\n    padding: 0 10px;\\r\\n    font-weight: 100;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n/* 117 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__System__ = __webpack_require__(118);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var style={width:'100%',height:'100%',minHeight:'100vh',position:'fixed',zIndex:0// opacity: 0.1,\n};var World=function(_Component){_inherits(World,_Component);function World(props){_classCallCheck(this,World);var _this=_possibleConstructorReturn(this,(World.__proto__||Object.getPrototypeOf(World)).call(this,props));_this.onProgress=_this.onProgress.bind(_this);_this.onLoad=_this.onLoad.bind(_this);return _this;}_createClass(World,[{key:'componentDidMount',value:function componentDidMount(){this.system=new __WEBPACK_IMPORTED_MODULE_1__System__[\"a\" /* default */](this.rootEl,this.onProgress,this.onLoad,this.props);}},{key:'onLoad',value:function onLoad(){var _this2=this;console.log(':: World: load is complete!');this.system.init();setTimeout(function(){_this2.props.onLoad();_this2.system.initLate();},2500);}},{key:'onProgress',value:function onProgress(url,itemsLoaded,itemsTotal){// console.log(':: World - loading:', itemsLoaded / itemsTotal * 100);\n}},{key:'render',value:function render(){var _this3=this;return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'Scene',style:style,ref:function ref(el){return _this3.rootEl=el;}});}}]);return World;}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);/* harmony default export */ __webpack_exports__[\"a\"] = (World);\n\n/***/ }),\n/* 118 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_three__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_gsap__ = __webpack_require__(29);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_gsap___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_gsap__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_three_shader_fxaa__ = __webpack_require__(119);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_three_shader_fxaa___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_three_shader_fxaa__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__lib_OrbitControls__ = __webpack_require__(120);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__lib_GlitchPass__ = __webpack_require__(121);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__Grid__ = __webpack_require__(128);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__City__ = __webpack_require__(131);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__Transit__ = __webpack_require__(133);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__Tilemap__ = __webpack_require__(134);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__ITS__ = __webpack_require__(135);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__constants__ = __webpack_require__(28);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__Calc__ = __webpack_require__(96);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}// import EffectComposer, {\n//   RenderPass,\n//   ShaderPass,\n//   CopyShader,\n// } from 'three-effectcomposer-es6';\nvar EffectComposer=__webpack_require__(156)(__WEBPACK_IMPORTED_MODULE_0_three__);var System=function(){function System(rootElement,onProgressCb,onLoadCb,options){_classCallCheck(this,System);this.isRunning=true;this.container=rootElement;this.onProgressCb=onProgressCb;this.onLoadCb=onLoadCb;this.options=options;this.sphereGeometry=new __WEBPACK_IMPORTED_MODULE_0_three__[\"SphereBufferGeometry\"](100,16,16);this.center=new __WEBPACK_IMPORTED_MODULE_0_three__[\"Vector3\"]();this.mercator=Object(__WEBPACK_IMPORTED_MODULE_11__Calc__[\"a\" /* Mercator */])(__WEBPACK_IMPORTED_MODULE_10__constants__[\"c\" /* CENTER */].lat,__WEBPACK_IMPORTED_MODULE_10__constants__[\"c\" /* CENTER */].lon);this.initialized=false;this.raycaster=new __WEBPACK_IMPORTED_MODULE_0_three__[\"Raycaster\"]();this.setupClock();this.setupDebug();this.setupLoader();this.setupScene();this.setupCamera();this.setupSize();this.setupRenderer();this.setupComposer();this.setupControls();this.setupHelpers();this.setupListeners();this.setupComposer();this.onResize();this.grid=new __WEBPACK_IMPORTED_MODULE_5__Grid__[\"a\" /* default */](this);this.city=new __WEBPACK_IMPORTED_MODULE_6__City__[\"a\" /* default */](this);this.transit=new __WEBPACK_IMPORTED_MODULE_7__Transit__[\"a\" /* default */](this);this.its=new __WEBPACK_IMPORTED_MODULE_9__ITS__[\"a\" /* default */](this);this.loop();this.toggle=this.toggle.bind(this);}_createClass(System,[{key:'init',value:function init(){console.log('System initialize sequence');this.initialized=true;this.grid&&this.grid.init();this.city&&this.city.init();this.transit&&this.transit.init();this.tilemap=new __WEBPACK_IMPORTED_MODULE_8__Tilemap__[\"a\" /* default */](this);}},{key:'initLate',value:function initLate(){this.city&&this.city.initLate();this.tilemap&&this.tilemap.init();}},{key:'setupClock',value:function setupClock(){this.clock=new __WEBPACK_IMPORTED_MODULE_0_three__[\"Clock\"]();}},{key:'setupDebug',value:function setupDebug(){}},{key:'setupLoader',value:function setupLoader(){this.loadingManager=new __WEBPACK_IMPORTED_MODULE_0_three__[\"LoadingManager\"]();this.loadingManager.onProgress=this.onProgressCb;this.loadingManager.onLoad=this.onLoadCb;this.loaderJSON=new __WEBPACK_IMPORTED_MODULE_0_three__[\"JSONLoader\"](this.loadingManager);this.loaderFile=new __WEBPACK_IMPORTED_MODULE_0_three__[\"FileLoader\"](this.loadingManager);}},{key:'setupScene',value:function setupScene(){this.scene=new __WEBPACK_IMPORTED_MODULE_0_three__[\"Scene\"]();window.THREE=__WEBPACK_IMPORTED_MODULE_0_three__;window.scene=this.scene;}},{key:'setupCamera',value:function setupCamera(){this.cameraPoint=null;this.cameraTarget=new __WEBPACK_IMPORTED_MODULE_0_three__[\"Vector3\"]();this.cameraLerp=0.1;this.camera=new __WEBPACK_IMPORTED_MODULE_0_three__[\"PerspectiveCamera\"](20,0,0.0001,1000000);this.camera.position.copy(__WEBPACK_IMPORTED_MODULE_10__constants__[\"b\" /* CAMERA_POINTS */].debugTop);this.camera.lookAt(new __WEBPACK_IMPORTED_MODULE_0_three__[\"Vector3\"]());}},{key:'setupRenderer',value:function setupRenderer(){this.renderer=new __WEBPACK_IMPORTED_MODULE_0_three__[\"WebGLRenderer\"]({alpha:true,antialias:true,autoClear:false});this.renderer.shadowMap.soft=false;this.renderer.shadowMap.enabled=true;// this.renderer.setClearColor ( 0xFFFFFF, 1.0);\nthis.container.appendChild(this.renderer.domElement);}},{key:'setupComposer',value:function setupComposer(){var parameters={minFilter:__WEBPACK_IMPORTED_MODULE_0_three__[\"LinearFilter\"],magFilter:__WEBPACK_IMPORTED_MODULE_0_three__[\"LinearFilter\"],format:__WEBPACK_IMPORTED_MODULE_0_three__[\"RGBAFormat\"],stencilBuffer:false};var renderTarget=new __WEBPACK_IMPORTED_MODULE_0_three__[\"WebGLRenderTarget\"](this.width,this.height,parameters);this.composer=new EffectComposer(this.renderer,renderTarget);this.composer.addPass(new EffectComposer.RenderPass(this.scene,this.camera));this.copyPass=new EffectComposer.ShaderPass(EffectComposer.CopyShader);// copyPass.renderToScreen = true;\nthis.composer.addPass(this.copyPass);this.fxaaPass=new EffectComposer.ShaderPass(__WEBPACK_IMPORTED_MODULE_2_three_shader_fxaa___default()());// this.fxaaPass.renderToScreen = true;\nthis.composer.addPass(this.fxaaPass);this.glitchPass=new __WEBPACK_IMPORTED_MODULE_4__lib_GlitchPass__[\"a\" /* default */](64);this.glitchPass.renderToScreen=true;this.composer.addPass(this.glitchPass);// // Make sure screen resolution is set!\nthis.fxaaPass.uniforms.resolution.value.set(window.innerWidth,window.innerHeight);}},{key:'setupControls',value:function setupControls(){this.controls=new __WEBPACK_IMPORTED_MODULE_3__lib_OrbitControls__[\"a\" /* default */](this.camera);this.controls.enabled=true;this.controls.minPolarAngle=0;this.controls.maxPolarAngle=Math.PI/2-0.15;this.controls.rotateSpeed=0.1;this.controls.dampingFactor=0.05;this.controls.minDistance=0;this.controls.maxDistance=600000;this.controls.enableZoom=this.options.debug||false;this.controls.target.copy(new __WEBPACK_IMPORTED_MODULE_0_three__[\"Vector3\"](0,0,0));}},{key:'setupHelpers',value:function setupHelpers(){var tileSize=Object(__WEBPACK_IMPORTED_MODULE_11__Calc__[\"d\" /* getTileSize */])(__WEBPACK_IMPORTED_MODULE_10__constants__[\"c\" /* CENTER */].lat,__WEBPACK_IMPORTED_MODULE_10__constants__[\"c\" /* CENTER */].lon,__WEBPACK_IMPORTED_MODULE_10__constants__[\"h\" /* DEFAULTS */].zoom,this.mercator);var tileNW=Object(__WEBPACK_IMPORTED_MODULE_11__Calc__[\"c\" /* geo2tile */])(__WEBPACK_IMPORTED_MODULE_10__constants__[\"c\" /* CENTER */].lat,__WEBPACK_IMPORTED_MODULE_10__constants__[\"c\" /* CENTER */].lon,__WEBPACK_IMPORTED_MODULE_10__constants__[\"h\" /* DEFAULTS */].zoom);var tileStart=Object(__WEBPACK_IMPORTED_MODULE_11__Calc__[\"f\" /* tile2geo */])(tileNW.x,tileNW.y,__WEBPACK_IMPORTED_MODULE_10__constants__[\"h\" /* DEFAULTS */].zoom);var positionStart=this.mercator.fromGeo(tileStart.lat,tileStart.lon);var tiles=30;var axisHelper=new __WEBPACK_IMPORTED_MODULE_0_three__[\"AxesHelper\"](1000);this.gridHelper=new __WEBPACK_IMPORTED_MODULE_0_three__[\"GridHelper\"](tileSize*tiles,tiles,__WEBPACK_IMPORTED_MODULE_10__constants__[\"k\" /* PALETTE */].grid,__WEBPACK_IMPORTED_MODULE_10__constants__[\"k\" /* PALETTE */].gridMain);this.gridHelper.position.set(positionStart.x,0,positionStart.y-tileSize);this.gridHelper.material.transparent=true;this.gridHelper.material.opacity=0.1;this.scene.add(axisHelper);this.scene.add(this.gridHelper);}},{key:'setupListeners',value:function setupListeners(){var _this=this;window.addEventListener('resize',function(e){return _this.onResize(e);});document.addEventListener('keydown',this.onKeyDown.bind(this),false);document.addEventListener('mousemove',this.onDocumentMouseMove.bind(this),false);}},{key:'setupSize',value:function setupSize(){this.width=window.innerWidth;// this.container.offsetWidth;\nthis.height=window.innerHeight;// this.container.offsetHeight;\n}},{key:'onResize',value:function onResize(){this.setupSize();this.dpr=window.devicePixelRatio>1?2:1;this.renderer.setPixelRatio(this.dpr);this.renderer.setSize(this.width,this.height);this.camera.aspect=this.width/this.height;this.camera.updateProjectionMatrix();this.setupComposer();// this.composer.setSize(this.width, this.height);\n// this.fxaaPass.uniforms.resolution.value.set(this.width, this.height);\n}},{key:'onKeyDown',value:function onKeyDown(e){switch(e.keyCode){case 83:{// s\n/* eslint-disable */console.log('SAVE camera to LS ==>');console.log('camera position:',this.camera.position.x.toFixed(2)+', '+this.camera.position.y.toFixed(2)+', '+this.camera.position.z.toFixed(2));/* eslint-enable */localStorage.setItem(__WEBPACK_IMPORTED_MODULE_10__constants__[\"j\" /* LS_PREFIX */]+'savedCamera',JSON.stringify({cameraPosition:this.camera.position,targetPosition:this.controls.target}));break;}case 84:{// t \nthis.tilemap&&this.tilemap.saveTiles();break;}case 68:{console.log('LOAD camera from LS <==');this.loadCameraFromLS();break;}default:break;}}},{key:'onDocumentMouseMove',value:function onDocumentMouseMove(event){var x=event.clientX/window.innerWidth*2-1;var y=-(event.clientY/window.innerHeight)*2+1;this.mouse={x:x,y:y};}},{key:'loadCameraFromLS',value:function loadCameraFromLS(){var savedCamera=JSON.parse(localStorage.getItem(__WEBPACK_IMPORTED_MODULE_10__constants__[\"j\" /* LS_PREFIX */]+'savedCamera'));if(savedCamera){this.camera.position.copy(savedCamera.cameraPosition);this.camera.lookAt(savedCamera.targetPosition);this.controls.target.copy(savedCamera.targetPosition);}}},{key:'update',value:function update(){if(this.mouse){this.raycaster.setFromCamera(this.mouse,this.camera);}if(this.controls){this.controls.update();}this.grid&&this.grid.update();this.city&&this.city.update();this.transit&&this.transit.update();this.tilemap&&this.tilemap.update();this.its&&this.its.update();}},{key:'render',value:function render(){this.renderer.render(this.scene,this.camera);}},{key:'loop',value:function loop(){var _this2=this;if(this.isRunning){this.update();if(!this.composer){this.render();}else{this.composer.render();}}this.raf=window.requestAnimationFrame(function(){return _this2.loop();});}},{key:'makeGlitch',value:function makeGlitch(){var _this3=this;var duration=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0.25;var effect={p:1};__WEBPACK_IMPORTED_MODULE_1_gsap__[\"TweenMax\"].to(effect,duration,{p:0,onStart:function onStart(){return _this3.glitchPass.isEnabled=true;},onComplete:function onComplete(){return _this3.glitchPass.isEnabled=false;},onUpdate:function onUpdate(){return _this3.glitchPass.byp=effect.p;}});}},{key:'toggle',value:function toggle(forcedState){if(forcedState!==undefined){this.isRunning=forcedState;}else{this.isRunning=!this.isRunning;}console.log('System.toggle():',this.isRunning,forcedState);}}]);return System;}();/* harmony default export */ __webpack_exports__[\"a\"] = (System);\n\n/***/ }),\n/* 119 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(global) {\nmodule.exports = threeShaderFXAA\nfunction threeShaderFXAA (opt) {\n  if (typeof global.THREE === 'undefined') {\n    throw new TypeError('You must have THREE in global scope for this module.')\n  }\n  opt = opt || {}\n  return {\n    uniforms: {\n      tDiffuse: { type: 't', value: new THREE.Texture() },\n      resolution: { type: 'v2', value: opt.resolution || new THREE.Vector2() }\n    },\n    vertexShader: \"#define GLSLIFY 1\\nvarying vec2 vUv;\\n\\nvarying vec2 v_rgbNW;\\nvarying vec2 v_rgbNE;\\nvarying vec2 v_rgbSW;\\nvarying vec2 v_rgbSE;\\nvarying vec2 v_rgbM;\\n\\nuniform vec2 resolution;\\n\\nvoid main() {\\n  vUv = uv;\\n  vec2 fragCoord = uv * resolution;\\n  vec2 inverseVP = 1.0 / resolution.xy;\\n  v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\\n  v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\\n  v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\\n  v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\\n  v_rgbM = vec2(fragCoord * inverseVP);\\n\\n  gl_Position = projectionMatrix *\\n              modelViewMatrix *\\n              vec4(position,1.0);\\n}\\n\",\n    fragmentShader: \"#define GLSLIFY 1\\nvarying vec2 vUv;\\n\\n//texcoords computed in vertex step\\n//to avoid dependent texture reads\\nvarying vec2 v_rgbNW;\\nvarying vec2 v_rgbNE;\\nvarying vec2 v_rgbSW;\\nvarying vec2 v_rgbSE;\\nvarying vec2 v_rgbM;\\n\\n//make sure to have a resolution uniform set to the screen size\\nuniform vec2 resolution;\\nuniform sampler2D tDiffuse;\\n\\n/**\\nBasic FXAA implementation based on the code on geeks3d.com with the\\nmodification that the texture2DLod stuff was removed since it's\\nunsupported by WebGL.\\n\\n--\\n\\nFrom:\\nhttps://github.com/mitsuhiko/webgl-meincraft\\n\\nCopyright (c) 2011 by Armin Ronacher.\\n\\nSome rights reserved.\\n\\nRedistribution and use in source and binary forms, with or without\\nmodification, are permitted provided that the following conditions are\\nmet:\\n\\n    * Redistributions of source code must retain the above copyright\\n      notice, this list of conditions and the following disclaimer.\\n\\n    * Redistributions in binary form must reproduce the above\\n      copyright notice, this list of conditions and the following\\n      disclaimer in the documentation and/or other materials provided\\n      with the distribution.\\n\\n    * The names of the contributors may not be used to endorse or\\n      promote products derived from this software without specific\\n      prior written permission.\\n\\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\\n\\\"AS IS\\\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\\nLIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\\nA PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\\nOWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\\nSPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\\nLIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\\nDATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\\nTHEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\\nOF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\\n*/\\n\\n#ifndef FXAA_REDUCE_MIN\\n    #define FXAA_REDUCE_MIN   (1.0/ 128.0)\\n#endif\\n#ifndef FXAA_REDUCE_MUL\\n    #define FXAA_REDUCE_MUL   (1.0 / 8.0)\\n#endif\\n#ifndef FXAA_SPAN_MAX\\n    #define FXAA_SPAN_MAX     8.0\\n#endif\\n\\n//optimized version for mobile, where dependent \\n//texture reads can be a bottleneck\\nvec4 fxaa_1540259130(sampler2D tex, vec2 fragCoord, vec2 resolution,\\n            vec2 v_rgbNW, vec2 v_rgbNE, \\n            vec2 v_rgbSW, vec2 v_rgbSE, \\n            vec2 v_rgbM) {\\n    vec4 color;\\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\\n    vec4 texColor = texture2D(tex, v_rgbM);\\n    vec3 rgbM  = texColor.xyz;\\n    vec3 luma = vec3(0.299, 0.587, 0.114);\\n    float lumaNW = dot(rgbNW, luma);\\n    float lumaNE = dot(rgbNE, luma);\\n    float lumaSW = dot(rgbSW, luma);\\n    float lumaSE = dot(rgbSE, luma);\\n    float lumaM  = dot(rgbM,  luma);\\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\\n    \\n    mediump vec2 dir;\\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\\n    \\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\\n    \\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\\n              dir * rcpDirMin)) * inverseVP;\\n    \\n    vec3 rgbA = 0.5 * (\\n        texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\\n        texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\\n        texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\\n        texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\\n\\n    float lumaB = dot(rgbB, luma);\\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\\n        color = vec4(rgbA, texColor.a);\\n    else\\n        color = vec4(rgbB, texColor.a);\\n    return color;\\n}\\n\\nvoid main() {\\n  vec2 fragCoord = vUv * resolution;   \\n  gl_FragColor = fxaa_1540259130(tDiffuse, fragCoord, resolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\\n}\\n\"\n  }\n}\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(17)))\n\n/***/ }),\n/* 120 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* eslint-disable *//**\r\n * @author qiao / https://github.com/qiao\r\n * @author mrdoob / http://mrdoob.com\r\n * @author alteredq / http://alteredqualia.com/\r\n * @author WestLangley / http://github.com/WestLangley\r\n * @author erich666 / http://erichaines.com\r\n */// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n//\n//    Orbit - left mouse / touch: one finger move\n//    Zoom - middle mouse, or mousewheel / touch: two finger spread or squish\n//    Pan - right mouse, or arrow keys / touch: three finger swipe\nvar THREE=window.THREE||__webpack_require__(27);function OrbitControls(object,domElement){this.object=object;this.domElement=domElement!==undefined?domElement:document;// Set to false to disable this control\nthis.enabled=true;// \"target\" sets the location of focus, where the object orbits around\nthis.target=new THREE.Vector3();// How far you can dolly in and out ( PerspectiveCamera only )\nthis.minDistance=0;this.maxDistance=Infinity;// How far you can zoom in and out ( OrthographicCamera only )\nthis.minZoom=0;this.maxZoom=Infinity;// How far you can orbit vertically, upper and lower limits.\n// Range is 0 to Math.PI radians.\nthis.minPolarAngle=0;// radians\nthis.maxPolarAngle=Math.PI;// radians\n// How far you can orbit horizontally, upper and lower limits.\n// If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\nthis.minAzimuthAngle=-Infinity;// radians\nthis.maxAzimuthAngle=Infinity;// radians\n// Set to true to enable damping (inertia)\n// If damping is enabled, you must call controls.update() in your animation loop\nthis.enableDamping=true;this.dampingFactor=0.12;// This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n// Set to false to disable zooming\nthis.enableZoom=true;this.zoomSpeed=1.0;// Set to false to disable rotating\nthis.enableRotate=true;this.rotateSpeed=1.0;// Set to false to disable panning\nthis.enablePan=true;this.keyPanSpeed=7.0;// pixels moved per arrow key push\n// Set to true to automatically rotate around the target\n// If auto-rotate is enabled, you must call controls.update() in your animation loop\nthis.autoRotate=false;this.autoRotateSpeed=2.0;// 30 seconds per round when fps is 60\n// Set to false to disable use of the keys\nthis.enableKeys=true;// The four arrow keys\nthis.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40};// Mouse buttons\nthis.mouseButtons={ORBIT:THREE.MOUSE.LEFT,ZOOM:THREE.MOUSE.MIDDLE,PAN:THREE.MOUSE.RIGHT};// for reset\nthis.target0=this.target.clone();this.position0=this.object.position.clone();this.zoom0=this.object.zoom;//\n// public methods\n//\nthis.getPolarAngle=function(){return spherical.phi;};this.getAzimuthalAngle=function(){return spherical.theta;};this.saveState=function(){scope.target0.copy(scope.target);scope.position0.copy(scope.object.position);scope.zoom0=scope.object.zoom;};this.reset=function(){scope.target.copy(scope.target0);scope.object.position.copy(scope.position0);scope.object.zoom=scope.zoom0;scope.object.updateProjectionMatrix();scope.dispatchEvent(changeEvent);scope.update();state=STATE.NONE;};// this method is exposed, but perhaps it would be better if we can make it private...\nthis.update=function(){var offset=new THREE.Vector3();// so camera.up is the orbit axis\nvar quat=new THREE.Quaternion().setFromUnitVectors(object.up,new THREE.Vector3(0,1,0));var quatInverse=quat.clone().inverse();var lastPosition=new THREE.Vector3();var lastQuaternion=new THREE.Quaternion();return function update(){var position=scope.object.position;offset.copy(position).sub(scope.target);// rotate offset to \"y-axis-is-up\" space\noffset.applyQuaternion(quat);// angle from z-axis around y-axis\nspherical.setFromVector3(offset);if(scope.autoRotate&&state===STATE.NONE){rotateLeft(getAutoRotationAngle());}spherical.theta+=sphericalDelta.theta;spherical.phi+=sphericalDelta.phi;// restrict theta to be between desired limits\nspherical.theta=Math.max(scope.minAzimuthAngle,Math.min(scope.maxAzimuthAngle,spherical.theta));// restrict phi to be between desired limits\nspherical.phi=Math.max(scope.minPolarAngle,Math.min(scope.maxPolarAngle,spherical.phi));spherical.makeSafe();spherical.radius*=scale;// restrict radius to be between desired limits\nspherical.radius=Math.max(scope.minDistance,Math.min(scope.maxDistance,spherical.radius));// move target to panned location\nscope.target.add(panOffset);offset.setFromSpherical(spherical);// rotate offset back to \"camera-up-vector-is-up\" space\noffset.applyQuaternion(quatInverse);position.copy(scope.target).add(offset);scope.object.lookAt(scope.target);if(scope.enableDamping===true){sphericalDelta.theta*=1-scope.dampingFactor;sphericalDelta.phi*=1-scope.dampingFactor;}else{sphericalDelta.set(0,0,0);}scale=1;panOffset.set(0,0,0);// update condition is:\n// min(camera displacement, camera rotation in radians)^2 > EPS\n// using small-angle approximation cos(x/2) = 1 - x^2 / 8\nif(zoomChanged||lastPosition.distanceToSquared(scope.object.position)>EPS||8*(1-lastQuaternion.dot(scope.object.quaternion))>EPS){scope.dispatchEvent(changeEvent);lastPosition.copy(scope.object.position);lastQuaternion.copy(scope.object.quaternion);zoomChanged=false;return true;}return false;};}();this.dispose=function(){scope.domElement.removeEventListener('contextmenu',onContextMenu,false);scope.domElement.removeEventListener('mousedown',onMouseDown,false);scope.domElement.removeEventListener('wheel',onMouseWheel,false);scope.domElement.removeEventListener('touchstart',onTouchStart,false);scope.domElement.removeEventListener('touchend',onTouchEnd,false);scope.domElement.removeEventListener('touchmove',onTouchMove,false);document.removeEventListener('mousemove',onMouseMove,false);document.removeEventListener('mouseup',onMouseUp,false);window.removeEventListener('keydown',onKeyDown,false);//scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n};//\n// internals\n//\nvar scope=this;var changeEvent={type:'change'};var startEvent={type:'start'};var endEvent={type:'end'};var STATE={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5};var state=STATE.NONE;var EPS=0.000001;// current position in spherical coordinates\nvar spherical=new THREE.Spherical();var sphericalDelta=new THREE.Spherical();var scale=1;var panOffset=new THREE.Vector3();var zoomChanged=false;var rotateStart=new THREE.Vector2();var rotateEnd=new THREE.Vector2();var rotateDelta=new THREE.Vector2();var panStart=new THREE.Vector2();var panEnd=new THREE.Vector2();var panDelta=new THREE.Vector2();var dollyStart=new THREE.Vector2();var dollyEnd=new THREE.Vector2();var dollyDelta=new THREE.Vector2();function getAutoRotationAngle(){return 2*Math.PI/60/60*scope.autoRotateSpeed;}function getZoomScale(){return Math.pow(0.95,scope.zoomSpeed);}function rotateLeft(angle){sphericalDelta.theta-=angle;}function rotateUp(angle){sphericalDelta.phi-=angle;}var panLeft=function(){var v=new THREE.Vector3();return function panLeft(distance,objectMatrix){v.setFromMatrixColumn(objectMatrix,0);// get X column of objectMatrix\nv.multiplyScalar(-distance);panOffset.add(v);};}();var panUp=function(){var v=new THREE.Vector3();return function panUp(distance,objectMatrix){v.setFromMatrixColumn(objectMatrix,1);// get Y column of objectMatrix\nv.multiplyScalar(distance);panOffset.add(v);};}();// deltaX and deltaY are in pixels; right and down are positive\nvar pan=function(){var offset=new THREE.Vector3();return function pan(deltaX,deltaY){var element=scope.domElement===document?scope.domElement.body:scope.domElement;if(scope.object instanceof THREE.PerspectiveCamera){// perspective\nvar position=scope.object.position;offset.copy(position).sub(scope.target);var targetDistance=offset.length();// half of the fov is center to top of screen\ntargetDistance*=Math.tan(scope.object.fov/2*Math.PI/180.0);// we actually don't use screenWidth, since perspective camera is fixed to screen height\npanLeft(2*deltaX*targetDistance/element.clientHeight,scope.object.matrix);panUp(2*deltaY*targetDistance/element.clientHeight,scope.object.matrix);}else if(scope.object instanceof THREE.OrthographicCamera){// orthographic\npanLeft(deltaX*(scope.object.right-scope.object.left)/scope.object.zoom/element.clientWidth,scope.object.matrix);panUp(deltaY*(scope.object.top-scope.object.bottom)/scope.object.zoom/element.clientHeight,scope.object.matrix);}else{// camera neither orthographic nor perspective\nconsole.warn('WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.');scope.enablePan=false;}};}();function dollyIn(dollyScale){if(scope.object instanceof THREE.PerspectiveCamera){scale/=dollyScale;}else if(scope.object instanceof THREE.OrthographicCamera){scope.object.zoom=Math.max(scope.minZoom,Math.min(scope.maxZoom,scope.object.zoom*dollyScale));scope.object.updateProjectionMatrix();zoomChanged=true;}else{console.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');scope.enableZoom=false;}}function dollyOut(dollyScale){if(scope.object instanceof THREE.PerspectiveCamera){scale*=dollyScale;}else if(scope.object instanceof THREE.OrthographicCamera){scope.object.zoom=Math.max(scope.minZoom,Math.min(scope.maxZoom,scope.object.zoom/dollyScale));scope.object.updateProjectionMatrix();zoomChanged=true;}else{console.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');scope.enableZoom=false;}}//\n// event callbacks - update the object state\n//\nfunction handleMouseDownRotate(event){//console.log( 'handleMouseDownRotate' );\nrotateStart.set(event.clientX,event.clientY);}function handleMouseDownDolly(event){//console.log( 'handleMouseDownDolly' );\ndollyStart.set(event.clientX,event.clientY);}function handleMouseDownPan(event){//console.log( 'handleMouseDownPan' );\npanStart.set(event.clientX,event.clientY);}function handleMouseMoveRotate(event){//console.log( 'handleMouseMoveRotate' );\nrotateEnd.set(event.clientX,event.clientY);rotateDelta.subVectors(rotateEnd,rotateStart);var element=scope.domElement===document?scope.domElement.body:scope.domElement;// rotating across whole screen goes 360 degrees around\nrotateLeft(2*Math.PI*rotateDelta.x/element.clientWidth*scope.rotateSpeed);// rotating up and down along whole screen attempts to go 360, but limited to 180\nrotateUp(2*Math.PI*rotateDelta.y/element.clientHeight*scope.rotateSpeed);rotateStart.copy(rotateEnd);scope.update();}function handleMouseMoveDolly(event){//console.log( 'handleMouseMoveDolly' );\ndollyEnd.set(event.clientX,event.clientY);dollyDelta.subVectors(dollyEnd,dollyStart);if(dollyDelta.y>0){dollyIn(getZoomScale());}else if(dollyDelta.y<0){dollyOut(getZoomScale());}dollyStart.copy(dollyEnd);scope.update();}function handleMouseMovePan(event){//console.log( 'handleMouseMovePan' );\npanEnd.set(event.clientX,event.clientY);panDelta.subVectors(panEnd,panStart);pan(panDelta.x,panDelta.y);panStart.copy(panEnd);scope.update();}function handleMouseUp(event){// console.log( 'handleMouseUp' );\n}function handleMouseWheel(event){// console.log( 'handleMouseWheel' );\nif(event.deltaY<0){dollyOut(getZoomScale());}else if(event.deltaY>0){dollyIn(getZoomScale());}scope.update();}function handleKeyDown(event){//console.log( 'handleKeyDown' );\nswitch(event.keyCode){case scope.keys.UP:pan(0,scope.keyPanSpeed);scope.update();break;case scope.keys.BOTTOM:pan(0,-scope.keyPanSpeed);scope.update();break;case scope.keys.LEFT:pan(scope.keyPanSpeed,0);scope.update();break;case scope.keys.RIGHT:pan(-scope.keyPanSpeed,0);scope.update();break;}}function handleTouchStartRotate(event){//console.log( 'handleTouchStartRotate' );\nrotateStart.set(event.touches[0].pageX,event.touches[0].pageY);}function handleTouchStartDolly(event){//console.log( 'handleTouchStartDolly' );\nvar dx=event.touches[0].pageX-event.touches[1].pageX;var dy=event.touches[0].pageY-event.touches[1].pageY;var distance=Math.sqrt(dx*dx+dy*dy);dollyStart.set(0,distance);}function handleTouchStartPan(event){//console.log( 'handleTouchStartPan' );\npanStart.set(event.touches[0].pageX,event.touches[0].pageY);}function handleTouchMoveRotate(event){//console.log( 'handleTouchMoveRotate' );\nrotateEnd.set(event.touches[0].pageX,event.touches[0].pageY);rotateDelta.subVectors(rotateEnd,rotateStart);var element=scope.domElement===document?scope.domElement.body:scope.domElement;// rotating across whole screen goes 360 degrees around\nrotateLeft(2*Math.PI*rotateDelta.x/element.clientWidth*scope.rotateSpeed);// rotating up and down along whole screen attempts to go 360, but limited to 180\nrotateUp(2*Math.PI*rotateDelta.y/element.clientHeight*scope.rotateSpeed);rotateStart.copy(rotateEnd);scope.update();}function handleTouchMoveDolly(event){//console.log( 'handleTouchMoveDolly' );\nvar dx=event.touches[0].pageX-event.touches[1].pageX;var dy=event.touches[0].pageY-event.touches[1].pageY;var distance=Math.sqrt(dx*dx+dy*dy);dollyEnd.set(0,distance);dollyDelta.subVectors(dollyEnd,dollyStart);if(dollyDelta.y>0){dollyOut(getZoomScale());}else if(dollyDelta.y<0){dollyIn(getZoomScale());}dollyStart.copy(dollyEnd);scope.update();}function handleTouchMovePan(event){//console.log( 'handleTouchMovePan' );\npanEnd.set(event.touches[0].pageX,event.touches[0].pageY);panDelta.subVectors(panEnd,panStart);pan(panDelta.x,panDelta.y);panStart.copy(panEnd);scope.update();}function handleTouchEnd(event){}//console.log( 'handleTouchEnd' );\n//\n// event handlers - FSM: listen for events and reset state\n//\nfunction onMouseDown(event){if(scope.enabled===false)return;event.preventDefault();switch(event.button){case scope.mouseButtons.ORBIT:if(scope.enableRotate===false)return;handleMouseDownRotate(event);state=STATE.ROTATE;break;case scope.mouseButtons.ZOOM:if(scope.enableZoom===false)return;handleMouseDownDolly(event);state=STATE.DOLLY;break;case scope.mouseButtons.PAN:if(scope.enablePan===false)return;handleMouseDownPan(event);state=STATE.PAN;break;}if(state!==STATE.NONE){document.addEventListener('mousemove',onMouseMove,false);document.addEventListener('mouseup',onMouseUp,false);scope.dispatchEvent(startEvent);}}function onMouseMove(event){if(scope.enabled===false)return;event.preventDefault();switch(state){case STATE.ROTATE:if(scope.enableRotate===false)return;handleMouseMoveRotate(event);break;case STATE.DOLLY:if(scope.enableZoom===false)return;handleMouseMoveDolly(event);break;case STATE.PAN:if(scope.enablePan===false)return;handleMouseMovePan(event);break;}}function onMouseUp(event){if(scope.enabled===false)return;handleMouseUp(event);document.removeEventListener('mousemove',onMouseMove,false);document.removeEventListener('mouseup',onMouseUp,false);scope.dispatchEvent(endEvent);state=STATE.NONE;}function onMouseWheel(event){if(scope.enabled===false||scope.enableZoom===false||state!==STATE.NONE&&state!==STATE.ROTATE)return;// event.preventDefault();\nevent.stopPropagation();handleMouseWheel(event);scope.dispatchEvent(startEvent);// not sure why these are here...\nscope.dispatchEvent(endEvent);}function onKeyDown(event){if(scope.enabled===false||scope.enableKeys===false||scope.enablePan===false)return;handleKeyDown(event);}function onTouchStart(event){if(scope.enabled===false)return;switch(event.touches.length){case 1:// one-fingered touch: rotate\nif(scope.enableRotate===false)return;handleTouchStartRotate(event);state=STATE.TOUCH_ROTATE;break;case 2:// two-fingered touch: dolly\nif(scope.enableZoom===false)return;handleTouchStartDolly(event);state=STATE.TOUCH_DOLLY;break;case 3:// three-fingered touch: pan\nif(scope.enablePan===false)return;handleTouchStartPan(event);state=STATE.TOUCH_PAN;break;default:state=STATE.NONE;}if(state!==STATE.NONE){scope.dispatchEvent(startEvent);}}function onTouchMove(event){if(scope.enabled===false)return;event.preventDefault();event.stopPropagation();switch(event.touches.length){case 1:// one-fingered touch: rotate\nif(scope.enableRotate===false)return;if(state!==STATE.TOUCH_ROTATE)return;// is this needed?...\nhandleTouchMoveRotate(event);break;case 2:// two-fingered touch: dolly\nif(scope.enableZoom===false)return;if(state!==STATE.TOUCH_DOLLY)return;// is this needed?...\nhandleTouchMoveDolly(event);break;case 3:// three-fingered touch: pan\nif(scope.enablePan===false)return;if(state!==STATE.TOUCH_PAN)return;// is this needed?...\nhandleTouchMovePan(event);break;default:state=STATE.NONE;}}function onTouchEnd(event){if(scope.enabled===false)return;handleTouchEnd(event);scope.dispatchEvent(endEvent);state=STATE.NONE;}function onContextMenu(event){event.preventDefault();}//\nscope.domElement.addEventListener('contextmenu',onContextMenu,false);scope.domElement.addEventListener('mousedown',onMouseDown,false);scope.domElement.addEventListener('wheel',onMouseWheel,{passive:true});scope.domElement.addEventListener('touchstart',onTouchStart,false);scope.domElement.addEventListener('touchend',onTouchEnd,false);scope.domElement.addEventListener('touchmove',onTouchMove,false);window.addEventListener('keydown',onKeyDown,false);// force an update at start\nthis.update();};OrbitControls.prototype=Object.create(THREE.EventDispatcher.prototype);OrbitControls.prototype.constructor=THREE.OrbitControls;Object.defineProperties(OrbitControls.prototype,{center:{get:function get(){console.warn('THREE.OrbitControls: .center has been renamed to .target');return this.target;}},// backward compatibility\nnoZoom:{get:function get(){console.warn('THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.');return!this.enableZoom;},set:function set(value){console.warn('THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.');this.enableZoom=!value;}},noRotate:{get:function get(){console.warn('THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.');return!this.enableRotate;},set:function set(value){console.warn('THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.');this.enableRotate=!value;}},noPan:{get:function get(){console.warn('THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.');return!this.enablePan;},set:function set(value){console.warn('THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.');this.enablePan=!value;}},noKeys:{get:function get(){console.warn('THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.');return!this.enableKeys;},set:function set(value){console.warn('THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.');this.enableKeys=!value;}},staticMoving:{get:function get(){console.warn('THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.');return!this.enableDamping;},set:function set(value){console.warn('THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.');this.enableDamping=!value;}},dynamicDampingFactor:{get:function get(){console.warn('THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.');return this.dampingFactor;},set:function set(value){console.warn('THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.');this.dampingFactor=value;}}});/* harmony default export */ __webpack_exports__[\"a\"] = (OrbitControls);\n\n/***/ }),\n/* 121 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_three__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__shaders_digitalGlitch__ = __webpack_require__(122);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_three_effectcomposer_es6__ = __webpack_require__(98);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_three_effectcomposer_es6___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_three_effectcomposer_es6__);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}/**\n * @author alteredq / http://alteredqualia.com/\n */var GlitchPass=function(_RenderPass){_inherits(GlitchPass,_RenderPass);function GlitchPass(){var dt_size=arguments.length>0&&arguments[0]!==undefined?arguments[0]:64;_classCallCheck(this,GlitchPass);var _this=_possibleConstructorReturn(this,(GlitchPass.__proto__||Object.getPrototypeOf(GlitchPass)).call(this));_this.uniforms=__WEBPACK_IMPORTED_MODULE_0_three__[\"UniformsUtils\"].clone(__WEBPACK_IMPORTED_MODULE_1__shaders_digitalGlitch__[\"a\" /* default */].uniforms);// this.uniforms['tDisp'].value = this.generateHeightmap();\n_this.material=new __WEBPACK_IMPORTED_MODULE_0_three__[\"ShaderMaterial\"]({uniforms:_this.uniforms,vertexShader:__WEBPACK_IMPORTED_MODULE_1__shaders_digitalGlitch__[\"a\" /* default */].vertexShader,fragmentShader:__WEBPACK_IMPORTED_MODULE_1__shaders_digitalGlitch__[\"a\" /* default */].fragmentShader});_this.camera=new __WEBPACK_IMPORTED_MODULE_0_three__[\"OrthographicCamera\"](-1,1,1,-1,0,1);_this.scene=new __WEBPACK_IMPORTED_MODULE_0_three__[\"Scene\"]();_this.quad=new __WEBPACK_IMPORTED_MODULE_0_three__[\"Mesh\"](new __WEBPACK_IMPORTED_MODULE_0_three__[\"PlaneBufferGeometry\"](2,2),null);_this.quad.frustumCulled=false;// Avoid getting clipped\n_this.scene.add(_this.quad);_this.isEnabled=false;_this.goWild=false;_this.curF=0;_this.byp=1;_this.generateTrigger();return _this;}_createClass(GlitchPass,[{key:'render',value:function render(renderer,writeBuffer,readBuffer,delta,maskActive){this.uniforms['tDiffuse'].value=readBuffer.texture;this.uniforms['seed'].value=Math.random();//default seeding\nthis.uniforms['byp'].value=this.isEnabled?this.byp:1;this.uniforms['amount'].value=Math.random()/80;this.uniforms['angle'].value=__WEBPACK_IMPORTED_MODULE_0_three__[\"Math\"].randFloat(-Math.PI,Math.PI);this.uniforms['distortion_x'].value=__WEBPACK_IMPORTED_MODULE_0_three__[\"Math\"].randFloat(0.1,1);this.uniforms['distortion_y'].value=__WEBPACK_IMPORTED_MODULE_0_three__[\"Math\"].randFloat(0.1,1);this.uniforms['seed_x'].value=__WEBPACK_IMPORTED_MODULE_0_three__[\"Math\"].randFloat(-1,1);this.uniforms['seed_y'].value=__WEBPACK_IMPORTED_MODULE_0_three__[\"Math\"].randFloat(-1,1);this.generateTrigger();this.curF++;this.quad.material=this.material;if(this.renderToScreen){renderer.render(this.scene,this.camera);}else{renderer.render(this.scene,this.camera,writeBuffer,this.clear);}}},{key:'generateTrigger',value:function generateTrigger(){this.randX=__WEBPACK_IMPORTED_MODULE_0_three__[\"Math\"].randInt(120,240);}},{key:'generateHeightmap',value:function generateHeightmap(){var data_arr=new Float32Array(this.dt_size*this.dt_size*3);var length=this.dt_size*this.dt_size;for(var i=0;i<length;i++){var val=__WEBPACK_IMPORTED_MODULE_0_three__[\"Math\"].randFloat(0,1);data_arr[i*3+0]=val;data_arr[i*3+1]=val;data_arr[i*3+2]=val;}var texture=new __WEBPACK_IMPORTED_MODULE_0_three__[\"DataTexture\"](data_arr,this.dt_size,this.dt_size,__WEBPACK_IMPORTED_MODULE_0_three__[\"RGBFormat\"],__WEBPACK_IMPORTED_MODULE_0_three__[\"FloatType\"]);texture.needsUpdate=true;return texture;}}]);return GlitchPass;}(__WEBPACK_IMPORTED_MODULE_2_three_effectcomposer_es6__[\"RenderPass\"]);/* harmony default export */ __webpack_exports__[\"a\"] = (GlitchPass);\n\n/***/ }),\n/* 122 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/**\n * @author felixturner / http://airtight.cc/\n *\n * RGB Shift Shader\n * Shifts red and blue channels from center in opposite directions\n * Ported from http://kriss.cx/tom/2009/05/rgb-shift/\n * by Tom Butterworth / http://kriss.cx/tom/\n *\n * amount: shift distance (1 is width of input)\n * angle: shift angle in radians\n *//* harmony default export */ __webpack_exports__[\"a\"] = ({uniforms:{\"tDiffuse\":{value:null},//diffuse texture\n\"tDisp\":{value:null},//displacement texture for digital glitch squares\n\"byp\":{value:0},//apply the glitch ?\n\"amount\":{value:0.08},\"angle\":{value:0.02},\"seed\":{value:0.02},\"seed_x\":{value:0.02},//-1,1\n\"seed_y\":{value:0.02},//-1,1\n\"distortion_x\":{value:0.5},\"distortion_y\":{value:0.6},\"col_s\":{value:0.05}},vertexShader:[\"varying vec2 vUv;\",\"void main() {\",\"vUv = uv;\",\"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\"}\"].join(\"\\n\"),fragmentShader:[\"uniform int byp;\",//should we apply the glitch ?\n\"uniform sampler2D tDiffuse;\",\"uniform sampler2D tDisp;\",\"uniform float amount;\",\"uniform float angle;\",\"uniform float seed;\",\"uniform float seed_x;\",\"uniform float seed_y;\",\"uniform float distortion_x;\",\"uniform float distortion_y;\",\"uniform float col_s;\",\"varying vec2 vUv;\",\"float rand(vec2 co){\",\"return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\",\"}\",\"void main() {\",\"if(byp<1) {\",\"vec2 p = vUv;\",\"float xs = floor(gl_FragCoord.x / 0.5);\",\"float ys = floor(gl_FragCoord.y / 0.5);\",//based on staffantans glitch shader for unity https://github.com/staffantan/unityglitch\n\"vec4 normal = texture2D (tDisp, p*seed*seed);\",\"if(p.y<distortion_x+col_s && p.y>distortion_x-col_s*seed) {\",\"if(seed_x>0.){\",\"p.y = 1. - (p.y + distortion_y);\",\"}\",\"else {\",\"p.y = distortion_y;\",\"}\",\"}\",\"if(p.x<distortion_y+col_s && p.x>distortion_y-col_s*seed) {\",\"if(seed_y>0.){\",\"p.x=distortion_x;\",\"}\",\"else {\",\"p.x = 1. - (p.x + distortion_x);\",\"}\",\"}\",\"p.x+=normal.x*seed_x*(seed/5.);\",\"p.y+=normal.y*seed_y*(seed/5.);\",//base from RGB shift shader\n\"vec2 offset = amount * vec2( cos(angle), sin(angle));\",\"vec4 cr = texture2D(tDiffuse, p + offset);\",\"vec4 cga = texture2D(tDiffuse, p);\",\"vec4 cb = texture2D(tDiffuse, p - offset);\",\"gl_FragColor = vec4(cr.r, cga.g, cb.b, cga.a);\",//add noise\n\"vec4 snow = 200.*amount*vec4(rand(vec2(xs * seed,ys * seed*50.))*0.2);\",\"gl_FragColor = gl_FragColor+ snow;\",\"}\",\"else {\",\"gl_FragColor=texture2D (tDiffuse, vUv);\",\"}\",\"}\"].join(\"\\n\")});\n\n/***/ }),\n/* 123 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @author alteredq / http://alteredqualia.com/\n *\n * Full-screen textured quad shader\n */\n\nvar CopyShader = {\n  uniforms: {\n    'tDiffuse': { type: 't', value: null },\n    'opacity': { type: 'f', value: 1.0 }\n  },\n  vertexShader: ['varying vec2 vUv;', 'void main() {', 'vUv = uv;', 'gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );', '}'].join('\\n'),\n  fragmentShader: ['uniform float opacity;', 'uniform sampler2D tDiffuse;', 'varying vec2 vUv;', 'void main() {', 'vec4 texel = texture2D( tDiffuse, vUv );', 'gl_FragColor = opacity * texel;', '}'].join('\\n')\n};\n\nexports.CopyShader = CopyShader;\n\n/***/ }),\n/* 124 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RenderPass = undefined;\n\nvar _three = __webpack_require__(27);\n\nfunction RenderPass(scene, camera, overrideMaterial, clearColor, clearAlpha) {\n  if (!(this instanceof RenderPass)) return new RenderPass(scene, camera, overrideMaterial, clearColor, clearAlpha);\n\n  this.scene = scene;\n  this.camera = camera;\n\n  this.overrideMaterial = overrideMaterial;\n\n  this.clearColor = clearColor;\n  this.clearAlpha = clearAlpha !== undefined ? clearAlpha : 1;\n\n  this.oldClearColor = new _three.Color();\n  this.oldClearAlpha = 1;\n\n  this.enabled = true;\n  this.clear = true;\n  this.needsSwap = false;\n} /**\n   * @author alteredq / http://alteredqualia.com/\n   */\n\nRenderPass.prototype.render = function (renderer, writeBuffer, readBuffer, delta) {\n  this.scene.overrideMaterial = this.overrideMaterial;\n\n  if (this.clearColor) {\n    this.oldClearColor.copy(renderer.getClearColor());\n    this.oldClearAlpha = renderer.getClearAlpha();\n\n    renderer.setClearColor(this.clearColor, this.clearAlpha);\n  }\n\n  renderer.render(this.scene, this.camera, readBuffer, this.clear);\n\n  if (this.clearColor) {\n    renderer.setClearColor(this.oldClearColor, this.oldClearAlpha);\n  }\n\n  this.scene.overrideMaterial = null;\n};\n\nexports.RenderPass = RenderPass;\n\n/***/ }),\n/* 125 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ShaderPass = undefined;\n\nvar _index = __webpack_require__(98);\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _three = __webpack_require__(27);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction ShaderPass(shader, textureID) {\n  if (!(this instanceof ShaderPass)) return new ShaderPass(shader, textureID);\n\n  this.textureID = textureID !== undefined ? textureID : 'tDiffuse';\n\n  this.uniforms = _three.UniformsUtils.clone(shader.uniforms);\n\n  this.material = new _three.ShaderMaterial({\n    uniforms: this.uniforms,\n    vertexShader: shader.vertexShader,\n    fragmentShader: shader.fragmentShader\n  });\n\n  this.renderToScreen = false;\n\n  this.enabled = true;\n  this.needsSwap = true;\n  this.clear = false;\n}\n\nShaderPass.prototype.render = function (renderer, writeBuffer, readBuffer, delta) {\n  if (this.uniforms[this.textureID]) {\n    this.uniforms[this.textureID].value = readBuffer.texture;\n  }\n\n  _index2.default.quad.material = this.material;\n\n  if (this.renderToScreen) {\n    renderer.render(_index2.default.scene, _index2.default.camera);\n  } else {\n    renderer.render(_index2.default.scene, _index2.default.camera, writeBuffer, this.clear);\n  }\n};\n\nexports.ShaderPass = ShaderPass;\n\n/***/ }),\n/* 126 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction MaskPass(scene, camera) {\n  if (!(this instanceof MaskPass)) return new MaskPass(scene, camera);\n\n  this.scene = scene;\n  this.camera = camera;\n\n  this.enabled = true;\n  this.clear = true;\n  this.needsSwap = false;\n\n  this.inverse = false;\n}\n\nMaskPass.prototype.render = function (renderer, writeBuffer, readBuffer, delta) {\n  var context = renderer.context;\n\n  // don't update color or depth\n\n  context.colorMask(false, false, false, false);\n  context.depthMask(false);\n\n  // set up stencil\n\n  var writeValue, clearValue;\n\n  if (this.inverse) {\n    writeValue = 0;\n    clearValue = 1;\n  } else {\n    writeValue = 1;\n    clearValue = 0;\n  }\n\n  context.enable(context.STENCIL_TEST);\n  context.stencilOp(context.REPLACE, context.REPLACE, context.REPLACE);\n  context.stencilFunc(context.ALWAYS, writeValue, 0xffffffff);\n  context.clearStencil(clearValue);\n\n  // draw into the stencil buffer\n\n  renderer.render(this.scene, this.camera, readBuffer, this.clear);\n  renderer.render(this.scene, this.camera, writeBuffer, this.clear);\n\n  // re-enable update of color and depth\n\n  context.colorMask(true, true, true, true);\n  context.depthMask(true);\n\n  // only render where stencil is set to 1\n\n  context.stencilFunc(context.EQUAL, 1, 0xffffffff); // draw if == 1\n  context.stencilOp(context.KEEP, context.KEEP, context.KEEP);\n};\n\nexports.MaskPass = MaskPass;\n\n/***/ }),\n/* 127 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction ClearMaskPass(scene, camera) {\n  if (!(this instanceof ClearMaskPass)) return new ClearMaskPass(scene, camera);\n  this.enabled = true;\n}\n\nClearMaskPass.prototype.render = function (renderer, writeBuffer, readBuffer, delta) {\n  var context = renderer.context;\n  context.disable(context.STENCIL_TEST);\n};\n\nexports.ClearMaskPass = ClearMaskPass;\n\n/***/ }),\n/* 128 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_three__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_gsap__ = __webpack_require__(29);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_gsap___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_gsap__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Crosspoint__ = __webpack_require__(129);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Calc__ = __webpack_require__(96);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__constants__ = __webpack_require__(28);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__Common__ = __webpack_require__(99);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}var Grid=function(){function Grid(system){var zoom=arguments.length>1&&arguments[1]!==undefined?arguments[1]:__WEBPACK_IMPORTED_MODULE_4__constants__[\"h\" /* DEFAULTS */].zoom;_classCallCheck(this,Grid);this.system=system;this.zoom=zoom;this.group=new __WEBPACK_IMPORTED_MODULE_0_three__[\"Object3D\"]();this.tileSize=Object(__WEBPACK_IMPORTED_MODULE_3__Calc__[\"d\" /* getTileSize */])(__WEBPACK_IMPORTED_MODULE_4__constants__[\"c\" /* CENTER */].lat,__WEBPACK_IMPORTED_MODULE_4__constants__[\"c\" /* CENTER */].lon,this.zoom,this.system.mercator);this.grid=[];this.tiles=Object(__WEBPACK_IMPORTED_MODULE_5__Common__[\"b\" /* getTilesExtra */])();var tileNW=Object(__WEBPACK_IMPORTED_MODULE_3__Calc__[\"c\" /* geo2tile */])(51.042667,16.807339,this.zoom);var tileStart=Object(__WEBPACK_IMPORTED_MODULE_3__Calc__[\"f\" /* tile2geo */])(tileNW.x,tileNW.y,this.zoom);this.positionStart=this.system.mercator.fromGeo(tileStart.lat,tileStart.lon);this.system.scene.add(this.group);}_createClass(Grid,[{key:'makeGrid',value:function makeGrid(){var _this=this;this.tiles.forEach(function(tile,idx){var coordsNW=Object(__WEBPACK_IMPORTED_MODULE_3__Calc__[\"f\" /* tile2geo */])(tile.x,tile.y,tile.z);var position=_this.system.mercator.fromGeo(coordsNW.lat,coordsNW.lon);var geometry=new __WEBPACK_IMPORTED_MODULE_0_three__[\"SphereBufferGeometry\"](5,4,4);var material=new __WEBPACK_IMPORTED_MODULE_0_three__[\"MeshBasicMaterial\"]({color:__WEBPACK_IMPORTED_MODULE_4__constants__[\"k\" /* PALETTE */].gridDots,transparent:true,// opacity,\ndepthTest:false// precision: 'lowp'\n});var mesh=new __WEBPACK_IMPORTED_MODULE_0_three__[\"Mesh\"](geometry,material);mesh.position.x=idx%2?_this.positionStart.x:position.x;mesh.position.z=idx%2?position.y:_this.positionStart.y;mesh.position.y=0;__WEBPACK_IMPORTED_MODULE_1_gsap__[\"TweenMax\"].to(mesh.position,0.8,{x:position.x,z:position.y,delay:idx*0.01,ease:__WEBPACK_IMPORTED_MODULE_1_gsap__[\"TweenMax\"].SlowMo.ease.config(0.1,0.4,false),// ease: TweenMax.Expo.easeOut,\nonComplete:function onComplete(){// idx % 20 === 0 && this.system.makeGlitch(0.03); \ntile.crosspoint=new __WEBPACK_IMPORTED_MODULE_2__Crosspoint__[\"a\" /* default */](_this.group,mesh.position);}});_this.group.add(mesh);});}},{key:'init',value:function init(){this.makeGrid();}},{key:'update',value:function update(){}}]);return Grid;}();/* harmony default export */ __webpack_exports__[\"a\"] = (Grid);\n\n/***/ }),\n/* 129 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_three__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_gsap__ = __webpack_require__(29);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_gsap___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_gsap__);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}var MAX_SCALE=25;var Crosspoint=function(){function Crosspoint(group,p){var size=arguments.length>2&&arguments[2]!==undefined?arguments[2]:50;var color=arguments.length>3&&arguments[3]!==undefined?arguments[3]:'#007777';_classCallCheck(this,Crosspoint);this.size=size;this.color=new __WEBPACK_IMPORTED_MODULE_0_three__[\"Color\"](color);this.parentGroup=group;this.group=new __WEBPACK_IMPORTED_MODULE_0_three__[\"Object3D\"]();this.createCrossPoint(p);}_createClass(Crosspoint,[{key:'createCrossPoint',value:function createCrossPoint(p){var material=new __WEBPACK_IMPORTED_MODULE_0_three__[\"LineBasicMaterial\"]({color:this.color/*, transparent: true, opacity: 0.5*/});this.group.position.set(p.x,p.y,p.z);var geometryH=new __WEBPACK_IMPORTED_MODULE_0_three__[\"Geometry\"]();geometryH.vertices.push(new __WEBPACK_IMPORTED_MODULE_0_three__[\"Vector3\"](-this.size,0,0));geometryH.vertices.push(new __WEBPACK_IMPORTED_MODULE_0_three__[\"Vector3\"](this.size,0,0));var geometryV=new __WEBPACK_IMPORTED_MODULE_0_three__[\"Geometry\"]();geometryV.vertices.push(new __WEBPACK_IMPORTED_MODULE_0_three__[\"Vector3\"](0,0,-this.size));geometryV.vertices.push(new __WEBPACK_IMPORTED_MODULE_0_three__[\"Vector3\"](0,0,this.size));var lineH=new __WEBPACK_IMPORTED_MODULE_0_three__[\"Line\"](geometryH,material);var lineV=new __WEBPACK_IMPORTED_MODULE_0_three__[\"Line\"](geometryV,material);this.group.scale.set(0.01,0.01,0.01);__WEBPACK_IMPORTED_MODULE_1_gsap__[\"TweenMax\"].fromTo(this.group.scale,2.75,{x:MAX_SCALE,z:MAX_SCALE},{x:1,z:1,ease:__WEBPACK_IMPORTED_MODULE_1_gsap__[\"TweenMax\"].Elastic.easeOut.config(1,0.1),// ease: TweenMax.Back.easeOut.config(5),\nonStart:function onStart(){// this.group.scale.set(MAX_SCALE,MAX_SCALE, MAX_SCALE);\n}// delay: 2,// + Math.random(),\n// repeat: 1\n});this.group.add(lineH);this.group.add(lineV);this.parentGroup.add(this.group);}}]);return Crosspoint;}();/* harmony default export */ __webpack_exports__[\"a\"] = (Crosspoint);\n\n/***/ }),\n/* 130 */\n/***/ (function(module, exports) {\n\n\n    var R = 6378137,\n        sphericalScale = 0.5 / (Math.PI * R);\n\n    module.exports = function(bounds, minZoom, maxZoom) {\n\n      var min,\n          max,\n          tiles = [];\n\n      if (!maxZoom) {\n        max = min = minZoom;\n      } else if (maxZoom < minZoom) {\n        min = maxZoom;\n        max = minZoom;\n      } else {\n        min = minZoom;\n        max = maxZoom;\n      }\n\n      for (var z = min; z <= max; z++) {\n        tiles = tiles.concat(xyz(bounds,z));\n      }\n\n      return tiles;\n\n    };\n\n    /* Adapted from: https://gist.github.com/mourner/8825883 */\n    function xyz(bounds, zoom) {\n\n\n          //north,west\n      var min = project(bounds[1][1],bounds[0][0], zoom),\n          //south,east\n          max = project(bounds[0][1],bounds[1][0], zoom),\n          tiles = [];\n\n      for (var x = min.x; x <= max.x; x++) {\n        for (var y = min.y; y <= max.y; y++) {\n            tiles.push({\n              x: x,\n              y: y,\n              z: zoom\n            });\n        }\n      }\n\n      return tiles;\n\n    }\n\n    /* \n       Adapts a group of functions from Leaflet.js to work headlessly\n       https://github.com/Leaflet/Leaflet\n       \n       Combines/modifies the following methods:\n       L.Transformation._transform (src/geometry/Transformation.js)\n       L.CRS.scale (src/geo/crs/CRS.js)\n       L.CRS.latLngToPoint (src/geo/crs/CRS.js)\n       L.Projection.SphericalMercator.project (src/geo/projection/Projection.SphericalMercator.js)\n    */\n    function project(lat,lng,zoom) {\n      var d = Math.PI / 180,\n          max = 1 - 1E-15,\n          sin = Math.max(Math.min(Math.sin(lat * d), max), -max),\n          scale = 256 * Math.pow(2, zoom);\n\n      var point = {\n        x: R * lng * d,\n        y: R * Math.log((1 + sin) / (1 - sin)) / 2\n      };\n\n      point.x = tiled(scale * (sphericalScale * point.x + 0.5));\n      point.y = tiled(scale * (-sphericalScale * point.y + 0.5));\n\n      return point;\n    }\n\n    function tiled(num) {\n      return Math.floor(num/256);\n    }\n\n/***/ }),\n/* 131 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_three__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_gsap__ = __webpack_require__(29);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_gsap___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_gsap__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__constants__ = __webpack_require__(28);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__materials__ = __webpack_require__(132);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}var City=function(){function City(system){_classCallCheck(this,City);this.system=system;this.buildings=[];this.models={};this.group=new __WEBPACK_IMPORTED_MODULE_0_three__[\"Object3D\"]();this.system.scene.add(this.group);this.load();}_createClass(City,[{key:'load',value:function load(){var _this=this;__WEBPACK_IMPORTED_MODULE_2__constants__[\"f\" /* CITY_BUILDINGS_PRIO0 */].forEach(function(model){return _this.loadBuilding(model);});__WEBPACK_IMPORTED_MODULE_2__constants__[\"g\" /* CITY_BUILDINGS_PRIO1 */].forEach(function(model){return _this.loadBuilding(model,true);});this.system.loaderJSON.load('models/wroclaw-boundary.json',function(object){var model=new __WEBPACK_IMPORTED_MODULE_0_three__[\"LineSegments\"](new __WEBPACK_IMPORTED_MODULE_0_three__[\"EdgesGeometry\"](object),__WEBPACK_IMPORTED_MODULE_3__materials__[\"a\" /* boundaryMat */]);_this.models.boundary=model;});this.system.loaderJSON.load('models/water_lowp.json',function(object){var model=new __WEBPACK_IMPORTED_MODULE_0_three__[\"Mesh\"](object,__WEBPACK_IMPORTED_MODULE_3__materials__[\"c\" /* waterMat */]);_this.models.water=model;});}},{key:'loadBuilding',value:function loadBuilding(model){var _this2=this;var isLazy=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;this.system.loaderJSON.load('models/buildings/'+model,function(object){var edges=new __WEBPACK_IMPORTED_MODULE_0_three__[\"LineSegments\"](new __WEBPACK_IMPORTED_MODULE_0_three__[\"EdgesGeometry\"](object),__WEBPACK_IMPORTED_MODULE_3__materials__[\"b\" /* lineMat */]);var mesh=new __WEBPACK_IMPORTED_MODULE_0_three__[\"Mesh\"](object,__WEBPACK_IMPORTED_MODULE_3__materials__[\"d\" /* wireframeMat */]);_this2.buildings.push({isBuilt:false,isLazy:isLazy,edges:edges,mesh:mesh});});}},{key:'buildModels',value:function buildModels(forceBuild){var _this3=this;__WEBPACK_IMPORTED_MODULE_1_gsap__[\"TweenMax\"].staggerFromTo(this.buildings.filter(function(building){return!building.isBuilt&&!building.isBuilding&&(!building.isLazy||forceBuild);}),0.5+Math.random()*2.5,{__p:0},{__p:1,delay:0,ease:__WEBPACK_IMPORTED_MODULE_1_gsap__[\"TweenMax\"].Bounce.easeOut,onStartParams:['{self}'],onStart:function onStart(tween){tween.target.isBuilding=true;tween.target.edges.scale.set(1,0.01,1);_this3.group.add(tween.target.edges);},onUpdateParams:['{self}'],onUpdate:function onUpdate(tween){tween.target.edges.scale.set(1,tween.target.__p,1);},onCompleteParams:['{self}'],onComplete:function onComplete(tween){tween.target.isBuilt=true;}},0.25);}},{key:'addModels',value:function addModels(){var _this4=this;Object.keys(this.models).forEach(function(ob){_this4.group.add(_this4.models[ob]);});}},{key:'init',value:function init(){this.addModels();this.buildModels();}},{key:'initLate',value:function initLate(){this.buildModels(true);}},{key:'update',value:function update(){}}]);return City;}();/* harmony default export */ __webpack_exports__[\"a\"] = (City);\n\n/***/ }),\n/* 132 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return wireframeMat; });\n/* unused harmony export faceMat */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return lineMat; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return boundaryMat; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return waterMat; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_three__ = __webpack_require__(27);\nvar wireframeMat=new __WEBPACK_IMPORTED_MODULE_0_three__[\"MeshBasicMaterial\"]({color:0x3498db,// 0x8e44ad,\nside:__WEBPACK_IMPORTED_MODULE_0_three__[\"DoubleSide\"],transparent:true,// opacity: 0.2,\nwireframe:true,blending:__WEBPACK_IMPORTED_MODULE_0_three__[\"AdditiveBlending\"],precision:'lowp'});var faceMat=new __WEBPACK_IMPORTED_MODULE_0_three__[\"MeshBasicMaterial\"]({color:0x111111,side:__WEBPACK_IMPORTED_MODULE_0_three__[\"DoubleSide\"]// precision: 'lowp'\n// transparent: true,\n// opacity: 0.6,\n// blending: THREE.AdditiveBlending,\n});var lineMat=new __WEBPACK_IMPORTED_MODULE_0_three__[\"LineBasicMaterial\"]({color:0x3498db,transparent:true,blending:__WEBPACK_IMPORTED_MODULE_0_three__[\"AdditiveBlending\"]// depthWrite: false,\n// depthTest: false,\n// precision: 'lowp'\n});var boundaryMat=new __WEBPACK_IMPORTED_MODULE_0_three__[\"LineBasicMaterial\"]({color:0xff0090// precision: 'lowp'\n});var waterMat=new __WEBPACK_IMPORTED_MODULE_0_three__[\"MeshBasicMaterial\"]({color:0x3498db,side:__WEBPACK_IMPORTED_MODULE_0_three__[\"DoubleSide\"]// precision: 'lowp'\n// transparent: true,\n// opacity: 0.6,\n// blending: THREE.AdditiveBlending,\n});\n\n/***/ }),\n/* 133 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_three__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_gsap__ = __webpack_require__(29);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_gsap___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_gsap__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Calc__ = __webpack_require__(96);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__constants__ = __webpack_require__(28);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}var Transit=function(){function Transit(system){_classCallCheck(this,Transit);this.system=system;this.currentType=null;this.group=new __WEBPACK_IMPORTED_MODULE_0_three__[\"Object3D\"]();this.system.scene.add(this.group);this.vertices=[];this.load();}_createClass(Transit,[{key:'load',value:function load(){var _this=this;this.system.loaderFile.load('data/mpk.json',function(data){_this.prepareData(JSON.parse(data));});// this.system.loaderJSON.load(`/models/meatball.json`, object => {\n//   const material = new THREE.MeshBasicMaterial({\n//     color: 0x3498db, // 0x8e44ad,\n//     side: THREE.DoubleSide,\n//     transparent: true,\n//     opacity: 0.1,\n//     wireframe: true,\n//     blending: THREE.AdditiveBlending,\n//     // precision: 'lowp'\n//   });\n//   this.blob = new THREE.Mesh(object, material);\n//   this.blob.scale.set(1000, 1000, 1000)\n//   this.system.scene.add(this.blob);\n//   // this.light = new THREE.PointLight( 0xffffbb );\n//   // this.light.position.set(0, 5000, 0);\n//   // this.helper = new THREE.PointLightHelper(this.light, 50 );\n//   // this.system.scene.add(this.light);\n//   // this.system.scene.add(this.helper);\n// });\n}},{key:'prepareData',value:function prepareData(data){var _this2=this;this.data=data.lines.map(function(line){return Object.assign({},line,{model:null,isActive:false,code:__WEBPACK_IMPORTED_MODULE_3__constants__[\"p\" /* TRANSIT_TYPES */][line.type].code,color:__WEBPACK_IMPORTED_MODULE_3__constants__[\"p\" /* TRANSIT_TYPES */][line.type].color,points:_this2.getPoints(line.name,data.busStops)});});}},{key:'getPoints',value:function getPoints(lineId,data){var _this3=this;var d=data.find(function(d){return d.name===lineId;})||{};return(d.coords||[]).map(function(p){return _this3.system.mercator.fromGeo(parseFloat(p.lat),parseFloat(p.lon));});}},{key:'createModels',value:function createModels(){var _this4=this;this.data.filter(function(d){return d.points.length>0;}).forEach(function(d){d.model=_this4.getLineModel(d.points,d.color);// d.model.material.opacity = 0.2;\n_this4.group.add(d.model);});}},{key:'getLineModel',value:function getLineModel(points,color){var quality=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1000;var texture=Object(__WEBPACK_IMPORTED_MODULE_2__Calc__[\"b\" /* generateSprite */])(32,color,__WEBPACK_IMPORTED_MODULE_0_three__);var material=new __WEBPACK_IMPORTED_MODULE_0_three__[\"PointsMaterial\"]({size:3,transparent:true,sizeAttenuation:false,map:texture,blending:__WEBPACK_IMPORTED_MODULE_0_three__[\"AdditiveBlending\"],depthWrite:false,opacity:0.3});var materialLine=new __WEBPACK_IMPORTED_MODULE_0_three__[\"LineBasicMaterial\"]({color:new __WEBPACK_IMPORTED_MODULE_0_three__[\"Color\"](color),transparent:true,opacity:0.2,blending:__WEBPACK_IMPORTED_MODULE_0_three__[\"AdditiveBlending\"]});var vertices=points.map(function(p){return new __WEBPACK_IMPORTED_MODULE_0_three__[\"Vector3\"](p.x,0,p.y);});this.vertices=this.vertices.concat(vertices);var curve=new __WEBPACK_IMPORTED_MODULE_0_three__[\"CatmullRomCurve3\"](vertices);var geometry=new __WEBPACK_IMPORTED_MODULE_0_three__[\"Geometry\"]().setFromPoints(curve.getPoints(quality));return new __WEBPACK_IMPORTED_MODULE_0_three__[\"Line\"](geometry,materialLine);// return new THREE.Points(geometry, material);\n}},{key:'activate',value:function activate(){var type=arguments.length>0&&arguments[0]!==undefined?arguments[0]:__WEBPACK_IMPORTED_MODULE_3__constants__[\"p\" /* TRANSIT_TYPES */].ITS;if(this.currentType!==type.code&&type.code!==__WEBPACK_IMPORTED_MODULE_3__constants__[\"p\" /* TRANSIT_TYPES */].ITS.code){this.data.filter(function(d){return d.points.length>0;}).forEach(function(d){__WEBPACK_IMPORTED_MODULE_1_gsap__[\"TweenMax\"].to(d.model.material,1.2,{opacity:d.code===type.code?0.7:0});});}else if(type.code===__WEBPACK_IMPORTED_MODULE_3__constants__[\"p\" /* TRANSIT_TYPES */].ITS.code){this.data.filter(function(d){return d.points.length>0;}).forEach(function(d){__WEBPACK_IMPORTED_MODULE_1_gsap__[\"TweenMax\"].to(d.model.material,1.2,{opacity:0.3});});}this.currentType=type.code;}},{key:'update',value:function update(){if(this.blob){this.blob.rotation.x+=(0.00123+Math.cos(this.system.clock.getElapsedTime())*0.023411)/10;this.blob.rotation.z+=(0.00154+Math.sin(this.system.clock.getElapsedTime())*0.01)/10;}}},{key:'init',value:function init(){this.createModels();}}]);return Transit;}();/* harmony default export */ __webpack_exports__[\"a\"] = (Transit);\n\n/***/ }),\n/* 134 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_three__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_gsap__ = __webpack_require__(29);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_gsap___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_gsap__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__constants__ = __webpack_require__(28);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Calc__ = __webpack_require__(96);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__Common__ = __webpack_require__(99);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}var Tilemap=function(){function Tilemap(system){var zoom=arguments.length>1&&arguments[1]!==undefined?arguments[1]:__WEBPACK_IMPORTED_MODULE_2__constants__[\"h\" /* DEFAULTS */].zoom;_classCallCheck(this,Tilemap);this.system=system;this.isReady=false;this.activeTile=null;this.zoom=zoom;this.tileSize=Object(__WEBPACK_IMPORTED_MODULE_3__Calc__[\"d\" /* getTileSize */])(__WEBPACK_IMPORTED_MODULE_2__constants__[\"c\" /* CENTER */].lat,__WEBPACK_IMPORTED_MODULE_2__constants__[\"c\" /* CENTER */].lon,this.zoom,this.system.mercator);this.group=new __WEBPACK_IMPORTED_MODULE_0_three__[\"Object3D\"]();this.system.scene.add(this.group);this.loadingManager=new __WEBPACK_IMPORTED_MODULE_0_three__[\"LoadingManager\"]();this.loadingManager.onLoad=this.onComplete.bind(this);this.loader=new __WEBPACK_IMPORTED_MODULE_0_three__[\"TextureLoader\"](this.loadingManager);this.loader.crossOrigin='Anonymous';this.centerXY=Object(__WEBPACK_IMPORTED_MODULE_3__Calc__[\"c\" /* geo2tile */])(__WEBPACK_IMPORTED_MODULE_2__constants__[\"e\" /* CENTER_WROLCAW */].lat,__WEBPACK_IMPORTED_MODULE_2__constants__[\"e\" /* CENTER_WROLCAW */].lon,this.zoom);this.tiles=[];this.createTiles();this.onComplete=this.onComplete.bind(this);if(this.system.options.editable){this.createDummyIntersection();}}_createClass(Tilemap,[{key:'createDummyIntersection',value:function createDummyIntersection(){var loader=new __WEBPACK_IMPORTED_MODULE_0_three__[\"TextureLoader\"]();var texture=loader.load('gfx/stripe_white_diagonal.png');texture.wrapS=__WEBPACK_IMPORTED_MODULE_0_three__[\"RepeatWrapping\"];texture.wrapT=__WEBPACK_IMPORTED_MODULE_0_three__[\"RepeatWrapping\"];texture.repeat.set(6,6);var geometry=new __WEBPACK_IMPORTED_MODULE_0_three__[\"PlaneGeometry\"](this.tileSize,this.tileSize,4);var material=new __WEBPACK_IMPORTED_MODULE_0_three__[\"MeshBasicMaterial\"]({transparent:true,opacity:0,map:texture});this.dummyTile=new __WEBPACK_IMPORTED_MODULE_0_three__[\"Mesh\"](geometry,material);this.dummyTile._isDummy=true;this.dummyTile.rotation.x=-__WEBPACK_IMPORTED_MODULE_2__constants__[\"m\" /* PI_HALF */];this.dummyTile.position.y=25;this.group.add(this.dummyTile);var geometryPlane=new __WEBPACK_IMPORTED_MODULE_0_three__[\"PlaneGeometry\"](this.tileSize*30,this.tileSize*30,4);var materialPlane=new __WEBPACK_IMPORTED_MODULE_0_three__[\"MeshBasicMaterial\"]({color:0x34495e,transparent:true,opacity:0});this.dummyPlane=new __WEBPACK_IMPORTED_MODULE_0_three__[\"Mesh\"](geometryPlane,materialPlane);this.dummyPlane.position.y=50;this.dummyPlane.rotation.x=-__WEBPACK_IMPORTED_MODULE_2__constants__[\"m\" /* PI_HALF */];this.dummyPlane._isDummy=true;this.group.add(this.dummyPlane);}},{key:'createTile',value:function createTile(x,y,z){var coordsNW=Object(__WEBPACK_IMPORTED_MODULE_3__Calc__[\"f\" /* tile2geo */])(x,y,z);var coordsSE=Object(__WEBPACK_IMPORTED_MODULE_3__Calc__[\"f\" /* tile2geo */])(x+1,y+1,z);var coords={lat:(coordsNW.lat+coordsSE.lat)/2,lon:(coordsNW.lon+coordsSE.lon)/2};var distance=Math.hypot(Math.abs(coords.lat-__WEBPACK_IMPORTED_MODULE_2__constants__[\"e\" /* CENTER_WROLCAW */].lat),Math.abs(coords.lon-__WEBPACK_IMPORTED_MODULE_2__constants__[\"e\" /* CENTER_WROLCAW */].lon));var position=this.system.mercator.fromGeo(coordsNW.lat,coordsNW.lon);return{x:x,y:y,z:z,position:position,distance:distance};}},{key:'addTile',value:function addTile(x,y,z){var newTile=this.createTile(x,y,z);this.tiles.push(newTile);this.createTileMesh(newTile);}},{key:'removeTile',value:function removeTile(tileId){var _this=this;var tileIdx=this.tiles.findIndex(function(t){return t.mesh.id===tileId;});this.tiles.splice(tileIdx,1);var tileObject=this.group.getObjectById(tileId);tileObject._isAnimating=true;__WEBPACK_IMPORTED_MODULE_1_gsap__[\"TweenMax\"].to(tileObject.rotation,1.5,{x:__WEBPACK_IMPORTED_MODULE_2__constants__[\"l\" /* PI */],// z: PI_HALF,\nease:__WEBPACK_IMPORTED_MODULE_1_gsap__[\"TweenMax\"].Elastic.easeInOut.config(1.2,0.2),onComplete:function onComplete(){_this.group.remove(tileObject);}});}},{key:'createTiles',value:function createTiles(){var _this2=this;this.tiles=Object(__WEBPACK_IMPORTED_MODULE_4__Common__[\"a\" /* getTiles */])().map(function(tile){return _this2.createTile(tile.x,tile.y,tile.z);}).sort(function(a,b){return a.distance-b.distance;}).map(function(tile,id){// set id after sorting to get lowest number from center\nreturn Object.assign(tile,{id:id});});this.tiles.forEach(function(tile){return _this2.createTileMesh(tile);});}},{key:'createTileMesh',value:function createTileMesh(tile){var _this3=this;var z=tile.z;var x=tile.x;var y=tile.y;var canvas=document.createElement('canvas');canvas.width=256;canvas.height=256;var ctx=canvas.getContext('2d');ctx.fillStyle='white';this.loader.load(__WEBPACK_IMPORTED_MODULE_2__constants__[\"n\" /* TILESERVER_URL */].local(x,y,z),function(texture){var img=texture.image;ctx.drawImage(img,0,0);// ctx.font = 'bold 25pt Courier';\n// ctx.fillText(`z: ${z}`, 10, 50);\n// ctx.fillText(`x: ${x} `, 10, 100);\n// ctx.fillText(`y: ${y}`, 10, 150);\n// ctx.lineWidth = cornerWidth;\n// ctx.strokeStyle = '#fff';\n// ctx.strokeStyle=\"#FF0090\";\n// ctx.setLineDash([cornerSize, 256 - 2 * cornerSize]);\n// ctx.beginPath();\n// ctx.moveTo(0, 0);\n// ctx.lineTo(canvas.width, 0);\n// ctx.stroke();\n// ctx.beginPath();\n// ctx.moveTo(canvas.width, 0);\n// ctx.lineTo(canvas.width, canvas.height);\n// ctx.stroke();\n// ctx.beginPath();\n// ctx.moveTo(canvas.width, canvas.height);\n// ctx.lineTo(0, canvas.height);\n// ctx.stroke();\n// ctx.beginPath();\n// ctx.moveTo(0, canvas.height);\n// ctx.lineTo(0, 0);\n// ctx.stroke();\nvar textureFinal=new __WEBPACK_IMPORTED_MODULE_0_three__[\"Texture\"](canvas);textureFinal.needsUpdate=true;var geometry=new __WEBPACK_IMPORTED_MODULE_0_three__[\"PlaneGeometry\"](_this3.tileSize,_this3.tileSize,4);var material=new __WEBPACK_IMPORTED_MODULE_0_three__[\"MeshBasicMaterial\"]({map:textureFinal,transparent:true,opacity:1,depthTest:false,blending:__WEBPACK_IMPORTED_MODULE_0_three__[\"AdditiveBlending\"]// side: THREE.DoubleSide\n});tile.mesh=new __WEBPACK_IMPORTED_MODULE_0_three__[\"Mesh\"](geometry,material);tile.mesh.position.x=tile.position.x+_this3.tileSize/2;tile.mesh.position.z=tile.position.y+_this3.tileSize/2;tile.mesh.position.y=-10;tile.mesh.rotation.x=-__WEBPACK_IMPORTED_MODULE_2__constants__[\"m\" /* PI_HALF */];tile.mesh.scale.set(0.01,0.01,0.01);tile.mesh._x=tile.x;tile.mesh._y=tile.y;tile.mesh._z=tile.z;_this3.buildTile(tile);_this3.group.add(tile.mesh);});}},{key:'buildTile',value:function buildTile(tile){__WEBPACK_IMPORTED_MODULE_1_gsap__[\"TweenMax\"].fromTo(tile,2.5,{_scale:0.01,_opacity:0},{_scale:1,_opacity:__WEBPACK_IMPORTED_MODULE_2__constants__[\"h\" /* DEFAULTS */].tilesOpacity,delay:tile.id*0.01,ease:__WEBPACK_IMPORTED_MODULE_1_gsap__[\"TweenMax\"].Elastic.easeInOut.config(1.2,0.2),onUpdate:function onUpdate(){tile.mesh.scale.set(tile._scale,tile._scale,tile._scale);tile.mesh.material.opacity=tile._opacity;}});}},{key:'buildTiles',value:function buildTiles(){__WEBPACK_IMPORTED_MODULE_1_gsap__[\"TweenMax\"].staggerFromTo(this.tiles,2.5,{_scale:0.01,_opacity:0},{_scale:1,_opacity:0.33,ease:__WEBPACK_IMPORTED_MODULE_1_gsap__[\"TweenMax\"].Elastic.easeInOut.config(1.2,0.2),onUpdateParams:['{self}'],onUpdate:function onUpdate(t){// console.log(t.target)\nt.target.mesh.scale.set(t.target._scale,t.target._scale,t.target._scale);t.target.mesh.material.opacity=t.target._opacity;//   t.target.mesh.rotation.z = t.target._rotY;\n//   t.target.mesh.position.y = t.target._posY;\n}},0.01,this.onComplete);}},{key:'onComplete',value:function onComplete(){// this.system.makeGlitch();\nthis.isReady=true;}},{key:'checkDummyIntersection',value:function checkDummyIntersection(){var intersects=this.system.raycaster.intersectObject(this.dummyPlane);if(intersects.length>0&&this.activeTile===null){var _intersects$0$point=intersects[0].point,x=_intersects$0$point.x,z=_intersects$0$point.z;var coords=this.system.mercator.fromXY(x,-z);var tile=Object(__WEBPACK_IMPORTED_MODULE_3__Calc__[\"c\" /* geo2tile */])(coords.lat,coords.lon,this.zoom);if(!this.activeDummy||!Object(__WEBPACK_IMPORTED_MODULE_3__Calc__[\"e\" /* isEqualTile */])(this.activeDummy,tile)){var coordsNW=Object(__WEBPACK_IMPORTED_MODULE_3__Calc__[\"f\" /* tile2geo */])(tile.x,tile.y,this.zoom);var position=this.system.mercator.fromGeo(coordsNW.lat,coordsNW.lon);this.dummyTile.material.opacity=0.5;this.dummyTile.position.x=position.x+this.tileSize/2;this.dummyTile.position.z=position.y+this.tileSize/2;this.activeDummy=tile;}}else{this.dummyTile.material.opacity=0;this.activeDummy=null;}}},{key:'saveTiles',value:function saveTiles(){// saves tiles to LS\nconsole.log('-- SAVING tiles');var tiles=this.tiles.map(function(tile){return{x:tile.x,y:tile.y,z:tile.z};});localStorage.setItem(__WEBPACK_IMPORTED_MODULE_2__constants__[\"j\" /* LS_PREFIX */]+'tiles',JSON.stringify(tiles));}},{key:'update',value:function update(){var _this4=this;if(this.isReady&&this.system.mouse&&this.system.options.editable){var intersects=this.system.raycaster.intersectObjects(this.group.children.filter(function(c){return!c._isDummy;}));if(intersects.length>0){if(!this.activeTile||this.activeTile!==intersects[0].object.id){this.activeTile=intersects[0].object.id;var tl=new __WEBPACK_IMPORTED_MODULE_1_gsap__[\"TimelineLite\"]();if(!intersects[0].object._isAnimating){tl.to(intersects[0].object.scale,0.15,{x:0.75,y:0.75,onStart:function onStart(){intersects[0].object._isAnimating=true;}});tl.to(intersects[0].object.scale,0.15,{x:1,y:1,ease:__WEBPACK_IMPORTED_MODULE_1_gsap__[\"TweenMax\"].Elastic.easeOut.config(1.2,0.2),onComplete:function onComplete(){intersects[0].object._wasActive=true;intersects[0].object._isAnimating=false;}});intersects[0].object.material.opacity=1;}}}else{this.activeTile=null;}this.group.children.filter(function(child){return child._wasActive&&!child._isAnimating&&child.id!==_this4.activeTile&&!child._isDummy;}).forEach(function(child){child.material.opacity=__WEBPACK_IMPORTED_MODULE_2__constants__[\"h\" /* DEFAULTS */].tilesOpacity;child._wasActive=false;child._isAnimating=false;});this.checkDummyIntersection();}}},{key:'onDocumentMouseDown',value:function onDocumentMouseDown(e){if(!this.activeTile&&this.activeDummy){this.addTile(this.activeDummy.x,this.activeDummy.y,this.zoom);this.activeTile=null;}else if(this.activeTile&&!this.activeDummy){this.removeTile(this.activeTile);}}},{key:'init',value:function init(){if(this.system.options.editable){document.addEventListener('mousedown',this.onDocumentMouseDown.bind(this),false);}}}]);return Tilemap;}();/* harmony default export */ __webpack_exports__[\"a\"] = (Tilemap);\n\n/***/ }),\n/* 135 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_three__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_axios__ = __webpack_require__(136);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_axios___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_axios__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__constants__ = __webpack_require__(28);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Calc__ = __webpack_require__(96);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_gsap__ = __webpack_require__(29);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_gsap___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_gsap__);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}// import { TweenMax, TimelineLite } from 'gsap';\nvar ITS=function(){function ITS(system){_classCallCheck(this,ITS);this.system=system;this.group=new __WEBPACK_IMPORTED_MODULE_0_three__[\"Object3D\"]();this.ring=new __WEBPACK_IMPORTED_MODULE_0_three__[\"Object3D\"]();this.marker=new __WEBPACK_IMPORTED_MODULE_0_three__[\"Object3D\"]();this.points=new __WEBPACK_IMPORTED_MODULE_0_three__[\"Object3D\"]();this.positions=[];this.group.add(this.points);this.group.add(this.marker);this.system.scene.add(this.group);this.loadingManager=new __WEBPACK_IMPORTED_MODULE_0_three__[\"LoadingManager\"]();this.loadingManager.onLoad=this.onComplete.bind(this);this.loader=new __WEBPACK_IMPORTED_MODULE_0_three__[\"FileLoader\"](this.loadingManager);this.loader.crossOrigin='Anonymous';this.setupSpheres();this.setupRadar();this.setLocation(__WEBPACK_IMPORTED_MODULE_2__constants__[\"d\" /* CENTER_PGS */]);this.loadData();this.interval=setInterval(this.loadData.bind(this),__WEBPACK_IMPORTED_MODULE_2__constants__[\"i\" /* ITS_INTERVAL */]);}_createClass(ITS,[{key:'setupSpheres',value:function setupSpheres(){var _this=this;var radius=1000;var colors=[0xe74c3c,0xe67e22,0x9b59b6,0xffffff];// const colors = [0x9b59b6, 0x3498db];\nvar parts=[1,1,0.7,0.7];var segments=3;var phase=__WEBPACK_IMPORTED_MODULE_2__constants__[\"l\" /* PI */];parts.forEach(function(rFx,idx){var theta=phase*idx;var ringGeometry=new __WEBPACK_IMPORTED_MODULE_0_three__[\"RingGeometry\"](radius*0.99*rFx,radius*rFx,12,1,0,__WEBPACK_IMPORTED_MODULE_2__constants__[\"l\" /* PI */]/2);var material=new __WEBPACK_IMPORTED_MODULE_0_three__[\"MeshBasicMaterial\"]({color:0xf1c40f,// wireframe: true,\ntransparent:true// opacity: 0.5,\n// blending: THREE.AdditiveBlending,\n});var ringPartial=new __WEBPACK_IMPORTED_MODULE_0_three__[\"Mesh\"](ringGeometry,material);ringPartial.position.y=100;ringPartial.rotation.z=theta;ringPartial.rotation.x=-__WEBPACK_IMPORTED_MODULE_2__constants__[\"m\" /* PI_HALF */];_this.ring.add(ringPartial);});this.marker.add(this.ring);}},{key:'setupRadar',value:function setupRadar(){var radius=150;var ringGeometry=new __WEBPACK_IMPORTED_MODULE_0_three__[\"RingGeometry\"](radius*0.95,radius,32,1);var material=new __WEBPACK_IMPORTED_MODULE_0_three__[\"MeshBasicMaterial\"]({color:0x1abc9c,wireframe:true,transparent:true,opacity:0.2,blending:__WEBPACK_IMPORTED_MODULE_0_three__[\"AdditiveBlending\"]});var radar=new __WEBPACK_IMPORTED_MODULE_0_three__[\"Mesh\"](ringGeometry,material);radar.rotation.x=-__WEBPACK_IMPORTED_MODULE_2__constants__[\"m\" /* PI_HALF */];this.marker.add(radar);var o={scale:0,opacity:1};__WEBPACK_IMPORTED_MODULE_4_gsap__[\"TweenMax\"].fromTo(o,2.5,{scale:0,opacity:1},{scale:10,opacity:0,ease:__WEBPACK_IMPORTED_MODULE_4_gsap__[\"TweenMax\"].Power4.easeIn,repeat:-1,onUpdate:function onUpdate(){radar.material.opacity=o.opacity;radar.scale.set(o.scale,o.scale,1);}});// const spriteMap = new THREE.TextureLoader().load('/gfx/flare.png');\n// const spriteMaterial = new THREE.SpriteMaterial({\n//   map: spriteMap,\n//   color: 0xffffff,\n//   // transparent: true,\n//   // blending: THREE.AdditiveBlending\n// });\n// const sprite = new THREE.Sprite(spriteMaterial);\n// sprite.scale.set(500, 500, 500);\n// sprite.position.y = 25;\n// this.marker.add(sprite);\n}},{key:'setLocation',value:function setLocation(p){var coords=this.system.mercator.fromGeo(p.lat,p.lon);this.location=p;this.marker.children.forEach(function(child){child.position.x=coords.x;child.position.z=coords.y;});}},{key:'loadData',value:function loadData(){var _this2=this;console.log('loading data @',new Date().toISOString());var data=new FormData();['a','c','d','k','n','100','101','103','104','105','107','109','110','113','114','115','116','118','119','120','122','125','126','127','128','129','130','131','132','133','134','136','140','141','142','144','145','146','147','149','240','241','243','245','246','247','249','250','251','253','255','257','259','102','106','108','112','148','150','206','248','319','325','331','602','607','609','612'].forEach(function(bus){return data.append('busList[bus][]',bus);});['0P','0L','1','2','3','4','5','6','7','8','9','10','11','14','15','17','20','23','24','31','32','33'].forEach(function(tram){return data.append('busList[tram][]',tram);});__WEBPACK_IMPORTED_MODULE_1_axios___default.a.post('https://cors-anywhere.herokuapp.com/http://mpk.wroc.pl/position.php',data).then(function(response){return _this2.processData(response.data);});}},{key:'processData',value:function processData(positions){var _this3=this;// const statuses = [...new Set(positions.map(p => p.status))];\n// console.log('statuses', statuses);\npositions.forEach(function(position){var oldPosition=_this3.positions.find(function(p){return position.k===p.k;});if(!!oldPosition){// existing one\nvar newCoords=_this3.system.mercator.fromGeo(parseFloat(position.x),parseFloat(position.y));__WEBPACK_IMPORTED_MODULE_4_gsap__[\"TweenMax\"].to(oldPosition.mesh.position,Math.round(__WEBPACK_IMPORTED_MODULE_2__constants__[\"i\" /* ITS_INTERVAL */]/1000),{x:newCoords.x,z:newCoords.y,ease:__WEBPACK_IMPORTED_MODULE_4_gsap__[\"TweenMax\"].Linear.easeNone,onComplete:function onComplete(){oldPosition.x=newCoords.x;oldPosition.y=newCoords.y;}});// oldPosition.line.geometry.vertices.push(oldPosition.line.geometry.vertices.shift());\n// oldPosition.line.geometry.vertices[4] = new THREE.Vector3(newCoords.x, 0, newCoords.y);\n// oldPosition.line.geometry.verticesNeedUpdate = true;\n}else{// new position\nvar coords=_this3.system.mercator.fromGeo(parseFloat(position.x),parseFloat(position.y));var color=position.type==='bus'?0x27ae60:0x3498db;var geometry=new __WEBPACK_IMPORTED_MODULE_0_three__[\"OctahedronGeometry\"](25,1);var material=new __WEBPACK_IMPORTED_MODULE_0_three__[\"MeshBasicMaterial\"]({color:color,wireframe:true,transparent:true,opacity:0.5,blending:__WEBPACK_IMPORTED_MODULE_0_three__[\"AdditiveBlending\"]});var mesh=new __WEBPACK_IMPORTED_MODULE_0_three__[\"Mesh\"](geometry,material);mesh.position.x=coords.x;mesh.position.z=coords.y;_this3.points.add(mesh);// const lineGeometry = new THREE.Geometry();\n// lineGeometry.vertices.push(coords.x, 0, coords.y);\n// lineGeometry.vertices.push(coords.x, 0, coords.y);\n// lineGeometry.vertices.push(coords.x, 0, coords.y);\n// lineGeometry.vertices.push(coords.x, 0, coords.y);\n// lineGeometry.vertices.push(coords.x, 0, coords.y);\n// const line = new THREE.Line( lineGeometry, new THREE.LineBasicMaterial({\n//   color,\n//   transparent: true,\n//   opacity: 0.5,\n//   blending: THREE.AdditiveBlending,\n// }) );\n// line.geometry.dynamic = true;\n// this.points.add(line);\nvar newPosition=Object.assign({},position,{mesh:mesh});_this3.positions.push(newPosition);}});}},{key:'onComplete',value:function onComplete(){}},{key:'update',value:function update(){var _this4=this;this.ring.children.forEach(function(child,idx){var t=_this4.system.clock.getElapsedTime()*2;var fn=Math.sin;// idx % 2 === 0 ? Math.sin : Math.cos;\n// let dir = idx % 2 === 0 ? 1 : - 1;\nvar dir=idx>1?-1:1;// const scale = 1 - fn(t + idx / 10) / 20;\nchild.rotation.z+=dir*(0.05+0.03*Math.sin(t));// child.scale.set(scale, scale, scale);\n});}},{key:'init',value:function init(){}}]);return ITS;}();/* harmony default export */ __webpack_exports__[\"a\"] = (ITS);\n\n/***/ }),\n/* 136 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(137);\n\n/***/ }),\n/* 137 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar utils = __webpack_require__(95);\nvar bind = __webpack_require__(100);\nvar Axios = __webpack_require__(139);\nvar defaults = __webpack_require__(97);\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Factory for creating new instances\naxios.create = function create(instanceConfig) {\n  return createInstance(utils.merge(defaults, instanceConfig));\n};\n\n// Expose Cancel & CancelToken\naxios.Cancel = __webpack_require__(104);\naxios.CancelToken = __webpack_require__(154);\naxios.isCancel = __webpack_require__(103);\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = __webpack_require__(155);\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n\n\n/***/ }),\n/* 138 */\n/***/ (function(module, exports) {\n\n/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n\n\n/***/ }),\n/* 139 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar defaults = __webpack_require__(97);\nvar utils = __webpack_require__(95);\nvar InterceptorManager = __webpack_require__(149);\nvar dispatchRequest = __webpack_require__(150);\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = utils.merge({\n      url: arguments[0]\n    }, arguments[1]);\n  }\n\n  config = utils.merge(defaults, this.defaults, { method: 'get' }, config);\n  config.method = config.method.toLowerCase();\n\n  // Hook up interceptors middleware\n  var chain = [dispatchRequest, undefined];\n  var promise = Promise.resolve(config);\n\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    chain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    chain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  while (chain.length) {\n    promise = promise.then(chain.shift(), chain.shift());\n  }\n\n  return promise;\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n\n\n/***/ }),\n/* 140 */\n/***/ (function(module, exports) {\n\n// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n/***/ }),\n/* 141 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar utils = __webpack_require__(95);\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n\n\n/***/ }),\n/* 142 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar createError = __webpack_require__(102);\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  // Note: status is not exposed by XDomainRequest\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n\n\n/***/ }),\n/* 143 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n  error.request = request;\n  error.response = response;\n  return error;\n};\n\n\n/***/ }),\n/* 144 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar utils = __webpack_require__(95);\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%40/gi, '@').\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      }\n\n      if (!utils.isArray(val)) {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n\n\n/***/ }),\n/* 145 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar utils = __webpack_require__(95);\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n\n\n/***/ }),\n/* 146 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar utils = __webpack_require__(95);\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n  (function standardBrowserEnv() {\n    var msie = /(msie|trident)/i.test(navigator.userAgent);\n    var urlParsingNode = document.createElement('a');\n    var originURL;\n\n    /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n    function resolveURL(url) {\n      var href = url;\n\n      if (msie) {\n        // IE needs attribute set twice to normalize properties\n        urlParsingNode.setAttribute('href', href);\n        href = urlParsingNode.href;\n      }\n\n      urlParsingNode.setAttribute('href', href);\n\n      // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n      return {\n        href: urlParsingNode.href,\n        protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n        host: urlParsingNode.host,\n        search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n        hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n        hostname: urlParsingNode.hostname,\n        port: urlParsingNode.port,\n        pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n                  urlParsingNode.pathname :\n                  '/' + urlParsingNode.pathname\n      };\n    }\n\n    originURL = resolveURL(window.location.href);\n\n    /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n    return function isURLSameOrigin(requestURL) {\n      var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n      return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n    };\n  })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return function isURLSameOrigin() {\n      return true;\n    };\n  })()\n);\n\n\n/***/ }),\n/* 147 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n// btoa polyfill for IE<10 courtesy https://github.com/davidchambers/Base64.js\n\nvar chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\nfunction E() {\n  this.message = 'String contains an invalid character';\n}\nE.prototype = new Error;\nE.prototype.code = 5;\nE.prototype.name = 'InvalidCharacterError';\n\nfunction btoa(input) {\n  var str = String(input);\n  var output = '';\n  for (\n    // initialize result and counter\n    var block, charCode, idx = 0, map = chars;\n    // if the next str index does not exist:\n    //   change the mapping table to \"=\"\n    //   check if d has no fractional digits\n    str.charAt(idx | 0) || (map = '=', idx % 1);\n    // \"8 - idx % 1 * 8\" generates the sequence 2, 4, 6, 8\n    output += map.charAt(63 & block >> 8 - idx % 1 * 8)\n  ) {\n    charCode = str.charCodeAt(idx += 3 / 4);\n    if (charCode > 0xFF) {\n      throw new E();\n    }\n    block = block << 8 | charCode;\n  }\n  return output;\n}\n\nmodule.exports = btoa;\n\n\n/***/ }),\n/* 148 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar utils = __webpack_require__(95);\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n  (function standardBrowserEnv() {\n    return {\n      write: function write(name, value, expires, path, domain, secure) {\n        var cookie = [];\n        cookie.push(name + '=' + encodeURIComponent(value));\n\n        if (utils.isNumber(expires)) {\n          cookie.push('expires=' + new Date(expires).toGMTString());\n        }\n\n        if (utils.isString(path)) {\n          cookie.push('path=' + path);\n        }\n\n        if (utils.isString(domain)) {\n          cookie.push('domain=' + domain);\n        }\n\n        if (secure === true) {\n          cookie.push('secure');\n        }\n\n        document.cookie = cookie.join('; ');\n      },\n\n      read: function read(name) {\n        var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n        return (match ? decodeURIComponent(match[3]) : null);\n      },\n\n      remove: function remove(name) {\n        this.write(name, '', Date.now() - 86400000);\n      }\n    };\n  })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return {\n      write: function write() {},\n      read: function read() { return null; },\n      remove: function remove() {}\n    };\n  })()\n);\n\n\n/***/ }),\n/* 149 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar utils = __webpack_require__(95);\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n\n\n/***/ }),\n/* 150 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar utils = __webpack_require__(95);\nvar transformData = __webpack_require__(151);\nvar isCancel = __webpack_require__(103);\nvar defaults = __webpack_require__(97);\nvar isAbsoluteURL = __webpack_require__(152);\nvar combineURLs = __webpack_require__(153);\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Support baseURL config\n  if (config.baseURL && !isAbsoluteURL(config.url)) {\n    config.url = combineURLs(config.baseURL, config.url);\n  }\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData(\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers || {}\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData(\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData(\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n\n\n/***/ }),\n/* 151 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar utils = __webpack_require__(95);\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn(data, headers);\n  });\n\n  return data;\n};\n\n\n/***/ }),\n/* 152 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n\n\n/***/ }),\n/* 153 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n\n\n/***/ }),\n/* 154 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar Cancel = __webpack_require__(104);\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n\n\n/***/ }),\n/* 155 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n\n\n/***/ }),\n/* 156 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nmodule.exports = function(THREE) {\n  var CopyShader = EffectComposer.CopyShader = __webpack_require__(157)\n    , RenderPass = EffectComposer.RenderPass = __webpack_require__(158)(THREE)\n    , ShaderPass = EffectComposer.ShaderPass = __webpack_require__(159)(THREE, EffectComposer)\n    , MaskPass = EffectComposer.MaskPass = __webpack_require__(160)(THREE)\n    , ClearMaskPass = EffectComposer.ClearMaskPass = __webpack_require__(161)(THREE)\n\n  function EffectComposer( renderer, renderTarget ) {\n    this.renderer = renderer;\n\n    if ( renderTarget === undefined ) {\n      var width = window.innerWidth || 1;\n      var height = window.innerHeight || 1;\n      var parameters = { minFilter: THREE.LinearFilter, magFilter: THREE.LinearFilter, format: THREE.RGBFormat, stencilBuffer: false };\n\n      renderTarget = new THREE.WebGLRenderTarget( width, height, parameters );\n    }\n\n    this.renderTarget1 = renderTarget;\n    this.renderTarget2 = renderTarget.clone();\n\n    this.writeBuffer = this.renderTarget1;\n    this.readBuffer = this.renderTarget2;\n\n    this.passes = [];\n\n    this.copyPass = new ShaderPass( CopyShader );\n  };\n\n  EffectComposer.prototype = {\n    swapBuffers: function() {\n\n      var tmp = this.readBuffer;\n      this.readBuffer = this.writeBuffer;\n      this.writeBuffer = tmp;\n\n    },\n\n    addPass: function ( pass ) {\n\n      this.passes.push( pass );\n\n    },\n\n    insertPass: function ( pass, index ) {\n\n      this.passes.splice( index, 0, pass );\n\n    },\n\n    render: function ( delta ) {\n\n      this.writeBuffer = this.renderTarget1;\n      this.readBuffer = this.renderTarget2;\n\n      var maskActive = false;\n\n      var pass, i, il = this.passes.length;\n\n      for ( i = 0; i < il; i ++ ) {\n\n        pass = this.passes[ i ];\n\n        if ( !pass.enabled ) continue;\n\n        pass.render( this.renderer, this.writeBuffer, this.readBuffer, delta, maskActive );\n\n        if ( pass.needsSwap ) {\n\n          if ( maskActive ) {\n\n            var context = this.renderer.context;\n\n            context.stencilFunc( context.NOTEQUAL, 1, 0xffffffff );\n\n            this.copyPass.render( this.renderer, this.writeBuffer, this.readBuffer, delta );\n\n            context.stencilFunc( context.EQUAL, 1, 0xffffffff );\n\n          }\n\n          this.swapBuffers();\n\n        }\n\n        if ( pass instanceof MaskPass ) {\n\n          maskActive = true;\n\n        } else if ( pass instanceof ClearMaskPass ) {\n\n          maskActive = false;\n\n        }\n\n      }\n\n    },\n\n    reset: function ( renderTarget ) {\n\n      if ( renderTarget === undefined ) {\n\n        renderTarget = this.renderTarget1.clone();\n\n        renderTarget.width = window.innerWidth;\n        renderTarget.height = window.innerHeight;\n\n      }\n\n      this.renderTarget1 = renderTarget;\n      this.renderTarget2 = renderTarget.clone();\n\n      this.writeBuffer = this.renderTarget1;\n      this.readBuffer = this.renderTarget2;\n\n    },\n\n    setSize: function ( width, height ) {\n\n      var renderTarget = this.renderTarget1.clone();\n\n      renderTarget.width = width;\n      renderTarget.height = height;\n\n      this.reset( renderTarget );\n\n    }\n\n  };\n\n  // shared ortho camera\n\n  EffectComposer.camera = new THREE.OrthographicCamera( -1, 1, 1, -1, 0, 1 );\n\n  EffectComposer.quad = new THREE.Mesh( new THREE.PlaneGeometry( 2, 2 ), null );\n\n  EffectComposer.scene = new THREE.Scene();\n  EffectComposer.scene.add( EffectComposer.quad );\n\n  return EffectComposer\n};\n\n/***/ }),\n/* 157 */\n/***/ (function(module, exports) {\n\n/**\n * @author alteredq / http://alteredqualia.com/\n *\n * Full-screen textured quad shader\n */\n\nmodule.exports = {\n  uniforms: {\n    \"tDiffuse\": { type: \"t\", value: null },\n    \"opacity\":  { type: \"f\", value: 1.0 }\n  },\n  vertexShader: [\n    \"varying vec2 vUv;\",\n\n    \"void main() {\",\n\n      \"vUv = uv;\",\n      \"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n\n    \"}\"\n  ].join(\"\\n\"),\n  fragmentShader: [\n    \"uniform float opacity;\",\n\n    \"uniform sampler2D tDiffuse;\",\n\n    \"varying vec2 vUv;\",\n\n    \"void main() {\",\n\n      \"vec4 texel = texture2D( tDiffuse, vUv );\",\n      \"gl_FragColor = opacity * texel;\",\n\n    \"}\"\n  ].join(\"\\n\")\n};\n\n\n/***/ }),\n/* 158 */\n/***/ (function(module, exports) {\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nmodule.exports = function(THREE) {\n  function RenderPass( scene, camera, overrideMaterial, clearColor, clearAlpha ) {\n    if (!(this instanceof RenderPass)) return new RenderPass(scene, camera, overrideMaterial, clearColor, clearAlpha);\n\n    this.scene = scene;\n    this.camera = camera;\n\n    this.overrideMaterial = overrideMaterial;\n\n    this.clearColor = clearColor;\n    this.clearAlpha = ( clearAlpha !== undefined ) ? clearAlpha : 1;\n\n    this.oldClearColor = new THREE.Color();\n    this.oldClearAlpha = 1;\n\n    this.enabled = true;\n    this.clear = true;\n    this.needsSwap = false;\n\n  };\n\n  RenderPass.prototype = {\n\n    render: function ( renderer, writeBuffer, readBuffer, delta ) {\n\n      this.scene.overrideMaterial = this.overrideMaterial;\n\n      if ( this.clearColor ) {\n\n        this.oldClearColor.copy( renderer.getClearColor() );\n        this.oldClearAlpha = renderer.getClearAlpha();\n\n        renderer.setClearColor( this.clearColor, this.clearAlpha );\n\n      }\n\n      renderer.render( this.scene, this.camera, readBuffer, this.clear );\n\n      if ( this.clearColor ) {\n\n        renderer.setClearColor( this.oldClearColor, this.oldClearAlpha );\n\n      }\n\n      this.scene.overrideMaterial = null;\n\n    }\n\n  };\n\n  return RenderPass;\n\n};\n\n\n/***/ }),\n/* 159 */\n/***/ (function(module, exports) {\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nmodule.exports = function(THREE, EffectComposer) {\n  function ShaderPass( shader, textureID ) {\n    if (!(this instanceof ShaderPass)) return new ShaderPass(shader, textureID);\n\n    this.textureID = ( textureID !== undefined ) ? textureID : \"tDiffuse\";\n\n    this.uniforms = THREE.UniformsUtils.clone( shader.uniforms );\n\n    this.material = new THREE.ShaderMaterial( {\n\n      uniforms: this.uniforms,\n      vertexShader: shader.vertexShader,\n      fragmentShader: shader.fragmentShader\n\n    } );\n\n    this.renderToScreen = false;\n\n    this.enabled = true;\n    this.needsSwap = true;\n    this.clear = false;\n\n  };\n\n  ShaderPass.prototype = {\n\n    render: function ( renderer, writeBuffer, readBuffer, delta ) {\n\n      if ( this.uniforms[ this.textureID ] ) {\n\n        this.uniforms[ this.textureID ].value = readBuffer;\n\n      }\n\n      EffectComposer.quad.material = this.material;\n\n      if ( this.renderToScreen ) {\n\n        renderer.render( EffectComposer.scene, EffectComposer.camera );\n\n      } else {\n\n        renderer.render( EffectComposer.scene, EffectComposer.camera, writeBuffer, this.clear );\n\n      }\n\n    }\n\n  };\n\n  return ShaderPass;\n\n};\n\n/***/ }),\n/* 160 */\n/***/ (function(module, exports) {\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nmodule.exports = function(THREE) {\n  function MaskPass( scene, camera ) {\n    if (!(this instanceof MaskPass)) return new MaskPass(scene, camera);\n\n    this.scene = scene;\n    this.camera = camera;\n\n    this.enabled = true;\n    this.clear = true;\n    this.needsSwap = false;\n\n    this.inverse = false;\n  };\n\n  MaskPass.prototype = {\n\n    render: function ( renderer, writeBuffer, readBuffer, delta ) {\n\n      var context = renderer.context;\n\n      // don't update color or depth\n\n      context.colorMask( false, false, false, false );\n      context.depthMask( false );\n\n      // set up stencil\n\n      var writeValue, clearValue;\n\n      if ( this.inverse ) {\n\n        writeValue = 0;\n        clearValue = 1;\n\n      } else {\n\n        writeValue = 1;\n        clearValue = 0;\n\n      }\n\n      context.enable( context.STENCIL_TEST );\n      context.stencilOp( context.REPLACE, context.REPLACE, context.REPLACE );\n      context.stencilFunc( context.ALWAYS, writeValue, 0xffffffff );\n      context.clearStencil( clearValue );\n\n      // draw into the stencil buffer\n\n      renderer.render( this.scene, this.camera, readBuffer, this.clear );\n      renderer.render( this.scene, this.camera, writeBuffer, this.clear );\n\n      // re-enable update of color and depth\n\n      context.colorMask( true, true, true, true );\n      context.depthMask( true );\n\n      // only render where stencil is set to 1\n\n      context.stencilFunc( context.EQUAL, 1, 0xffffffff );  // draw if == 1\n      context.stencilOp( context.KEEP, context.KEEP, context.KEEP );\n\n    }\n\n  };\n\n  return MaskPass\n};\n\n\n/***/ }),\n/* 161 */\n/***/ (function(module, exports) {\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nmodule.exports = function(THREE) {\n  function ClearMaskPass() {\n    if (!(this instanceof ClearMaskPass)) return new ClearMaskPass(scene, camera);\n    this.enabled = true;\n  };\n\n  ClearMaskPass.prototype = {\n    render: function ( renderer, writeBuffer, readBuffer, delta ) {\n      var context = renderer.context;\n      context.disable( context.STENCIL_TEST );\n    }\n  };\n\n  return ClearMaskPass\n};\n\n/***/ })\n]));\n\n\n// WEBPACK FOOTER //\n// static/js/0.51ecc919.chunk.js","import React, { Component, Fragment } from 'react';\r\n\r\nimport UI from '../ui/UI';\r\nimport Onepage from '../onepage/Onepage';\r\nimport Fullpage from '../fullpage/Fullpage';\r\nimport World from '../world/';\r\n\r\nimport { TRANSIT_TYPES, TRANSIT_TYPES_ARR } from '../world/constants';\r\n\r\nexport default class Core extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onWordLoad = this.onWordLoad.bind(this);\r\n  }\r\n\r\n  state = {\r\n    activated:\r\n      (this.props.section && this.props.section) || TRANSIT_TYPES_ARR[0].code,\r\n    skipNextActivation: !!this.props.section,\r\n    isWorldInitialized: false,\r\n    world: null,\r\n    types: TRANSIT_TYPES_ARR,\r\n  };\r\n\r\n\r\n  activateType(code) {\r\n    const type = TRANSIT_TYPES[code];\r\n\r\n    this.state.world.system.transit.activate(type);\r\n    this.state.world.system.makeGlitch(0.3);\r\n  }\r\n\r\n  toggle(state) {\r\n    this.state.world.system.toggle(state);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({\r\n      world: this._worldComponent,\r\n    });\r\n  }\r\n\r\n  componentWillReceiveProps(next) {\r\n    // console.log('::CORE componentWillReceiveProps', next);\r\n    \r\n    // check if still isRunning    \r\n    if (this.props.isRunning !== next.isRunning) {\r\n      this.toggle(next.isRunning);\r\n    }\r\n\r\n    // check if section has changed\r\n    if (this.props.section !== next.section) {\r\n      this.activateType(next.section);\r\n    } \r\n  }\r\n\r\n  onWordLoad() {\r\n    this.setState({\r\n      isWorldInitialized: true,\r\n    });\r\n\r\n    if (this.props.section) {\r\n      this.activateType(this.props.section);\r\n    }\r\n\r\n  }\r\n\r\n  render() {\r\n    const { WorldModule } = this.state;\r\n    return (\r\n      <div className=\"App\">\r\n        <UI\r\n          world={this.state.world}\r\n          actions={this.props.actions}\r\n          isVisible={this.props.isRunning}\r\n        />\r\n        <World\r\n          debug={true}\r\n          editable={false}\r\n          ref={child => (this._worldComponent = child)}\r\n          onLoad={this.onWordLoad} />\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/core/Core.js","'use strict';\n\nvar bind = require('./helpers/bind');\nvar isBuffer = require('is-buffer');\n\n/*global toString:true*/\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.replace(/^\\s*/, '').replace(/\\s*$/, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && navigator.product === 'ReactNative') {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (typeof result[key] === 'object' && typeof val === 'object') {\n      result[key] = merge(result[key], val);\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/axios/lib/utils.js\n// module id = 95\n// module chunks = 0","import { PI } from './constants';\r\n\r\nexport function random(min, max) {\r\n  if (max === undefined) {\r\n    max = min;\r\n    min = 0;\r\n  }\r\n\r\n  return Math.random() * (max + min) + min;\r\n}\r\n\r\nexport function randomInt(min, max) {\r\n  if (max === undefined) {\r\n    max = min;\r\n    min = 0;\r\n  }\r\n\r\n  return Math.floor(Math.random() * (max - min + 1)) + min;\r\n}\r\n\r\nexport function randomArray(arr) {\r\n  return arr[Math.floor(Math.random() * arr.length)];\r\n}\r\n\r\nexport function shuffleArray(a) {\r\n  var i, t, j;\r\n  for (i = a.length - 1; i > 0; i -= 1) {\r\n      t = a[i];\r\n      j = Math.floor(Math.random() * (i + 1));\r\n      a[i] = a[j];\r\n      a[j] = t;\r\n  }\r\n  return a;\r\n}\r\n\r\nexport function deg2rad(deg) {\r\n  return deg * PI / 180;\r\n}\r\n\r\nexport function rad2deg(rad) {\r\n  return rad * 180 / PI;\r\n}\r\n\r\nexport function linearScale(domain, range, clamp) {\r\n  return value => {\r\n    if (domain[0] === domain[1] || range[0] === range[1]) {\r\n      return range[0];\r\n    }\r\n    const ratio = (range[1] - range[0]) / (domain[1] - domain[0]);\r\n    const result = range[0] + ratio * (value - domain[0]);\r\n    return clamp ? Math.min(range[1], Math.max(range[0], result)) : result;\r\n  };\r\n}\r\n\r\nexport function getPointInBetweenByPerc(pointA, pointB, percentage) {\r\n  let dir = pointB.clone().sub(pointA);\r\n  const len = dir.length();\r\n\r\n  dir = dir.normalize().multiplyScalar(len * percentage);\r\n\r\n  return pointA.clone().add(dir);\r\n}\r\n\r\nexport function Mercator(lat, lon, factor = 1) {\r\n  const self = {\r\n    lat: lat,\r\n    latInRadians: deg2rad(lat),\r\n    lon: lon,\r\n    k: factor,\r\n    radius: 6378137,\r\n  };\r\n\r\n  const fromGeo = (inLat, inLon) => {\r\n    const lat = deg2rad(inLat);\r\n    const lon = deg2rad(inLon - self.lon);\r\n    const b = Math.sin(lon) * Math.cos(lat);\r\n    const x = 0.5 * self.k * self.radius * Math.log((1 + b) / (1 - b));\r\n    const y =\r\n      -self.k *\r\n      self.radius *\r\n      (Math.atan(Math.tan(lat) / Math.cos(lon)) - self.latInRadians);\r\n\r\n    return {\r\n      x,\r\n      y,\r\n    };\r\n  };\r\n\r\n  const fromXY = (px, py) => {\r\n    const x = px/(self.k * self.radius);\r\n    const y = py/(self.k * self.radius);\r\n    const D = y + self.latInRadians;\r\n    \r\n    let lon = Math.atan(Math.sinh(x) / Math.cos(D));\r\n    let lat = Math.asin(Math.sin(D) / Math.cosh(x));\r\n\r\n    lon = self.lon +rad2deg(lon);\r\n    lat = rad2deg(lat);\r\n\r\n    return { lat, lon };\r\n  };\r\n\r\n  return { fromGeo, fromXY };\r\n}\r\n\r\nexport function geo2tile(lat, lon, zoom) {\r\n  const x = Math.floor((lon + 180) / 360 * Math.pow(2, zoom));\r\n  const y = Math.floor(\r\n    (1 -\r\n      Math.log(\r\n        Math.tan(lat * Math.PI / 180) + 1 / Math.cos(lat * Math.PI / 180)\r\n      ) /\r\n        Math.PI) /\r\n      2 *\r\n      Math.pow(2, zoom)\r\n  );\r\n\r\n  return {\r\n    x,\r\n    y,\r\n  };\r\n}\r\n\r\nexport function tile2geo(x, y, z) {\r\n  const n = Math.PI - 2 * Math.PI * y / Math.pow(2, z);\r\n  const lat = 180 / Math.PI * Math.atan(0.5 * (Math.exp(n) - Math.exp(-n)));\r\n  const lon = x / Math.pow(2, z) * 360 - 180;\r\n\r\n  return {\r\n    lat,\r\n    lon,\r\n  };\r\n}\r\n\r\nexport function getTileSize(lat, lon, zoom, mercator) {\r\n  const tile = geo2tile(lat, lon, zoom);\r\n\r\n  const coordsNW = tile2geo(tile.x, tile.y, zoom);\r\n  const coordsSE = tile2geo(tile.x + 1, tile.y + 1, zoom);\r\n  \r\n  const posNW = mercator.fromGeo(coordsNW.lat, coordsNW.lon);\r\n  const posSE = mercator.fromGeo(coordsSE.lat, coordsSE.lon);\r\n\r\n  return Math.ceil(Math.abs(posNW.x - posSE.x));\r\n}\r\n\r\nexport function generateSprite(size = 32, tint, THREE) {\r\n  const canvas = document.createElement('canvas');\r\n  canvas.width = size;\r\n  canvas.height = size;\r\n  const context = canvas.getContext('2d');\r\n  const gradient = context.createRadialGradient(\r\n    canvas.width / 2,\r\n    canvas.height / 2,\r\n    0,\r\n    canvas.width / 2,\r\n    canvas.height / 2,\r\n    canvas.width / 2\r\n  );\r\n\r\n  gradient.addColorStop(0, 'rgba(255,255,255,1)');\r\n  gradient.addColorStop(0.2, 'rgba(0,255,255,1)');\r\n  gradient.addColorStop(0.4, 'rgba(0,0,64,1)');\r\n  gradient.addColorStop(1, 'rgba(0,0,0,1)');\r\n  context.fillStyle = gradient;\r\n  context.fillRect(0, 0, canvas.width, canvas.height);\r\n\r\n  if (tint) {\r\n    context.globalCompositeOperation = 'color';\r\n    context.fillStyle = tint;\r\n    context.fillRect(0, 0, size, size);\r\n  }\r\n\r\n  const texture = new THREE.Texture(canvas);\r\n  texture.needsUpdate = true;\r\n\r\n  return texture;\r\n}\r\n\r\nexport function isEqualTile(t1, t2) {\r\n  if (!t1 || !t2) {\r\n    return false;\r\n  }\r\n\r\n\r\n  return t1.x === t2.x && t1.y === t2.y && t1.z === t2.z;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/world/Calc.js","'use strict';\n\nvar utils = require('./utils');\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  } else if (typeof process !== 'undefined') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  }\n  return adapter;\n}\n\nvar defaults = {\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Content-Type');\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data)) {\n      setContentTypeIfUnset(headers, 'application/json;charset=utf-8');\n      return JSON.stringify(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    /*eslint no-param-reassign:0*/\n    if (typeof data === 'string') {\n      try {\n        data = JSON.parse(data);\n      } catch (e) { /* Ignore */ }\n    }\n    return data;\n  }],\n\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\n\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/axios/lib/defaults.js\n// module id = 97\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ClearMaskPass = exports.MaskPass = exports.ShaderPass = exports.RenderPass = exports.CopyShader = undefined;\n\nvar _copyshader = require('./lib/copyshader');\n\nObject.defineProperty(exports, 'CopyShader', {\n  enumerable: true,\n  get: function get() {\n    return _copyshader.CopyShader;\n  }\n});\n\nvar _renderpass = require('./lib/renderpass');\n\nObject.defineProperty(exports, 'RenderPass', {\n  enumerable: true,\n  get: function get() {\n    return _renderpass.RenderPass;\n  }\n});\n\nvar _shaderpass = require('./lib/shaderpass');\n\nObject.defineProperty(exports, 'ShaderPass', {\n  enumerable: true,\n  get: function get() {\n    return _shaderpass.ShaderPass;\n  }\n});\n\nvar _maskpass = require('./lib/maskpass');\n\nObject.defineProperty(exports, 'MaskPass', {\n  enumerable: true,\n  get: function get() {\n    return _maskpass.MaskPass;\n  }\n});\n\nvar _clearmaskpass = require('./lib/clearmaskpass');\n\nObject.defineProperty(exports, 'ClearMaskPass', {\n  enumerable: true,\n  get: function get() {\n    return _clearmaskpass.ClearMaskPass;\n  }\n});\n\nvar _three = require('three');\n\nfunction EffectComposer(renderer, renderTarget) {\n  this.renderer = renderer;\n\n  if (renderTarget === undefined) {\n    var width = window.innerWidth || 1;\n    var height = window.innerHeight || 1;\n    var parameters = { minFilter: _three.LinearFilter, magFilter: _three.LinearFilter, format: _three.RGBFormat, stencilBuffer: false };\n\n    renderTarget = new _three.WebGLRenderTarget(width, height, parameters);\n  }\n\n  this.renderTarget1 = renderTarget;\n  this.renderTarget2 = renderTarget.clone();\n\n  this.writeBuffer = this.renderTarget1;\n  this.readBuffer = this.renderTarget2;\n\n  this.passes = [];\n\n  this.copyPass = new _shaderpass.ShaderPass(_copyshader.CopyShader);\n}\n\nEffectComposer.prototype.swapBuffers = function () {\n  var tmp = this.readBuffer;\n  this.readBuffer = this.writeBuffer;\n  this.writeBuffer = tmp;\n};\n\nEffectComposer.prototype.addPass = function (pass) {\n  this.passes.push(pass);\n};\n\nEffectComposer.prototype.insertPass = function (pass, index) {\n  this.passes.splice(index, 0, pass);\n};\n\nEffectComposer.prototype.render = function (delta) {\n  this.writeBuffer = this.renderTarget1;\n  this.readBuffer = this.renderTarget2;\n\n  var maskActive = false;\n\n  for (var i = 0; i < this.passes.length; i++) {\n    var pass = this.passes[i];\n\n    if (!pass.enabled) continue;\n\n    pass.render(this.renderer, this.writeBuffer, this.readBuffer, delta, maskActive);\n\n    if (pass.needsSwap) {\n      if (maskActive) {\n        var context = this.renderer.context;\n\n        context.stencilFunc(context.NOTEQUAL, 1, 0xffffffff);\n\n        this.copyPass.render(this.renderer, this.writeBuffer, this.readBuffer, delta);\n\n        context.stencilFunc(context.EQUAL, 1, 0xffffffff);\n      }\n\n      this.swapBuffers();\n    }\n\n    if (pass instanceof _maskpass.MaskPass) {\n      maskActive = true;\n    } else if (pass instanceof _clearmaskpass.ClearMaskPass) {\n      maskActive = false;\n    }\n  }\n};\n\nEffectComposer.prototype.reset = function (renderTarget) {\n  if (renderTarget === undefined) {\n    renderTarget = this.renderTarget1.clone();\n\n    renderTarget.width = window.innerWidth;\n    renderTarget.height = window.innerHeight;\n  }\n\n  this.renderTarget1 = renderTarget;\n  this.renderTarget2 = renderTarget.clone();\n\n  this.writeBuffer = this.renderTarget1;\n  this.readBuffer = this.renderTarget2;\n};\n\nEffectComposer.prototype.setSize = function (width, height) {\n  var renderTarget = this.renderTarget1.clone();\n\n  renderTarget.width = width;\n  renderTarget.height = height;\n\n  this.reset(renderTarget);\n};\n\n// shared ortho camera\n\nEffectComposer.camera = new _three.OrthographicCamera(-1, 1, 1, -1, 0, 1);\n\nEffectComposer.quad = new _three.Mesh(new _three.PlaneGeometry(2, 2), null);\n\nEffectComposer.scene = new _three.Scene();\nEffectComposer.scene.add(EffectComposer.quad);\n\nexports.default = EffectComposer;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/three-effectcomposer-es6/dist/index.js\n// module id = 98\n// module chunks = 0","import xyz from 'xyz-affair';\r\n\r\nimport { BOUNDS, TILE_ADJUST, LS_PREFIX, DEFAULTS } from './constants';\r\n\r\nexport function getTiles(bounds = BOUNDS, zoom = DEFAULTS.zoom) {\r\n  const lsTiles = localStorage.getItem(`${LS_PREFIX}tiles`);\r\n\r\n  if (!!lsTiles) {\r\n    return JSON.parse(lsTiles);\r\n  } else {\r\n    const toAdd = TILE_ADJUST[zoom].add.map(t => ({\r\n      z: zoom,\r\n      x: t[0],\r\n      y: t[1],\r\n    }));\r\n    const toRemove = TILE_ADJUST[zoom].remove;\r\n\r\n    return xyz(bounds, zoom)\r\n      .filter(\r\n        tile => !~toRemove.findIndex(t => t[0] === tile.x && t[1] === tile.y)\r\n      )\r\n      .concat(toAdd);\r\n  }\r\n}\r\n\r\nexport function getTilesExtra(bounds, zoom) {\r\n    const tiles = [];\r\n    getTiles(bounds, zoom).forEach(tile => {\r\n        tiles.push(tile);\r\n        tiles.push({x: tile.x + 1, y: tile.y + 0, z: tile.z});\r\n        tiles.push({x: tile.x + 1, y: tile.y + 1, z: tile.z});\r\n        tiles.push({x: tile.x + 0, y: tile.y + 1, z: tile.z});\r\n\r\n    });\r\n\r\n    return tiles.filter((t, idx) => tiles.findIndex(t2 => t.x === t2.x && t.y === t2.y) === idx);\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/world/Common.js","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/axios/lib/helpers/bind.js\n// module id = 100\n// module chunks = 0","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar buildURL = require('./../helpers/buildURL');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\nvar btoa = (typeof window !== 'undefined' && window.btoa && window.btoa.bind(window)) || require('./../helpers/btoa');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n    var loadEvent = 'onreadystatechange';\n    var xDomain = false;\n\n    // For IE 8/9 CORS support\n    // Only supports POST and GET calls and doesn't returns the response headers.\n    // DON'T do this for testing b/c XMLHttpRequest is mocked, not XDomainRequest.\n    if (process.env.NODE_ENV !== 'test' &&\n        typeof window !== 'undefined' &&\n        window.XDomainRequest && !('withCredentials' in request) &&\n        !isURLSameOrigin(config.url)) {\n      request = new window.XDomainRequest();\n      loadEvent = 'onload';\n      xDomain = true;\n      request.onprogress = function handleProgress() {};\n      request.ontimeout = function handleTimeout() {};\n    }\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password || '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    request.open(config.method.toUpperCase(), buildURL(config.url, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    // Listen for ready state\n    request[loadEvent] = function handleLoad() {\n      if (!request || (request.readyState !== 4 && !xDomain)) {\n        return;\n      }\n\n      // The request errored out and we didn't get a response, this will be\n      // handled by onerror instead\n      // With one exception: request that using file: protocol, most browsers\n      // will return status as 0 even though it's a successful request\n      if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n        return;\n      }\n\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !config.responseType || config.responseType === 'text' ? request.responseText : request.response;\n      var response = {\n        data: responseData,\n        // IE sends 1223 instead of 204 (https://github.com/axios/axios/issues/201)\n        status: request.status === 1223 ? 204 : request.status,\n        statusText: request.status === 1223 ? 'No Content' : request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(resolve, reject, response);\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      reject(createError('timeout of ' + config.timeout + 'ms exceeded', config, 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      var cookies = require('./../helpers/cookies');\n\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(config.url)) && config.xsrfCookieName ?\n          cookies.read(config.xsrfCookieName) :\n          undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (config.withCredentials) {\n      request.withCredentials = true;\n    }\n\n    // Add responseType to request if needed\n    if (config.responseType) {\n      try {\n        request.responseType = config.responseType;\n      } catch (e) {\n        // Expected DOMException thrown by browsers not compatible XMLHttpRequest Level 2.\n        // But, this can be suppressed for 'json' type as it can be parsed by default 'transformResponse' function.\n        if (config.responseType !== 'json') {\n          throw e;\n        }\n      }\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel);\n        // Clean up request\n        request = null;\n      });\n    }\n\n    if (requestData === undefined) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/axios/lib/adapters/xhr.js\n// module id = 101\n// module chunks = 0","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/axios/lib/core/createError.js\n// module id = 102\n// module chunks = 0","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/axios/lib/cancel/isCancel.js\n// module id = 103\n// module chunks = 0","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/axios/lib/cancel/Cancel.js\n// module id = 104\n// module chunks = 0","import React, { Component, Fragment } from 'react';\r\nimport classnames from 'classnames';\r\nimport './style.css';\r\n\r\nimport Safearea from '../safearea/Safearea';\r\nimport MenuToggle from '../menuToggle/MenuToggle';\r\nexport default class UI extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.handleClick = this.handleClick.bind(this);\r\n  }\r\n\r\n  handleClick = p => e => {\r\n    if (this.props.world && this.props.world.system) {\r\n      this.props.world.system.makeGlitch(p);\r\n    }\r\n  };\r\n\r\n  openMenu = () => {\r\n    this.props.actions.toggleMenu();\r\n  };\r\n\r\n  componentDidMount() {\r\n    console.log('this.props.isRunning', this.props.isVisible);\r\n  }\r\n\r\n  render() {\r\n    const uiClass = classnames({\r\n      'ui-overlay': true,\r\n      'ui-overlay--hidden': !this.props.isVisible,\r\n    });\r\n\r\n    const debugMenu = this.props.debug ? (\r\n      <Fragment>\r\n        <button onClick={this.handleClick()}>click for glitch!</button>\r\n        <button onClick={this.handleClick(2)}>click for MEGA glitch!</button>\r\n        <button onClick={this.openMenu}>open menu</button>\r\n      </Fragment>\r\n    ) : null;\r\n\r\n    return (\r\n      <div className={uiClass}>\r\n        {this.props.isVisible ? <MenuToggle onClick={this.openMenu} /> : null}\r\n        <Safearea />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ui/UI.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js??ref--1-oneOf-2-2!../../../node_modules/postcss-loader/lib/index.js??postcss!./style.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":false}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ui/style.css\n// module id = 106\n// module chunks = 0","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".ui-overlay{width:100%;height:100%;min-height:100vh;position:absolute;z-index:50;-webkit-transition:opacity .5s ease-in-out;-o-transition:opacity .5s ease-in-out;transition:opacity .5s ease-in-out}.ui-overlay--hidden button{color:red}\", \"\", {\"version\":3,\"sources\":[\"e:/my-dev/wroclaw-its/model-builder/src/components/ui/style.css\"],\"names\":[],\"mappings\":\"AAAA,YACI,WAAY,AACZ,YAAa,AACb,iBAAkB,AAClB,kBAAmB,AACnB,WAAY,AACZ,2CAA6C,AAC7C,sCAAwC,AACxC,kCAAqC,CACxC,AAMD,2BACI,SAAW,CACd\",\"file\":\"style.css\",\"sourcesContent\":[\".ui-overlay {\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    min-height: 100vh;\\r\\n    position: absolute;\\r\\n    z-index: 50;\\r\\n    -webkit-transition: opacity 0.5s ease-in-out;\\r\\n    -o-transition: opacity 0.5s ease-in-out;\\r\\n    transition: opacity 0.5s ease-in-out;\\r\\n}\\r\\n\\r\\n.ui-overlay--hidden {\\r\\n    /* opacity: 0; */\\r\\n}\\r\\n\\r\\n.ui-overlay--hidden button {\\r\\n    color: red;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"importLoaders\":1,\"minimize\":true,\"sourceMap\":true}!./node_modules/postcss-loader/lib?{\"ident\":\"postcss\",\"plugins\":[null,null]}!./src/components/ui/style.css\n// module id = 107\n// module chunks = 0","import React, { Component } from 'react';\r\nimport classnames from 'classnames';\r\nimport { TweenMax } from 'gsap';\r\nimport './style.css';\r\n\r\nexport default class Onepage extends Component {\r\n  SCROLL_SNAP_DISTANCE = 250;\r\n  SCROLL_TIMEOUT = 100;\r\n\r\n  state = {\r\n    y: 0,\r\n  };\r\n\r\n  bindScroll() {\r\n    window.addEventListener('scroll', this.handleScroll);\r\n  }\r\n\r\n  unBindScroll() {\r\n    window.removeEventListener('scroll', this.handleScroll);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.bindScroll();\r\n    window.addEventListener('mousewheel', this.handleInternal, {passive: true});\r\n    window.addEventListener('DOMMouseScroll', this.handleInternal);\r\n    window.addEventListener('wheel', this.handleInternal, {passive: true});\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.unBindScroll();\r\n  }\r\n\r\n  getSnapHeight() {\r\n    return Math.max(\r\n      document.documentElement.clientHeight,\r\n      window.innerHeight || 1\r\n    );\r\n  }\r\n\r\n  getSnapTarget() {\r\n    const h = this.getSnapHeight();\r\n    return Math.round(this.lastScroll / h) * h;\r\n  }\r\n\r\n  getScrollSpeed(e) {\r\n    return Math.abs(this.lastScroll - this.scrollStart) || 0;\r\n  }\r\n\r\n  isSnapping() {\r\n    return (\r\n      this.lastScroll.value % this.getSnapHeight() < this.SCROLL_SNAP_DISTANCE\r\n    );\r\n  }\r\n\r\n  handleAnimation() {\r\n    if (!this.scrollStart || this.scrollStart === this.lastScroll) {\r\n      return;\r\n    }\r\n\r\n    const target = this.getSnapTarget();\r\n    const scroll = {\r\n      y: this.lastScroll,\r\n    };\r\n    this.animation = TweenMax.to(scroll, 0.350, {\r\n      y: target,\r\n        // ease: TweenMax.Bounce.easeOut,\r\n      onStart: () => {\r\n        this.isInternal = true;\r\n      },\r\n      onUpdate: () => {\r\n        this.setState({\r\n          y: Math.round(scroll.y),\r\n        });\r\n        this.isInternal = true;\r\n        window.scrollTo(0, scroll.y);\r\n      },\r\n      onComplete: () => {\r\n        this.isInternal = false;\r\n      },\r\n    });\r\n  }\r\n\r\n  handleInternal = e => {\r\n      this.isInternal = false;\r\n  }\r\n\r\n  handleScroll = e => {\r\n    this.lastScroll = document.documentElement.scrollTop;\r\n    this.scrollSpeed = this.getScrollSpeed(e);\r\n\r\n    this.setState({\r\n      y: this.lastScroll,\r\n    });\r\n\r\n    if (this.animation && !this.isInternal) {\r\n      this.animation.kill();\r\n    }\r\n\r\n    if (this.timeoutId) {\r\n      clearTimeout(this.timeoutId);\r\n    } else {\r\n      this.scrollStart = this.lastScroll;\r\n    }\r\n\r\n    this.timeoutId = setTimeout(\r\n      this.handleAnimation.bind(this),\r\n      this.SCROLL_TIMEOUT\r\n    );\r\n  };\r\n\r\n  render() {\r\n    let divClass = classnames({\r\n      'Onepage': true,\r\n      'Onepage--noOverflow': !this.props.isVisible\r\n    });\r\n\r\n    return (\r\n      <div className={divClass}>\r\n        {this.props.children(this.state)}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/onepage/Onepage.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js??ref--1-oneOf-2-2!../../../node_modules/postcss-loader/lib/index.js??postcss!./style.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":false}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/onepage/style.css\n// module id = 109\n// module chunks = 0","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".Onepage{position:relative;z-index:100}.Onepage .debug{position:fixed;bottom:20px;left:20px;color:#fff}.Onepage--noOverflow{overflow:hidden;height:100vh}\", \"\", {\"version\":3,\"sources\":[\"e:/my-dev/wroclaw-its/model-builder/src/components/onepage/style.css\"],\"names\":[],\"mappings\":\"AAAA,SACI,kBAAmB,AACnB,WAAa,CAChB,AAED,gBACI,eAAgB,AAChB,YAAa,AACb,UAAW,AACX,UAAY,CACf,AAED,qBACI,gBAAiB,AACjB,YAAc,CACjB\",\"file\":\"style.css\",\"sourcesContent\":[\".Onepage {\\r\\n    position: relative;\\r\\n    z-index: 100;\\r\\n}\\r\\n\\r\\n.Onepage .debug {\\r\\n    position: fixed;\\r\\n    bottom: 20px;\\r\\n    left: 20px;\\r\\n    color: #fff;\\r\\n}\\r\\n\\r\\n.Onepage--noOverflow {\\r\\n    overflow: hidden;\\r\\n    height: 100vh;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"importLoaders\":1,\"minimize\":true,\"sourceMap\":true}!./node_modules/postcss-loader/lib?{\"ident\":\"postcss\",\"plugins\":[null,null]}!./src/components/onepage/style.css\n// module id = 110\n// module chunks = 0","import React, { Component } from 'react';\r\nimport classnames from 'classnames';\r\nimport './style.css';\r\n\r\nimport Tile from '../tile/Tile';\r\n\r\nexport default class Fullpage extends Component {\r\n  el = {\r\n    offsetTop: 0,\r\n  };\r\n\r\n  active = false;\r\n\r\n  componentDidMount() {\r\n    if (this.props.activateSelf) {\r\n      setTimeout(() => {\r\n        window.scrollTo(0, this.el.offsetTop);\r\n      })\r\n    }\r\n  }\r\n\r\n  componentWillReceiveProps(next) {\r\n    if (Math.abs(this.props.scroll - this.el.offsetTop) < 100) {\r\n      if (!this.active && this.props.activate) {\r\n        this.props.activate(this.props.type);\r\n      }\r\n\r\n      this.active = true;\r\n    } else {\r\n      this.active = false;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const pageClass = classnames('Fullpage', {\r\n      'Fullpage--isActive': this.active || this.props.isActive,\r\n    });\r\n\r\n    const activeContent = (\r\n      <p>\r\n        {/* {this.props.scroll} {this.el.offsetTop} */}\r\n      </p>\r\n    );\r\n\r\n    return (\r\n      <div className={pageClass} ref={el => (this.el = el)}>\r\n        <h1>{this.props.title}</h1>\r\n        { this.active ? activeContent : null }\r\n        <Tile />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/fullpage/Fullpage.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js??ref--1-oneOf-2-2!../../../node_modules/postcss-loader/lib/index.js??postcss!./style.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":false}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/fullpage/style.css\n// module id = 112\n// module chunks = 0","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".Fullpage{position:relative;width:100%;height:100vh;overflow:hidden}.Fullpage h1{position:absolute;left:10px;top:20px;font-size:30px;-webkit-transition:all .2s ease-out;-o-transition:all .2s ease-out;transition:all .2s ease-out;opacity:.5;pointer-events:none;margin:0}.Fullpage--isActive h1{left:60px;font-size:100px;opacity:1}.Fullpage .Tile{-webkit-transition:all .8s ease-out;-o-transition:all .8s ease-out;transition:all .8s ease-out;opacity:0}.Fullpage--isActive .Tile{opacity:1}\", \"\", {\"version\":3,\"sources\":[\"e:/my-dev/wroclaw-its/model-builder/src/components/fullpage/style.css\"],\"names\":[],\"mappings\":\"AAAA,UACI,kBAAmB,AACnB,WAAY,AACZ,aAAc,AACd,eAAiB,CAEpB,AAMD,aACI,kBAAmB,AACnB,UAAW,AACX,SAAU,AACV,eAAgB,AAChB,oCAAsC,AACtC,+BAAiC,AACjC,4BAA8B,AAC9B,WAAa,AACb,oBAAqB,AACrB,QAAU,CACb,AAED,uBACI,UAAW,AACX,gBAAiB,AACjB,SAAW,CACd,AAGD,gBACI,oCAAsC,AACtC,+BAAiC,AACjC,4BAA8B,AAC9B,SAAW,CACd,AAED,0BACI,SAAW,CACd\",\"file\":\"style.css\",\"sourcesContent\":[\".Fullpage {\\r\\n    position: relative;\\r\\n    width: 100%;\\r\\n    height: 100vh;\\r\\n    overflow: hidden;\\r\\n    /* opacity: 0.0; */\\r\\n}\\r\\n\\r\\n.Fullpage--isActive {\\r\\n    /* color: red; */\\r\\n}\\r\\n\\r\\n.Fullpage h1 {\\r\\n    position: absolute;\\r\\n    left: 10px;\\r\\n    top: 20px;\\r\\n    font-size: 30px;\\r\\n    -webkit-transition: all 0.2s ease-out;\\r\\n    -o-transition: all 0.2s ease-out;\\r\\n    transition: all 0.2s ease-out;\\r\\n    opacity: 0.5;\\r\\n    pointer-events: none;\\r\\n    margin: 0;\\r\\n}\\r\\n\\r\\n.Fullpage--isActive h1 {\\r\\n    left: 60px;\\r\\n    font-size: 100px;\\r\\n    opacity: 1;\\r\\n}\\r\\n\\r\\n\\r\\n.Fullpage .Tile {\\r\\n    -webkit-transition: all 0.8s ease-out;\\r\\n    -o-transition: all 0.8s ease-out;\\r\\n    transition: all 0.8s ease-out;\\r\\n    opacity: 0;\\r\\n}\\r\\n\\r\\n.Fullpage--isActive .Tile {\\r\\n    opacity: 1;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"importLoaders\":1,\"minimize\":true,\"sourceMap\":true}!./node_modules/postcss-loader/lib?{\"ident\":\"postcss\",\"plugins\":[null,null]}!./src/components/fullpage/style.css\n// module id = 113\n// module chunks = 0","import React from 'react';\r\n\r\nimport './style.css';\r\n\r\nexport default (props) => (<div className=\"Tile\">\r\n    <div className=\"Tile-bar\"></div>\r\n    <h2>hello</h2>\r\n</div>)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/tile/Tile.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js??ref--1-oneOf-2-2!../../../node_modules/postcss-loader/lib/index.js??postcss!./style.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":false}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/tile/style.css\n// module id = 115\n// module chunks = 0","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".Tile{width:150px;height:250px;left:40px;bottom:40px;background-image:-webkit-linear-gradient(140deg,#303551 20%,#343048);background-image:-o-linear-gradient(140deg,#303551 20%,#343048 100%);background-image:linear-gradient(-50deg,#303551 20%,#343048);-webkit-box-shadow:0 0 10px 0 rgba(0,0,0,.5);box-shadow:0 0 10px 0 rgba(0,0,0,.5)}.Tile,.Tile-bar{position:absolute}.Tile-bar{width:100%;height:8px;top:0;left:0;background-image:-webkit-gradient(linear,left top,right top,from(#84fab0),to(#8fd3f4));background-image:-webkit-linear-gradient(left,#84fab0,#8fd3f4);background-image:-o-linear-gradient(left,#84fab0 0,#8fd3f4 100%);background-image:linear-gradient(90deg,#84fab0,#8fd3f4);-webkit-box-shadow:0 0 10px 0 rgba(132,250,176,.75);box-shadow:0 0 10px 0 rgba(132,250,176,.75)}.Tile h2{color:#fff;padding:0 10px;font-weight:100}\", \"\", {\"version\":3,\"sources\":[\"e:/my-dev/wroclaw-its/model-builder/src/components/tile/style.css\"],\"names\":[],\"mappings\":\"AAAA,MACI,YAAa,AACb,aAAc,AAGd,UAAW,AACX,YAAa,AAGb,qEAA6E,AAC7E,qEAAwE,AACxE,6DAAqE,AACrE,6CAAwD,AAChD,oCAAgD,CAC3D,AAED,gBAbI,iBAAmB,CA6BtB,AAhBD,UAEI,WAAY,AACZ,WAAY,AACZ,MAAO,AACP,OAAQ,AAER,uFAA4F,AAE5F,+DAA0E,AAE1E,iEAAqE,AAErE,wDAAmE,AACnE,oDAA+D,AACvD,2CAAuD,CAClE,AAED,SACI,WAAY,AACZ,eAAgB,AAChB,eAAiB,CACpB\",\"file\":\"style.css\",\"sourcesContent\":[\".Tile {\\r\\n    width: 150px;\\r\\n    height: 250px;\\r\\n    position: absolute;\\r\\n    \\r\\n    left: 40px;\\r\\n    bottom: 40px;\\r\\n    \\r\\n    /* background-color: #303551; */\\r\\n    background-image: -webkit-linear-gradient(140deg, #303551 20%, #343048 100%);\\r\\n    background-image: -o-linear-gradient(140deg, #303551 20%, #343048 100%);\\r\\n    background-image: linear-gradient(-50deg, #303551 20%, #343048 100%);\\r\\n    -webkit-box-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.5);\\r\\n            box-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.5);\\r\\n}\\r\\n\\r\\n.Tile-bar {\\r\\n    position: absolute;\\r\\n    width: 100%;\\r\\n    height: 8px;\\r\\n    top: 0;\\r\\n    left: 0;\\r\\n\\r\\n    background-image: -webkit-gradient(linear, left top, right top, from(#84fab0), to(#8fd3f4));\\r\\n\\r\\n    background-image: -webkit-linear-gradient(left, #84fab0 0%, #8fd3f4 100%);\\r\\n\\r\\n    background-image: -o-linear-gradient(left, #84fab0 0%, #8fd3f4 100%);\\r\\n\\r\\n    background-image: linear-gradient(90deg, #84fab0 0%, #8fd3f4 100%);\\r\\n    -webkit-box-shadow: 0px 0px 10px 0px rgba(132, 250, 176, 0.75);\\r\\n            box-shadow: 0px 0px 10px 0px rgba(132, 250, 176, 0.75);\\r\\n}\\r\\n\\r\\n.Tile h2 {\\r\\n    color: #fff;\\r\\n    padding: 0 10px;\\r\\n    font-weight: 100;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"importLoaders\":1,\"minimize\":true,\"sourceMap\":true}!./node_modules/postcss-loader/lib?{\"ident\":\"postcss\",\"plugins\":[null,null]}!./src/components/tile/style.css\n// module id = 116\n// module chunks = 0","import React, { Component } from 'react';\r\nimport System from './System';\r\n\r\nconst style = {\r\n  width: '100%',\r\n  height: '100%',\r\n  minHeight: '100vh',\r\n  position: 'fixed',\r\n  zIndex: 0,\r\n  // opacity: 0.1,\r\n};\r\n\r\nexport default class World extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onProgress = this.onProgress.bind(this);\r\n    this.onLoad = this.onLoad.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.system = new System(\r\n      this.rootEl,\r\n      this.onProgress,\r\n      this.onLoad,\r\n      this.props\r\n    );\r\n  }\r\n\r\n  onLoad() {\r\n    console.log(':: World: load is complete!');\r\n    this.system.init();\r\n    setTimeout(() => {\r\n      this.props.onLoad();\r\n      this.system.initLate();\r\n    }, 2500);\r\n  }\r\n\r\n  onProgress(url, itemsLoaded, itemsTotal) {\r\n    // console.log(':: World - loading:', itemsLoaded / itemsTotal * 100);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"Scene\" style={style} ref={el => (this.rootEl = el)} />\r\n    );\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/world/index.js","import * as THREE from 'three';\r\nimport { TweenMax } from 'gsap';\r\n\r\n// import EffectComposer, {\r\n//   RenderPass,\r\n//   ShaderPass,\r\n//   CopyShader,\r\n// } from 'three-effectcomposer-es6';\r\n\r\nimport fxaa from 'three-shader-fxaa';\r\n\r\nimport OrbitControls from '../../lib/OrbitControls';\r\nimport GlitchPass from '../../lib/GlitchPass';\r\n\r\nimport Grid from './Grid';\r\nimport City from './City';\r\nimport Transit from './Transit';\r\nimport Tilemap from './Tilemap';\r\nimport ITS from './ITS';\r\n\r\nimport { LS_PREFIX, DEFAULTS, CENTER, CAMERA_POINTS, PALETTE } from './constants';\r\nimport { Mercator, getTileSize, geo2tile, tile2geo } from './Calc';\r\n\r\nconst EffectComposer = require('three-effectcomposer')(THREE);\r\n\r\nexport default class System {\r\n  constructor(rootElement, onProgressCb, onLoadCb, options) {\r\n    this.isRunning = true;\r\n    this.container = rootElement;\r\n    this.onProgressCb = onProgressCb;\r\n    this.onLoadCb = onLoadCb;\r\n    this.options = options;\r\n\r\n    this.sphereGeometry = new THREE.SphereBufferGeometry(100, 16, 16);\r\n    this.center = new THREE.Vector3();\r\n    this.mercator = Mercator(CENTER.lat, CENTER.lon);\r\n    this.initialized = false;\r\n\r\n    this.raycaster = new THREE.Raycaster();\r\n\r\n    this.setupClock();\r\n    this.setupDebug();\r\n    this.setupLoader();\r\n    this.setupScene();\r\n    this.setupCamera();\r\n    this.setupSize();\r\n    this.setupRenderer();\r\n    this.setupComposer();\r\n    this.setupControls();\r\n    this.setupHelpers();\r\n    this.setupListeners();\r\n    this.setupComposer();\r\n    this.onResize();\r\n\r\n    this.grid = new Grid(this);\r\n    this.city = new City(this);\r\n    this.transit = new Transit(this);\r\n    this.its = new ITS(this);\r\n\r\n    this.loop();\r\n\r\n    this.toggle = this.toggle.bind(this);\r\n  }\r\n\r\n  init() {\r\n    console.log('System initialize sequence');\r\n    this.initialized = true;\r\n    this.grid && this.grid.init();\r\n    this.city && this.city.init();\r\n    this.transit && this.transit.init();\r\n\r\n    this.tilemap = new Tilemap(this);  }\r\n\r\n  initLate() {\r\n    this.city && this.city.initLate();\r\n    this.tilemap && this.tilemap.init();\r\n  }\r\n\r\n  setupClock() {\r\n    this.clock = new THREE.Clock();\r\n  }\r\n\r\n  setupDebug() {}\r\n\r\n  setupLoader() {\r\n    this.loadingManager = new THREE.LoadingManager();\r\n    this.loadingManager.onProgress = this.onProgressCb;\r\n    this.loadingManager.onLoad = this.onLoadCb;\r\n\r\n    this.loaderJSON = new THREE.JSONLoader(this.loadingManager);\r\n    this.loaderFile = new THREE.FileLoader(this.loadingManager);\r\n  }\r\n\r\n  setupScene() {\r\n    this.scene = new THREE.Scene();\r\n    window.THREE = THREE;\r\n    window.scene = this.scene;\r\n  }\r\n\r\n  setupCamera() {\r\n    this.cameraPoint = null;\r\n    this.cameraTarget = new THREE.Vector3();\r\n    this.cameraLerp = 0.1;\r\n\r\n    this.camera = new THREE.PerspectiveCamera(20, 0, 0.0001, 1000000);\r\n    this.camera.position.copy(CAMERA_POINTS.debugTop);\r\n    this.camera.lookAt(new THREE.Vector3());\r\n  }\r\n\r\n  setupRenderer() {\r\n    this.renderer = new THREE.WebGLRenderer({\r\n      alpha: true,\r\n      antialias: true,\r\n      autoClear: false\r\n    });\r\n\r\n    this.renderer.shadowMap.soft = false;\r\n    this.renderer.shadowMap.enabled = true;\r\n    // this.renderer.setClearColor ( 0xFFFFFF, 1.0);\r\n\r\n    this.container.appendChild(this.renderer.domElement);\r\n  }\r\n\r\n  setupComposer() {\r\n    var parameters = { minFilter: THREE.LinearFilter, magFilter: THREE.LinearFilter, format: THREE.RGBAFormat, stencilBuffer: false };\r\n    var renderTarget = new THREE.WebGLRenderTarget( this.width, this.height, parameters );\r\n\r\n    this.composer = new EffectComposer(this.renderer, renderTarget);\r\n    this.composer.addPass(new EffectComposer.RenderPass(this.scene, this.camera));\r\n\r\n    this.copyPass = new EffectComposer.ShaderPass(EffectComposer.CopyShader);\r\n    // copyPass.renderToScreen = true;\r\n    this.composer.addPass(this.copyPass);\r\n\r\n    this.fxaaPass = new EffectComposer.ShaderPass(fxaa());\r\n    // this.fxaaPass.renderToScreen = true;\r\n    this.composer.addPass(this.fxaaPass);\r\n\r\n    this.glitchPass = new GlitchPass(64);\r\n    this.glitchPass.renderToScreen = true;\r\n    this.composer.addPass(this.glitchPass);\r\n\r\n    \r\n    // // Make sure screen resolution is set!\r\n    this.fxaaPass.uniforms.resolution.value.set(window.innerWidth, window.innerHeight);\r\n    \r\n  }\r\n\r\n  setupControls() {\r\n    this.controls = new OrbitControls(this.camera);\r\n    this.controls.enabled = true;\r\n    this.controls.minPolarAngle = 0;\r\n    this.controls.maxPolarAngle = Math.PI / 2 - 0.15;\r\n    this.controls.rotateSpeed = 0.1;\r\n    this.controls.dampingFactor = 0.05;\r\n    this.controls.minDistance = 0;\r\n    this.controls.maxDistance = 600000;\r\n    this.controls.enableZoom = this.options.debug || false;\r\n    this.controls.target.copy(new THREE.Vector3(0, 0, 0));\r\n  }\r\n\r\n  setupHelpers() {\r\n    const tileSize = getTileSize(\r\n      CENTER.lat,\r\n      CENTER.lon,\r\n      DEFAULTS.zoom,\r\n      this.mercator\r\n    );\r\n\r\n    const tileNW = geo2tile(CENTER.lat, CENTER.lon, DEFAULTS.zoom);\r\n    const tileStart = tile2geo(tileNW.x, tileNW.y,  DEFAULTS.zoom)\r\n    const positionStart = this.mercator.fromGeo(tileStart.lat, tileStart.lon);    \r\n    const tiles = 30;\r\n\r\n    const axisHelper = new THREE.AxesHelper(1000);\r\n    this.gridHelper = new THREE.GridHelper(\r\n      tileSize * tiles,\r\n      tiles,\r\n      PALETTE.grid,\r\n      PALETTE.gridMain\r\n    );\r\n\r\n    this.gridHelper.position.set(positionStart.x, 0, positionStart.y - tileSize)\r\n    this.gridHelper.material.transparent = true;\r\n    this.gridHelper.material.opacity = 0.1;\r\n\r\n    this.scene.add(axisHelper);\r\n    this.scene.add(this.gridHelper);\r\n  }\r\n\r\n  setupListeners() {\r\n    window.addEventListener('resize', e => this.onResize(e));\r\n    document.addEventListener('keydown', this.onKeyDown.bind(this), false);\r\n    document.addEventListener('mousemove',  this.onDocumentMouseMove.bind(this), false );\r\n  }\r\n\r\n  setupSize() {\r\n    this.width = window.innerWidth;// this.container.offsetWidth;\r\n    this.height = window.innerHeight;// this.container.offsetHeight;\r\n  }\r\n\r\n  onResize() {\r\n    this.setupSize();\r\n    this.dpr = window.devicePixelRatio > 1 ? 2 : 1;\r\n    \r\n    this.renderer.setPixelRatio(this.dpr);\r\n    this.renderer.setSize(this.width, this.height);\r\n\r\n    this.camera.aspect = this.width / this.height;\r\n    this.camera.updateProjectionMatrix();\r\n\r\n    this.setupComposer();\r\n    // this.composer.setSize(this.width, this.height);\r\n    // this.fxaaPass.uniforms.resolution.value.set(this.width, this.height);\r\n    \r\n  }\r\n\r\n  onKeyDown(e) {\r\n    switch (e.keyCode) {\r\n      case 83: { // s\r\n        /* eslint-disable */\r\n        console.log('SAVE camera to LS ==>');\r\n        console.log(\r\n          'camera position:',\r\n          `${this.camera.position.x.toFixed(\r\n            2\r\n          )}, ${this.camera.position.y.toFixed(\r\n            2\r\n          )}, ${this.camera.position.z.toFixed(2)}`\r\n        );\r\n        /* eslint-enable */\r\n\r\n        localStorage.setItem(\r\n          `${LS_PREFIX}savedCamera`,\r\n          JSON.stringify({\r\n            cameraPosition: this.camera.position,\r\n            targetPosition: this.controls.target,\r\n          })\r\n        );\r\n        break;\r\n      }\r\n      case 84: {// t \r\n        this.tilemap && this.tilemap.saveTiles();\r\n        break;\r\n      }\r\n      case 68: {\r\n        console.log('LOAD camera from LS <==');\r\n        this.loadCameraFromLS();\r\n        break;\r\n      }\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  onDocumentMouseMove(event) {\r\n    const x = (event.clientX / window.innerWidth ) * 2 - 1;\r\n    const y = -( event.clientY / window.innerHeight ) * 2 + 1;\r\n    this.mouse = {\r\n      x,\r\n      y\r\n    };\r\n  }\r\n\r\n  loadCameraFromLS() {\r\n    const savedCamera = JSON.parse(localStorage.getItem(`${LS_PREFIX}savedCamera`));\r\n\r\n    if (savedCamera) {\r\n      this.camera.position.copy(savedCamera.cameraPosition);\r\n      this.camera.lookAt(savedCamera.targetPosition);\r\n      this.controls.target.copy(savedCamera.targetPosition);\r\n    }\r\n  }\r\n\r\n  update() {\r\n    if (this.mouse) {\r\n      this.raycaster.setFromCamera(this.mouse, this.camera);  \r\n    }\r\n    \r\n    if (this.controls) {\r\n      this.controls.update();\r\n    }\r\n\r\n    this.grid && this.grid.update();\r\n    this.city && this.city.update();\r\n    this.transit && this.transit.update();\r\n    this.tilemap && this.tilemap.update();\r\n    this.its && this.its.update();\r\n  }\r\n\r\n  render() {\r\n    this.renderer.render(this.scene, this.camera);\r\n  }\r\n\r\n  loop() {  \r\n    if (this.isRunning) {\r\n      this.update();\r\n\r\n      if (!this.composer) {\r\n        this.render();\r\n      } else {\r\n        this.composer.render();\r\n      }\r\n    }\r\n\r\n    this.raf = window.requestAnimationFrame(() => this.loop());\r\n  }\r\n\r\n  makeGlitch(duration = 0.25) {\r\n    const effect = {\r\n      p: 1,\r\n    };\r\n\r\n    TweenMax.to(effect, duration, {\r\n      p: 0,\r\n      onStart: () => (this.glitchPass.isEnabled = true),\r\n      onComplete: () => (this.glitchPass.isEnabled = false),\r\n      onUpdate: () => (this.glitchPass.byp = effect.p),\r\n    });\r\n  }\r\n\r\n  toggle(forcedState) {\r\n    if (forcedState !== undefined) {\r\n      this.isRunning = forcedState;\r\n    } else {\r\n      this.isRunning = !this.isRunning;\r\n    }\r\n\r\n    console.log('System.toggle():', this.isRunning, forcedState);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/world/System.js","\nmodule.exports = threeShaderFXAA\nfunction threeShaderFXAA (opt) {\n  if (typeof global.THREE === 'undefined') {\n    throw new TypeError('You must have THREE in global scope for this module.')\n  }\n  opt = opt || {}\n  return {\n    uniforms: {\n      tDiffuse: { type: 't', value: new THREE.Texture() },\n      resolution: { type: 'v2', value: opt.resolution || new THREE.Vector2() }\n    },\n    vertexShader: \"#define GLSLIFY 1\\nvarying vec2 vUv;\\n\\nvarying vec2 v_rgbNW;\\nvarying vec2 v_rgbNE;\\nvarying vec2 v_rgbSW;\\nvarying vec2 v_rgbSE;\\nvarying vec2 v_rgbM;\\n\\nuniform vec2 resolution;\\n\\nvoid main() {\\n  vUv = uv;\\n  vec2 fragCoord = uv * resolution;\\n  vec2 inverseVP = 1.0 / resolution.xy;\\n  v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\\n  v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\\n  v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\\n  v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\\n  v_rgbM = vec2(fragCoord * inverseVP);\\n\\n  gl_Position = projectionMatrix *\\n              modelViewMatrix *\\n              vec4(position,1.0);\\n}\\n\",\n    fragmentShader: \"#define GLSLIFY 1\\nvarying vec2 vUv;\\n\\n//texcoords computed in vertex step\\n//to avoid dependent texture reads\\nvarying vec2 v_rgbNW;\\nvarying vec2 v_rgbNE;\\nvarying vec2 v_rgbSW;\\nvarying vec2 v_rgbSE;\\nvarying vec2 v_rgbM;\\n\\n//make sure to have a resolution uniform set to the screen size\\nuniform vec2 resolution;\\nuniform sampler2D tDiffuse;\\n\\n/**\\nBasic FXAA implementation based on the code on geeks3d.com with the\\nmodification that the texture2DLod stuff was removed since it's\\nunsupported by WebGL.\\n\\n--\\n\\nFrom:\\nhttps://github.com/mitsuhiko/webgl-meincraft\\n\\nCopyright (c) 2011 by Armin Ronacher.\\n\\nSome rights reserved.\\n\\nRedistribution and use in source and binary forms, with or without\\nmodification, are permitted provided that the following conditions are\\nmet:\\n\\n    * Redistributions of source code must retain the above copyright\\n      notice, this list of conditions and the following disclaimer.\\n\\n    * Redistributions in binary form must reproduce the above\\n      copyright notice, this list of conditions and the following\\n      disclaimer in the documentation and/or other materials provided\\n      with the distribution.\\n\\n    * The names of the contributors may not be used to endorse or\\n      promote products derived from this software without specific\\n      prior written permission.\\n\\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\\n\\\"AS IS\\\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\\nLIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\\nA PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\\nOWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\\nSPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\\nLIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\\nDATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\\nTHEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\\nOF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\\n*/\\n\\n#ifndef FXAA_REDUCE_MIN\\n    #define FXAA_REDUCE_MIN   (1.0/ 128.0)\\n#endif\\n#ifndef FXAA_REDUCE_MUL\\n    #define FXAA_REDUCE_MUL   (1.0 / 8.0)\\n#endif\\n#ifndef FXAA_SPAN_MAX\\n    #define FXAA_SPAN_MAX     8.0\\n#endif\\n\\n//optimized version for mobile, where dependent \\n//texture reads can be a bottleneck\\nvec4 fxaa_1540259130(sampler2D tex, vec2 fragCoord, vec2 resolution,\\n            vec2 v_rgbNW, vec2 v_rgbNE, \\n            vec2 v_rgbSW, vec2 v_rgbSE, \\n            vec2 v_rgbM) {\\n    vec4 color;\\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\\n    vec4 texColor = texture2D(tex, v_rgbM);\\n    vec3 rgbM  = texColor.xyz;\\n    vec3 luma = vec3(0.299, 0.587, 0.114);\\n    float lumaNW = dot(rgbNW, luma);\\n    float lumaNE = dot(rgbNE, luma);\\n    float lumaSW = dot(rgbSW, luma);\\n    float lumaSE = dot(rgbSE, luma);\\n    float lumaM  = dot(rgbM,  luma);\\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\\n    \\n    mediump vec2 dir;\\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\\n    \\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\\n    \\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\\n              dir * rcpDirMin)) * inverseVP;\\n    \\n    vec3 rgbA = 0.5 * (\\n        texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\\n        texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\\n        texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\\n        texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\\n\\n    float lumaB = dot(rgbB, luma);\\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\\n        color = vec4(rgbA, texColor.a);\\n    else\\n        color = vec4(rgbB, texColor.a);\\n    return color;\\n}\\n\\nvoid main() {\\n  vec2 fragCoord = vUv * resolution;   \\n  gl_FragColor = fxaa_1540259130(tDiffuse, fragCoord, resolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\\n}\\n\"\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/three-shader-fxaa/build/index.js\n// module id = 119\n// module chunks = 0","/* eslint-disable */\r\n/**\r\n * @author qiao / https://github.com/qiao\r\n * @author mrdoob / http://mrdoob.com\r\n * @author alteredq / http://alteredqualia.com/\r\n * @author WestLangley / http://github.com/WestLangley\r\n * @author erich666 / http://erichaines.com\r\n */\r\n\r\n// This set of controls performs orbiting, dollying (zooming), and panning.\r\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\r\n//\r\n//    Orbit - left mouse / touch: one finger move\r\n//    Zoom - middle mouse, or mousewheel / touch: two finger spread or squish\r\n//    Pan - right mouse, or arrow keys / touch: three finger swipe\r\nconst THREE = window.THREE || require('three');\r\n\r\nfunction OrbitControls( object, domElement ) {\r\n\r\n\tthis.object = object;\r\n\r\n\tthis.domElement = ( domElement !== undefined ) ? domElement : document;\r\n\r\n\t// Set to false to disable this control\r\n\tthis.enabled = true;\r\n\r\n\t// \"target\" sets the location of focus, where the object orbits around\r\n\tthis.target = new THREE.Vector3();\r\n\r\n\t// How far you can dolly in and out ( PerspectiveCamera only )\r\n\tthis.minDistance = 0;\r\n\tthis.maxDistance = Infinity;\r\n\r\n\t// How far you can zoom in and out ( OrthographicCamera only )\r\n\tthis.minZoom = 0;\r\n\tthis.maxZoom = Infinity;\r\n\r\n\t// How far you can orbit vertically, upper and lower limits.\r\n\t// Range is 0 to Math.PI radians.\r\n\tthis.minPolarAngle = 0; // radians\r\n\tthis.maxPolarAngle = Math.PI; // radians\r\n\r\n\t// How far you can orbit horizontally, upper and lower limits.\r\n\t// If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\r\n\tthis.minAzimuthAngle = -Infinity; // radians\r\n\tthis.maxAzimuthAngle = Infinity; // radians\r\n\r\n\t// Set to true to enable damping (inertia)\r\n\t// If damping is enabled, you must call controls.update() in your animation loop\r\n\tthis.enableDamping = true;\r\n\tthis.dampingFactor = 0.12;\r\n\r\n\t// This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\r\n\t// Set to false to disable zooming\r\n\tthis.enableZoom = true;\r\n\tthis.zoomSpeed = 1.0;\r\n\r\n\t// Set to false to disable rotating\r\n\tthis.enableRotate = true;\r\n\tthis.rotateSpeed = 1.0;\r\n\r\n\t// Set to false to disable panning\r\n\tthis.enablePan = true;\r\n\tthis.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\r\n\r\n\t// Set to true to automatically rotate around the target\r\n\t// If auto-rotate is enabled, you must call controls.update() in your animation loop\r\n\tthis.autoRotate = false;\r\n\tthis.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\r\n\r\n\t// Set to false to disable use of the keys\r\n\tthis.enableKeys = true;\r\n\r\n\t// The four arrow keys\r\n\tthis.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\r\n\r\n\t// Mouse buttons\r\n\tthis.mouseButtons = { ORBIT: THREE.MOUSE.LEFT, ZOOM: THREE.MOUSE.MIDDLE, PAN: THREE.MOUSE.RIGHT };\r\n\r\n\t// for reset\r\n\tthis.target0 = this.target.clone();\r\n\tthis.position0 = this.object.position.clone();\r\n\tthis.zoom0 = this.object.zoom;\r\n\r\n\t//\r\n\t// public methods\r\n\t//\r\n\r\n\tthis.getPolarAngle = function () {\r\n\r\n\t\treturn spherical.phi;\r\n\r\n\t};\r\n\r\n\tthis.getAzimuthalAngle = function () {\r\n\r\n\t\treturn spherical.theta;\r\n\r\n\t};\r\n\r\n\tthis.saveState = function () {\r\n\r\n\t\tscope.target0.copy( scope.target );\r\n\t\tscope.position0.copy( scope.object.position );\r\n\t\tscope.zoom0 = scope.object.zoom;\r\n\r\n\t};\r\n\r\n\tthis.reset = function () {\r\n\r\n\t\tscope.target.copy( scope.target0 );\r\n\t\tscope.object.position.copy( scope.position0 );\r\n\t\tscope.object.zoom = scope.zoom0;\r\n\r\n\t\tscope.object.updateProjectionMatrix();\r\n\t\tscope.dispatchEvent( changeEvent );\r\n\r\n\t\tscope.update();\r\n\r\n\t\tstate = STATE.NONE;\r\n\r\n\t};\r\n\r\n\t// this method is exposed, but perhaps it would be better if we can make it private...\r\n\tthis.update = function () {\r\n\r\n\t\tvar offset = new THREE.Vector3();\r\n\r\n\t\t// so camera.up is the orbit axis\r\n\t\tvar quat = new THREE.Quaternion().setFromUnitVectors( object.up, new THREE.Vector3( 0, 1, 0 ) );\r\n\t\tvar quatInverse = quat.clone().inverse();\r\n\r\n\t\tvar lastPosition = new THREE.Vector3();\r\n\t\tvar lastQuaternion = new THREE.Quaternion();\r\n\r\n\t\treturn function update() {\r\n\r\n\t\t\tvar position = scope.object.position;\r\n\r\n\t\t\toffset.copy( position ).sub( scope.target );\r\n\r\n\t\t\t// rotate offset to \"y-axis-is-up\" space\r\n\t\t\toffset.applyQuaternion( quat );\r\n\r\n\t\t\t// angle from z-axis around y-axis\r\n\t\t\tspherical.setFromVector3( offset );\r\n\r\n\t\t\tif ( scope.autoRotate && state === STATE.NONE ) {\r\n\r\n\t\t\t\trotateLeft( getAutoRotationAngle() );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tspherical.theta += sphericalDelta.theta;\r\n\t\t\tspherical.phi += sphericalDelta.phi;\r\n\r\n\t\t\t// restrict theta to be between desired limits\r\n\t\t\tspherical.theta = Math.max( scope.minAzimuthAngle, Math.min( scope.maxAzimuthAngle, spherical.theta ) );\r\n\r\n\t\t\t// restrict phi to be between desired limits\r\n\t\t\tspherical.phi = Math.max( scope.minPolarAngle, Math.min( scope.maxPolarAngle, spherical.phi ) );\r\n\r\n\t\t\tspherical.makeSafe();\r\n\r\n\r\n\t\t\tspherical.radius *= scale;\r\n\r\n\t\t\t// restrict radius to be between desired limits\r\n\t\t\tspherical.radius = Math.max( scope.minDistance, Math.min( scope.maxDistance, spherical.radius ) );\r\n\r\n\t\t\t// move target to panned location\r\n\t\t\tscope.target.add( panOffset );\r\n\r\n\t\t\toffset.setFromSpherical( spherical );\r\n\r\n\t\t\t// rotate offset back to \"camera-up-vector-is-up\" space\r\n\t\t\toffset.applyQuaternion( quatInverse );\r\n\r\n\t\t\tposition.copy( scope.target ).add( offset );\r\n\r\n\t\t\tscope.object.lookAt( scope.target );\r\n\r\n\t\t\tif ( scope.enableDamping === true ) {\r\n\r\n\t\t\t\tsphericalDelta.theta *= ( 1 - scope.dampingFactor );\r\n\t\t\t\tsphericalDelta.phi *= ( 1 - scope.dampingFactor );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tsphericalDelta.set( 0, 0, 0 );\r\n\r\n\t\t\t}\r\n\r\n\t\t\tscale = 1;\r\n\t\t\tpanOffset.set( 0, 0, 0 );\r\n\r\n\t\t\t// update condition is:\r\n\t\t\t// min(camera displacement, camera rotation in radians)^2 > EPS\r\n\t\t\t// using small-angle approximation cos(x/2) = 1 - x^2 / 8\r\n\r\n\t\t\tif ( zoomChanged ||\r\n\t\t\t\tlastPosition.distanceToSquared( scope.object.position ) > EPS ||\r\n\t\t\t\t8 * ( 1 - lastQuaternion.dot( scope.object.quaternion ) ) > EPS ) {\r\n\r\n\t\t\t\tscope.dispatchEvent( changeEvent );\r\n\r\n\t\t\t\tlastPosition.copy( scope.object.position );\r\n\t\t\t\tlastQuaternion.copy( scope.object.quaternion );\r\n\t\t\t\tzoomChanged = false;\r\n\r\n\t\t\t\treturn true;\r\n\r\n\t\t\t}\r\n\r\n\t\t\treturn false;\r\n\r\n\t\t};\r\n\r\n\t}();\r\n\r\n\tthis.dispose = function () {\r\n\r\n\t\tscope.domElement.removeEventListener( 'contextmenu', onContextMenu, false );\r\n\t\tscope.domElement.removeEventListener( 'mousedown', onMouseDown, false );\r\n\t\tscope.domElement.removeEventListener( 'wheel', onMouseWheel, false );\r\n\r\n\t\tscope.domElement.removeEventListener( 'touchstart', onTouchStart, false );\r\n\t\tscope.domElement.removeEventListener( 'touchend', onTouchEnd, false );\r\n\t\tscope.domElement.removeEventListener( 'touchmove', onTouchMove, false );\r\n\r\n\t\tdocument.removeEventListener( 'mousemove', onMouseMove, false );\r\n\t\tdocument.removeEventListener( 'mouseup', onMouseUp, false );\r\n\r\n\t\twindow.removeEventListener( 'keydown', onKeyDown, false );\r\n\r\n\t\t//scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\r\n\r\n\t};\r\n\r\n\t//\r\n\t// internals\r\n\t//\r\n\r\n\tvar scope = this;\r\n\r\n\tvar changeEvent = { type: 'change' };\r\n\tvar startEvent = { type: 'start' };\r\n\tvar endEvent = { type: 'end' };\r\n\r\n\tvar STATE = { NONE: - 1, ROTATE: 0, DOLLY: 1, PAN: 2, TOUCH_ROTATE: 3, TOUCH_DOLLY: 4, TOUCH_PAN: 5 };\r\n\r\n\tvar state = STATE.NONE;\r\n\r\n\tvar EPS = 0.000001;\r\n\r\n\t// current position in spherical coordinates\r\n\tvar spherical = new THREE.Spherical();\r\n\tvar sphericalDelta = new THREE.Spherical();\r\n\r\n\tvar scale = 1;\r\n\tvar panOffset = new THREE.Vector3();\r\n\tvar zoomChanged = false;\r\n\r\n\tvar rotateStart = new THREE.Vector2();\r\n\tvar rotateEnd = new THREE.Vector2();\r\n\tvar rotateDelta = new THREE.Vector2();\r\n\r\n\tvar panStart = new THREE.Vector2();\r\n\tvar panEnd = new THREE.Vector2();\r\n\tvar panDelta = new THREE.Vector2();\r\n\r\n\tvar dollyStart = new THREE.Vector2();\r\n\tvar dollyEnd = new THREE.Vector2();\r\n\tvar dollyDelta = new THREE.Vector2();\r\n\r\n\tfunction getAutoRotationAngle() {\r\n\r\n\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\r\n\r\n\t}\r\n\r\n\tfunction getZoomScale() {\r\n\r\n\t\treturn Math.pow( 0.95, scope.zoomSpeed );\r\n\r\n\t}\r\n\r\n\tfunction rotateLeft( angle ) {\r\n\r\n\t\tsphericalDelta.theta -= angle;\r\n\r\n\t}\r\n\r\n\tfunction rotateUp( angle ) {\r\n\r\n\t\tsphericalDelta.phi -= angle;\r\n\r\n\t}\r\n\r\n\tvar panLeft = function () {\r\n\r\n\t\tvar v = new THREE.Vector3();\r\n\r\n\t\treturn function panLeft( distance, objectMatrix ) {\r\n\r\n\t\t\tv.setFromMatrixColumn( objectMatrix, 0 ); // get X column of objectMatrix\r\n\t\t\tv.multiplyScalar( - distance );\r\n\r\n\t\t\tpanOffset.add( v );\r\n\r\n\t\t};\r\n\r\n\t}();\r\n\r\n\tvar panUp = function () {\r\n\r\n\t\tvar v = new THREE.Vector3();\r\n\r\n\t\treturn function panUp( distance, objectMatrix ) {\r\n\r\n\t\t\tv.setFromMatrixColumn( objectMatrix, 1 ); // get Y column of objectMatrix\r\n\t\t\tv.multiplyScalar( distance );\r\n\r\n\t\t\tpanOffset.add( v );\r\n\r\n\t\t};\r\n\r\n\t}();\r\n\r\n\t// deltaX and deltaY are in pixels; right and down are positive\r\n\tvar pan = function () {\r\n\r\n\t\tvar offset = new THREE.Vector3();\r\n\r\n\t\treturn function pan( deltaX, deltaY ) {\r\n\r\n\t\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\r\n\r\n\t\t\tif ( scope.object instanceof THREE.PerspectiveCamera ) {\r\n\r\n\t\t\t\t// perspective\r\n\t\t\t\tvar position = scope.object.position;\r\n\t\t\t\toffset.copy( position ).sub( scope.target );\r\n\t\t\t\tvar targetDistance = offset.length();\r\n\r\n\t\t\t\t// half of the fov is center to top of screen\r\n\t\t\t\ttargetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\r\n\r\n\t\t\t\t// we actually don't use screenWidth, since perspective camera is fixed to screen height\r\n\t\t\t\tpanLeft( 2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix );\r\n\t\t\t\tpanUp( 2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix );\r\n\r\n\t\t\t} else if ( scope.object instanceof THREE.OrthographicCamera ) {\r\n\r\n\t\t\t\t// orthographic\r\n\t\t\t\tpanLeft( deltaX * ( scope.object.right - scope.object.left ) / scope.object.zoom / element.clientWidth, scope.object.matrix );\r\n\t\t\t\tpanUp( deltaY * ( scope.object.top - scope.object.bottom ) / scope.object.zoom / element.clientHeight, scope.object.matrix );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// camera neither orthographic nor perspective\r\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\r\n\t\t\t\tscope.enablePan = false;\r\n\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\t}();\r\n\r\n\tfunction dollyIn( dollyScale ) {\r\n\r\n\t\tif ( scope.object instanceof THREE.PerspectiveCamera ) {\r\n\r\n\t\t\tscale /= dollyScale;\r\n\r\n\t\t} else if ( scope.object instanceof THREE.OrthographicCamera ) {\r\n\r\n\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom * dollyScale ) );\r\n\t\t\tscope.object.updateProjectionMatrix();\r\n\t\t\tzoomChanged = true;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\r\n\t\t\tscope.enableZoom = false;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction dollyOut( dollyScale ) {\r\n\r\n\t\tif ( scope.object instanceof THREE.PerspectiveCamera ) {\r\n\r\n\t\t\tscale *= dollyScale;\r\n\r\n\t\t} else if ( scope.object instanceof THREE.OrthographicCamera ) {\r\n\r\n\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom / dollyScale ) );\r\n\t\t\tscope.object.updateProjectionMatrix();\r\n\t\t\tzoomChanged = true;\r\n\r\n\t\t} else {\r\n\r\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\r\n\t\t\tscope.enableZoom = false;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t//\r\n\t// event callbacks - update the object state\r\n\t//\r\n\r\n\tfunction handleMouseDownRotate( event ) {\r\n\r\n\t\t//console.log( 'handleMouseDownRotate' );\r\n\r\n\t\trotateStart.set( event.clientX, event.clientY );\r\n\r\n\t}\r\n\r\n\tfunction handleMouseDownDolly( event ) {\r\n\r\n\t\t//console.log( 'handleMouseDownDolly' );\r\n\r\n\t\tdollyStart.set( event.clientX, event.clientY );\r\n\r\n\t}\r\n\r\n\tfunction handleMouseDownPan( event ) {\r\n\r\n\t\t//console.log( 'handleMouseDownPan' );\r\n\r\n\t\tpanStart.set( event.clientX, event.clientY );\r\n\r\n\t}\r\n\r\n\tfunction handleMouseMoveRotate( event ) {\r\n\r\n\t\t//console.log( 'handleMouseMoveRotate' );\r\n\r\n\t\trotateEnd.set( event.clientX, event.clientY );\r\n\t\trotateDelta.subVectors( rotateEnd, rotateStart );\r\n\r\n\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\r\n\r\n\t\t// rotating across whole screen goes 360 degrees around\r\n\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed );\r\n\r\n\t\t// rotating up and down along whole screen attempts to go 360, but limited to 180\r\n\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed );\r\n\r\n\t\trotateStart.copy( rotateEnd );\r\n\r\n\t\tscope.update();\r\n\r\n\t}\r\n\r\n\tfunction handleMouseMoveDolly( event ) {\r\n\r\n\t\t//console.log( 'handleMouseMoveDolly' );\r\n\r\n\t\tdollyEnd.set( event.clientX, event.clientY );\r\n\r\n\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\r\n\r\n\t\tif ( dollyDelta.y > 0 ) {\r\n\r\n\t\t\tdollyIn( getZoomScale() );\r\n\r\n\t\t} else if ( dollyDelta.y < 0 ) {\r\n\r\n\t\t\tdollyOut( getZoomScale() );\r\n\r\n\t\t}\r\n\r\n\t\tdollyStart.copy( dollyEnd );\r\n\r\n\t\tscope.update();\r\n\r\n\t}\r\n\r\n\tfunction handleMouseMovePan( event ) {\r\n\r\n\t\t//console.log( 'handleMouseMovePan' );\r\n\r\n\t\tpanEnd.set( event.clientX, event.clientY );\r\n\r\n\t\tpanDelta.subVectors( panEnd, panStart );\r\n\r\n\t\tpan( panDelta.x, panDelta.y );\r\n\r\n\t\tpanStart.copy( panEnd );\r\n\r\n\t\tscope.update();\r\n\r\n\t}\r\n\r\n\tfunction handleMouseUp( event ) {\r\n\r\n\t\t// console.log( 'handleMouseUp' );\r\n\r\n\t}\r\n\r\n\tfunction handleMouseWheel( event ) {\r\n\r\n\t\t// console.log( 'handleMouseWheel' );\r\n\r\n\t\tif ( event.deltaY < 0 ) {\r\n\r\n\t\t\tdollyOut( getZoomScale() );\r\n\r\n\t\t} else if ( event.deltaY > 0 ) {\r\n\r\n\t\t\tdollyIn( getZoomScale() );\r\n\r\n\t\t}\r\n\r\n\t\tscope.update();\r\n\r\n\t}\r\n\r\n\tfunction handleKeyDown( event ) {\r\n\r\n\t\t//console.log( 'handleKeyDown' );\r\n\r\n\t\tswitch ( event.keyCode ) {\r\n\r\n\t\t\tcase scope.keys.UP:\r\n\t\t\t\tpan( 0, scope.keyPanSpeed );\r\n\t\t\t\tscope.update();\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase scope.keys.BOTTOM:\r\n\t\t\t\tpan( 0, - scope.keyPanSpeed );\r\n\t\t\t\tscope.update();\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase scope.keys.LEFT:\r\n\t\t\t\tpan( scope.keyPanSpeed, 0 );\r\n\t\t\t\tscope.update();\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase scope.keys.RIGHT:\r\n\t\t\t\tpan( - scope.keyPanSpeed, 0 );\r\n\t\t\t\tscope.update();\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction handleTouchStartRotate( event ) {\r\n\r\n\t\t//console.log( 'handleTouchStartRotate' );\r\n\r\n\t\trotateStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchStartDolly( event ) {\r\n\r\n\t\t//console.log( 'handleTouchStartDolly' );\r\n\r\n\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\r\n\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\r\n\r\n\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\r\n\r\n\t\tdollyStart.set( 0, distance );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchStartPan( event ) {\r\n\r\n\t\t//console.log( 'handleTouchStartPan' );\r\n\r\n\t\tpanStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\r\n\r\n\t}\r\n\r\n\tfunction handleTouchMoveRotate( event ) {\r\n\r\n\t\t//console.log( 'handleTouchMoveRotate' );\r\n\r\n\t\trotateEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\r\n\t\trotateDelta.subVectors( rotateEnd, rotateStart );\r\n\r\n\t\tvar element = scope.domElement === document ? scope.domElement.body : scope.domElement;\r\n\r\n\t\t// rotating across whole screen goes 360 degrees around\r\n\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed );\r\n\r\n\t\t// rotating up and down along whole screen attempts to go 360, but limited to 180\r\n\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed );\r\n\r\n\t\trotateStart.copy( rotateEnd );\r\n\r\n\t\tscope.update();\r\n\r\n\t}\r\n\r\n\tfunction handleTouchMoveDolly( event ) {\r\n\r\n\t\t//console.log( 'handleTouchMoveDolly' );\r\n\r\n\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\r\n\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\r\n\r\n\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\r\n\r\n\t\tdollyEnd.set( 0, distance );\r\n\r\n\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\r\n\r\n\t\tif ( dollyDelta.y > 0 ) {\r\n\r\n\t\t\tdollyOut( getZoomScale() );\r\n\r\n\t\t} else if ( dollyDelta.y < 0 ) {\r\n\r\n\t\t\tdollyIn( getZoomScale() );\r\n\r\n\t\t}\r\n\r\n\t\tdollyStart.copy( dollyEnd );\r\n\r\n\t\tscope.update();\r\n\r\n\t}\r\n\r\n\tfunction handleTouchMovePan( event ) {\r\n\r\n\t\t//console.log( 'handleTouchMovePan' );\r\n\r\n\t\tpanEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\r\n\r\n\t\tpanDelta.subVectors( panEnd, panStart );\r\n\r\n\t\tpan( panDelta.x, panDelta.y );\r\n\r\n\t\tpanStart.copy( panEnd );\r\n\r\n\t\tscope.update();\r\n\r\n\t}\r\n\r\n\tfunction handleTouchEnd( event ) {\r\n\r\n\t\t//console.log( 'handleTouchEnd' );\r\n\r\n\t}\r\n\r\n\t//\r\n\t// event handlers - FSM: listen for events and reset state\r\n\t//\r\n\r\n\tfunction onMouseDown( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\r\n\t\tswitch ( event.button ) {\r\n\r\n\t\t\tcase scope.mouseButtons.ORBIT:\r\n\r\n\t\t\t\tif ( scope.enableRotate === false ) return;\r\n\r\n\t\t\t\thandleMouseDownRotate( event );\r\n\r\n\t\t\t\tstate = STATE.ROTATE;\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase scope.mouseButtons.ZOOM:\r\n\r\n\t\t\t\tif ( scope.enableZoom === false ) return;\r\n\r\n\t\t\t\thandleMouseDownDolly( event );\r\n\r\n\t\t\t\tstate = STATE.DOLLY;\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase scope.mouseButtons.PAN:\r\n\r\n\t\t\t\tif ( scope.enablePan === false ) return;\r\n\r\n\t\t\t\thandleMouseDownPan( event );\r\n\r\n\t\t\t\tstate = STATE.PAN;\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t\tif ( state !== STATE.NONE ) {\r\n\r\n\t\t\tdocument.addEventListener( 'mousemove', onMouseMove, false );\r\n\t\t\tdocument.addEventListener( 'mouseup', onMouseUp, false );\r\n\r\n\t\t\tscope.dispatchEvent( startEvent );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onMouseMove( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\r\n\t\tswitch ( state ) {\r\n\r\n\t\t\tcase STATE.ROTATE:\r\n\r\n\t\t\t\tif ( scope.enableRotate === false ) return;\r\n\r\n\t\t\t\thandleMouseMoveRotate( event );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase STATE.DOLLY:\r\n\r\n\t\t\t\tif ( scope.enableZoom === false ) return;\r\n\r\n\t\t\t\thandleMouseMoveDolly( event );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase STATE.PAN:\r\n\r\n\t\t\t\tif ( scope.enablePan === false ) return;\r\n\r\n\t\t\t\thandleMouseMovePan( event );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onMouseUp( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\thandleMouseUp( event );\r\n\r\n\t\tdocument.removeEventListener( 'mousemove', onMouseMove, false );\r\n\t\tdocument.removeEventListener( 'mouseup', onMouseUp, false );\r\n\r\n\t\tscope.dispatchEvent( endEvent );\r\n\r\n\t\tstate = STATE.NONE;\r\n\r\n\t}\r\n\r\n\tfunction onMouseWheel( event ) {\r\n\r\n\t\tif ( scope.enabled === false || scope.enableZoom === false || ( state !== STATE.NONE && state !== STATE.ROTATE ) ) return;\r\n\r\n\t\t// event.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\r\n\t\thandleMouseWheel( event );\r\n\r\n\t\tscope.dispatchEvent( startEvent ); // not sure why these are here...\r\n\t\tscope.dispatchEvent( endEvent );\r\n\r\n\t}\r\n\r\n\tfunction onKeyDown( event ) {\r\n\r\n\t\tif ( scope.enabled === false || scope.enableKeys === false || scope.enablePan === false ) return;\r\n\r\n\t\thandleKeyDown( event );\r\n\r\n\t}\r\n\r\n\tfunction onTouchStart( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tswitch ( event.touches.length ) {\r\n\r\n\t\t\tcase 1:\t// one-fingered touch: rotate\r\n\r\n\t\t\t\tif ( scope.enableRotate === false ) return;\r\n\r\n\t\t\t\thandleTouchStartRotate( event );\r\n\r\n\t\t\t\tstate = STATE.TOUCH_ROTATE;\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 2:\t// two-fingered touch: dolly\r\n\r\n\t\t\t\tif ( scope.enableZoom === false ) return;\r\n\r\n\t\t\t\thandleTouchStartDolly( event );\r\n\r\n\t\t\t\tstate = STATE.TOUCH_DOLLY;\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 3: // three-fingered touch: pan\r\n\r\n\t\t\t\tif ( scope.enablePan === false ) return;\r\n\r\n\t\t\t\thandleTouchStartPan( event );\r\n\r\n\t\t\t\tstate = STATE.TOUCH_PAN;\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\r\n\t\t\t\tstate = STATE.NONE;\r\n\r\n\t\t}\r\n\r\n\t\tif ( state !== STATE.NONE ) {\r\n\r\n\t\t\tscope.dispatchEvent( startEvent );\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onTouchMove( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopPropagation();\r\n\r\n\t\tswitch ( event.touches.length ) {\r\n\r\n\t\t\tcase 1: // one-fingered touch: rotate\r\n\r\n\t\t\t\tif ( scope.enableRotate === false ) return;\r\n\t\t\t\tif ( state !== STATE.TOUCH_ROTATE ) return; // is this needed?...\r\n\r\n\t\t\t\thandleTouchMoveRotate( event );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 2: // two-fingered touch: dolly\r\n\r\n\t\t\t\tif ( scope.enableZoom === false ) return;\r\n\t\t\t\tif ( state !== STATE.TOUCH_DOLLY ) return; // is this needed?...\r\n\r\n\t\t\t\thandleTouchMoveDolly( event );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 3: // three-fingered touch: pan\r\n\r\n\t\t\t\tif ( scope.enablePan === false ) return;\r\n\t\t\t\tif ( state !== STATE.TOUCH_PAN ) return; // is this needed?...\r\n\r\n\t\t\t\thandleTouchMovePan( event );\r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\r\n\t\t\t\tstate = STATE.NONE;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tfunction onTouchEnd( event ) {\r\n\r\n\t\tif ( scope.enabled === false ) return;\r\n\r\n\t\thandleTouchEnd( event );\r\n\r\n\t\tscope.dispatchEvent( endEvent );\r\n\r\n\t\tstate = STATE.NONE;\r\n\r\n\t}\r\n\r\n\tfunction onContextMenu( event ) {\r\n\r\n\t\tevent.preventDefault();\r\n\r\n\t}\r\n\r\n\t//\r\n\r\n\tscope.domElement.addEventListener( 'contextmenu', onContextMenu, false );\r\n\r\n\tscope.domElement.addEventListener( 'mousedown', onMouseDown, false );\r\n\tscope.domElement.addEventListener( 'wheel', onMouseWheel, { passive: true});\r\n\r\n\tscope.domElement.addEventListener( 'touchstart', onTouchStart, false );\r\n\tscope.domElement.addEventListener( 'touchend', onTouchEnd, false );\r\n\tscope.domElement.addEventListener( 'touchmove', onTouchMove, false );\r\n\r\n\twindow.addEventListener( 'keydown', onKeyDown, false );\r\n\r\n\t// force an update at start\r\n\r\n\tthis.update();\r\n\r\n};\r\n\r\nOrbitControls.prototype = Object.create( THREE.EventDispatcher.prototype );\r\nOrbitControls.prototype.constructor = THREE.OrbitControls;\r\n\r\nObject.defineProperties(OrbitControls.prototype, {\r\n\r\n\tcenter: {\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.OrbitControls: .center has been renamed to .target' );\r\n\t\t\treturn this.target;\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\t// backward compatibility\r\n\r\n\tnoZoom: {\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.' );\r\n\t\t\treturn ! this.enableZoom;\r\n\r\n\t\t},\r\n\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.' );\r\n\t\t\tthis.enableZoom = ! value;\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tnoRotate: {\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.' );\r\n\t\t\treturn ! this.enableRotate;\r\n\r\n\t\t},\r\n\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.' );\r\n\t\t\tthis.enableRotate = ! value;\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tnoPan: {\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.' );\r\n\t\t\treturn ! this.enablePan;\r\n\r\n\t\t},\r\n\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.' );\r\n\t\t\tthis.enablePan = ! value;\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tnoKeys: {\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.' );\r\n\t\t\treturn ! this.enableKeys;\r\n\r\n\t\t},\r\n\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.' );\r\n\t\t\tthis.enableKeys = ! value;\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tstaticMoving: {\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.' );\r\n\t\t\treturn ! this.enableDamping;\r\n\r\n\t\t},\r\n\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.' );\r\n\t\t\tthis.enableDamping = ! value;\r\n\r\n\t\t}\r\n\r\n\t},\r\n\r\n\tdynamicDampingFactor: {\r\n\r\n\t\tget: function () {\r\n\r\n\t\t\tconsole.warn( 'THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.' );\r\n\t\t\treturn this.dampingFactor;\r\n\r\n\t\t},\r\n\r\n\t\tset: function ( value ) {\r\n\r\n\t\t\tconsole.warn( 'THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.' );\r\n\t\t\tthis.dampingFactor = value;\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n} );\r\n\r\n\r\nexport default OrbitControls;\n\n\n// WEBPACK FOOTER //\n// ./src/lib/OrbitControls.js","import * as THREE from 'three';\nimport digitalGlitch from './shaders/digitalGlitch';\nimport { RenderPass } from 'three-effectcomposer-es6';\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nexport default class GlitchPass extends RenderPass {\n  constructor(dt_size = 64) {\n    super();\n\n    this.uniforms = THREE.UniformsUtils.clone(digitalGlitch.uniforms);\n\n    // this.uniforms['tDisp'].value = this.generateHeightmap();\n\n    this.material = new THREE.ShaderMaterial({\n      uniforms: this.uniforms,\n      vertexShader: digitalGlitch.vertexShader,\n      fragmentShader: digitalGlitch.fragmentShader,\n    });\n\n    this.camera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0, 1);\n    this.scene = new THREE.Scene();\n\n    this.quad = new THREE.Mesh(new THREE.PlaneBufferGeometry(2, 2), null);\n    this.quad.frustumCulled = false; // Avoid getting clipped\n    this.scene.add(this.quad);\n\n    this.isEnabled = false;\n    this.goWild = false;\n    this.curF = 0;\n    this.byp = 1;\n    this.generateTrigger();\n  }\n\n  render(renderer, writeBuffer, readBuffer, delta, maskActive) {\n    this.uniforms['tDiffuse'].value = readBuffer.texture;\n    this.uniforms['seed'].value = Math.random(); //default seeding\n    this.uniforms['byp'].value = this.isEnabled ? this.byp : 1;\n\n    this.uniforms['amount'].value = Math.random() / 80;\n    this.uniforms['angle'].value = THREE.Math.randFloat(-Math.PI, Math.PI);\n    this.uniforms['distortion_x'].value = THREE.Math.randFloat(0.1, 1);\n    this.uniforms['distortion_y'].value = THREE.Math.randFloat(0.1, 1);\n    this.uniforms['seed_x'].value = THREE.Math.randFloat(-1, 1);\n    this.uniforms['seed_y'].value = THREE.Math.randFloat(-1, 1);\n    this.generateTrigger();\n\n    this.curF++;\n    this.quad.material = this.material;\n\n    if (this.renderToScreen) {\n      renderer.render(this.scene, this.camera);\n    } else {\n      renderer.render(this.scene, this.camera, writeBuffer, this.clear);\n    }\n  }\n\n  generateTrigger() {\n    this.randX = THREE.Math.randInt(120, 240);\n  }\n\n  generateHeightmap() {\n    const data_arr = new Float32Array(this.dt_size * this.dt_size * 3);\n    const length = this.dt_size * this.dt_size;\n\n    for (let i = 0; i < length; i++) {\n      const val = THREE.Math.randFloat(0, 1);\n      data_arr[i * 3 + 0] = val;\n      data_arr[i * 3 + 1] = val;\n      data_arr[i * 3 + 2] = val;\n    }\n\n    const texture = new THREE.DataTexture(\n      data_arr,\n      this.dt_size,\n      this.dt_size,\n      THREE.RGBFormat,\n      THREE.FloatType\n    );\n    texture.needsUpdate = true;\n    return texture;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/GlitchPass.js","/**\n * @author felixturner / http://airtight.cc/\n *\n * RGB Shift Shader\n * Shifts red and blue channels from center in opposite directions\n * Ported from http://kriss.cx/tom/2009/05/rgb-shift/\n * by Tom Butterworth / http://kriss.cx/tom/\n *\n * amount: shift distance (1 is width of input)\n * angle: shift angle in radians\n */\n\nexport default {\n\n\tuniforms: {\n\n\t\t\"tDiffuse\":\t\t{ value: null },//diffuse texture\n\t\t\"tDisp\":\t\t{ value: null },//displacement texture for digital glitch squares\n\t\t\"byp\":\t\t\t{ value: 0 },//apply the glitch ?\n\t\t\"amount\":\t\t{ value: 0.08 },\n\t\t\"angle\":\t\t{ value: 0.02 },\n\t\t\"seed\":\t\t\t{ value: 0.02 },\n\t\t\"seed_x\":\t\t{ value: 0.02 },//-1,1\n\t\t\"seed_y\":\t\t{ value: 0.02 },//-1,1\n\t\t\"distortion_x\":\t{ value: 0.5 },\n\t\t\"distortion_y\":\t{ value: 0.6 },\n\t\t\"col_s\":\t\t{ value: 0.05 }\n\t},\n\n\tvertexShader: [\n\n\t\t\"varying vec2 vUv;\",\n\t\t\"void main() {\",\n\t\t\t\"vUv = uv;\",\n\t\t\t\"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n\t\t\"}\"\n\t].join( \"\\n\" ),\n\n\tfragmentShader: [\n\t\t\"uniform int byp;\",//should we apply the glitch ?\n\t\t\n\t\t\"uniform sampler2D tDiffuse;\",\n\t\t\"uniform sampler2D tDisp;\",\n\t\t\n\t\t\"uniform float amount;\",\n\t\t\"uniform float angle;\",\n\t\t\"uniform float seed;\",\n\t\t\"uniform float seed_x;\",\n\t\t\"uniform float seed_y;\",\n\t\t\"uniform float distortion_x;\",\n\t\t\"uniform float distortion_y;\",\n\t\t\"uniform float col_s;\",\n\t\t\t\n\t\t\"varying vec2 vUv;\",\n\t\t\n\t\t\n\t\t\"float rand(vec2 co){\",\n\t\t\t\"return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\",\n\t\t\"}\",\n\t\t\t\t\n\t\t\"void main() {\",\n\t\t\t\"if(byp<1) {\",\n\t\t\t\t\"vec2 p = vUv;\",\n\t\t\t\t\"float xs = floor(gl_FragCoord.x / 0.5);\",\n\t\t\t\t\"float ys = floor(gl_FragCoord.y / 0.5);\",\n\t\t\t\t//based on staffantans glitch shader for unity https://github.com/staffantan/unityglitch\n\t\t\t\t\"vec4 normal = texture2D (tDisp, p*seed*seed);\",\n\t\t\t\t\"if(p.y<distortion_x+col_s && p.y>distortion_x-col_s*seed) {\",\n\t\t\t\t\t\"if(seed_x>0.){\",\n\t\t\t\t\t\t\"p.y = 1. - (p.y + distortion_y);\",\n\t\t\t\t\t\"}\",\n\t\t\t\t\t\"else {\",\n\t\t\t\t\t\t\"p.y = distortion_y;\",\n\t\t\t\t\t\"}\",\n\t\t\t\t\"}\",\n\t\t\t\t\"if(p.x<distortion_y+col_s && p.x>distortion_y-col_s*seed) {\",\n\t\t\t\t\t\"if(seed_y>0.){\",\n\t\t\t\t\t\t\"p.x=distortion_x;\",\n\t\t\t\t\t\"}\",\n\t\t\t\t\t\"else {\",\n\t\t\t\t\t\t\"p.x = 1. - (p.x + distortion_x);\",\n\t\t\t\t\t\"}\",\n\t\t\t\t\"}\",\n\t\t\t\t\"p.x+=normal.x*seed_x*(seed/5.);\",\n\t\t\t\t\"p.y+=normal.y*seed_y*(seed/5.);\",\n\t\t\t\t//base from RGB shift shader\n\t\t\t\t\"vec2 offset = amount * vec2( cos(angle), sin(angle));\",\n\t\t\t\t\"vec4 cr = texture2D(tDiffuse, p + offset);\",\n\t\t\t\t\"vec4 cga = texture2D(tDiffuse, p);\",\n\t\t\t\t\"vec4 cb = texture2D(tDiffuse, p - offset);\",\n\t\t\t\t\"gl_FragColor = vec4(cr.r, cga.g, cb.b, cga.a);\",\n\t\t\t\t//add noise\n\t\t\t\t\"vec4 snow = 200.*amount*vec4(rand(vec2(xs * seed,ys * seed*50.))*0.2);\",\n\t\t\t\t\"gl_FragColor = gl_FragColor+ snow;\",\n\t\t\t\"}\",\n\t\t\t\"else {\",\n\t\t\t\t\"gl_FragColor=texture2D (tDiffuse, vUv);\",\n\t\t\t\"}\",\n\t\t\"}\"\n\n\t].join( \"\\n\" )\n\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/shaders/digitalGlitch.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @author alteredq / http://alteredqualia.com/\n *\n * Full-screen textured quad shader\n */\n\nvar CopyShader = {\n  uniforms: {\n    'tDiffuse': { type: 't', value: null },\n    'opacity': { type: 'f', value: 1.0 }\n  },\n  vertexShader: ['varying vec2 vUv;', 'void main() {', 'vUv = uv;', 'gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );', '}'].join('\\n'),\n  fragmentShader: ['uniform float opacity;', 'uniform sampler2D tDiffuse;', 'varying vec2 vUv;', 'void main() {', 'vec4 texel = texture2D( tDiffuse, vUv );', 'gl_FragColor = opacity * texel;', '}'].join('\\n')\n};\n\nexports.CopyShader = CopyShader;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/three-effectcomposer-es6/dist/lib/copyshader.js\n// module id = 123\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RenderPass = undefined;\n\nvar _three = require('three');\n\nfunction RenderPass(scene, camera, overrideMaterial, clearColor, clearAlpha) {\n  if (!(this instanceof RenderPass)) return new RenderPass(scene, camera, overrideMaterial, clearColor, clearAlpha);\n\n  this.scene = scene;\n  this.camera = camera;\n\n  this.overrideMaterial = overrideMaterial;\n\n  this.clearColor = clearColor;\n  this.clearAlpha = clearAlpha !== undefined ? clearAlpha : 1;\n\n  this.oldClearColor = new _three.Color();\n  this.oldClearAlpha = 1;\n\n  this.enabled = true;\n  this.clear = true;\n  this.needsSwap = false;\n} /**\n   * @author alteredq / http://alteredqualia.com/\n   */\n\nRenderPass.prototype.render = function (renderer, writeBuffer, readBuffer, delta) {\n  this.scene.overrideMaterial = this.overrideMaterial;\n\n  if (this.clearColor) {\n    this.oldClearColor.copy(renderer.getClearColor());\n    this.oldClearAlpha = renderer.getClearAlpha();\n\n    renderer.setClearColor(this.clearColor, this.clearAlpha);\n  }\n\n  renderer.render(this.scene, this.camera, readBuffer, this.clear);\n\n  if (this.clearColor) {\n    renderer.setClearColor(this.oldClearColor, this.oldClearAlpha);\n  }\n\n  this.scene.overrideMaterial = null;\n};\n\nexports.RenderPass = RenderPass;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/three-effectcomposer-es6/dist/lib/renderpass.js\n// module id = 124\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ShaderPass = undefined;\n\nvar _index = require('../index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _three = require('three');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction ShaderPass(shader, textureID) {\n  if (!(this instanceof ShaderPass)) return new ShaderPass(shader, textureID);\n\n  this.textureID = textureID !== undefined ? textureID : 'tDiffuse';\n\n  this.uniforms = _three.UniformsUtils.clone(shader.uniforms);\n\n  this.material = new _three.ShaderMaterial({\n    uniforms: this.uniforms,\n    vertexShader: shader.vertexShader,\n    fragmentShader: shader.fragmentShader\n  });\n\n  this.renderToScreen = false;\n\n  this.enabled = true;\n  this.needsSwap = true;\n  this.clear = false;\n}\n\nShaderPass.prototype.render = function (renderer, writeBuffer, readBuffer, delta) {\n  if (this.uniforms[this.textureID]) {\n    this.uniforms[this.textureID].value = readBuffer.texture;\n  }\n\n  _index2.default.quad.material = this.material;\n\n  if (this.renderToScreen) {\n    renderer.render(_index2.default.scene, _index2.default.camera);\n  } else {\n    renderer.render(_index2.default.scene, _index2.default.camera, writeBuffer, this.clear);\n  }\n};\n\nexports.ShaderPass = ShaderPass;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/three-effectcomposer-es6/dist/lib/shaderpass.js\n// module id = 125\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction MaskPass(scene, camera) {\n  if (!(this instanceof MaskPass)) return new MaskPass(scene, camera);\n\n  this.scene = scene;\n  this.camera = camera;\n\n  this.enabled = true;\n  this.clear = true;\n  this.needsSwap = false;\n\n  this.inverse = false;\n}\n\nMaskPass.prototype.render = function (renderer, writeBuffer, readBuffer, delta) {\n  var context = renderer.context;\n\n  // don't update color or depth\n\n  context.colorMask(false, false, false, false);\n  context.depthMask(false);\n\n  // set up stencil\n\n  var writeValue, clearValue;\n\n  if (this.inverse) {\n    writeValue = 0;\n    clearValue = 1;\n  } else {\n    writeValue = 1;\n    clearValue = 0;\n  }\n\n  context.enable(context.STENCIL_TEST);\n  context.stencilOp(context.REPLACE, context.REPLACE, context.REPLACE);\n  context.stencilFunc(context.ALWAYS, writeValue, 0xffffffff);\n  context.clearStencil(clearValue);\n\n  // draw into the stencil buffer\n\n  renderer.render(this.scene, this.camera, readBuffer, this.clear);\n  renderer.render(this.scene, this.camera, writeBuffer, this.clear);\n\n  // re-enable update of color and depth\n\n  context.colorMask(true, true, true, true);\n  context.depthMask(true);\n\n  // only render where stencil is set to 1\n\n  context.stencilFunc(context.EQUAL, 1, 0xffffffff); // draw if == 1\n  context.stencilOp(context.KEEP, context.KEEP, context.KEEP);\n};\n\nexports.MaskPass = MaskPass;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/three-effectcomposer-es6/dist/lib/maskpass.js\n// module id = 126\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction ClearMaskPass(scene, camera) {\n  if (!(this instanceof ClearMaskPass)) return new ClearMaskPass(scene, camera);\n  this.enabled = true;\n}\n\nClearMaskPass.prototype.render = function (renderer, writeBuffer, readBuffer, delta) {\n  var context = renderer.context;\n  context.disable(context.STENCIL_TEST);\n};\n\nexports.ClearMaskPass = ClearMaskPass;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/three-effectcomposer-es6/dist/lib/clearmaskpass.js\n// module id = 127\n// module chunks = 0","import * as THREE from 'three';\r\nimport { TweenMax } from 'gsap';\r\n\r\nimport Crosspoint from './Crosspoint';\r\nimport { getTileSize, geo2tile, tile2geo } from './Calc';\r\nimport { DEFAULTS, CENTER, PALETTE } from './constants';\r\nimport { getTilesExtra } from './Common';\r\n\r\nexport default class Grid {\r\n  constructor(system, zoom = DEFAULTS.zoom) {\r\n    this.system = system;\r\n    this.zoom = zoom;\r\n    this.group = new THREE.Object3D();\r\n\r\n    this.tileSize = getTileSize(\r\n      CENTER.lat,\r\n      CENTER.lon,\r\n      this.zoom,\r\n      this.system.mercator\r\n    );\r\n\r\n    this.grid = [];\r\n    this.tiles = getTilesExtra();\r\n    \r\n    const tileNW = geo2tile(51.042667, 16.807339, this.zoom);\r\n    const tileStart = tile2geo(tileNW.x, tileNW.y, this.zoom)\r\n    this.positionStart = this.system.mercator.fromGeo(tileStart.lat, tileStart.lon);\r\n\r\n    this.system.scene.add(this.group);\r\n  }\r\n\r\n  makeGrid() {\r\n    this.tiles.forEach((tile, idx) => {\r\n      const coordsNW = tile2geo(tile.x, tile.y, tile.z);\r\n      const position = this.system.mercator.fromGeo(coordsNW.lat, coordsNW.lon);\r\n\r\n      let geometry = new THREE.SphereBufferGeometry(5, 4, 4);\r\n      let material = new THREE.MeshBasicMaterial({\r\n        color: PALETTE.gridDots,\r\n        transparent: true,\r\n        // opacity,\r\n        depthTest: false,\r\n        // precision: 'lowp'\r\n      });\r\n\r\n      let mesh = new THREE.Mesh(geometry, material);\r\n      mesh.position.x = idx % 2 ? this.positionStart.x : position.x;\r\n      mesh.position.z = idx % 2 ? position.y : this.positionStart.y;\r\n      mesh.position.y = 0;\r\n\r\n      TweenMax.to(mesh.position, 0.8, {\r\n        x: position.x,\r\n        z: position.y,\r\n        delay: idx * 0.01,\r\n        ease: TweenMax.SlowMo.ease.config(0.1, 0.4, false),\r\n        // ease: TweenMax.Expo.easeOut,\r\n        onComplete: () => {\r\n          // idx % 20 === 0 && this.system.makeGlitch(0.03); \r\n          tile.crosspoint = new Crosspoint(this.group, mesh.position);\r\n        }\r\n      });\r\n\r\n      this.group.add(mesh);\r\n    });\r\n  }\r\n\r\n  init() {\r\n    this.makeGrid();    \r\n  }\r\n\r\n  update() {}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/world/Grid.js","import * as THREE from 'three';\r\n\r\nimport { TweenMax } from 'gsap';\r\n\r\nconst MAX_SCALE = 25;\r\n\r\nexport default class Crosspoint {\r\n  constructor(group, p, size = 50, color = '#007777') {\r\n    this.size = size;\r\n    this.color = new THREE.Color(color);\r\n    this.parentGroup = group;\r\n    this.group = new THREE.Object3D();\r\n\r\n    this.createCrossPoint(p);\r\n  }\r\n\r\n  createCrossPoint(p) {\r\n    const material = new THREE.LineBasicMaterial({\r\n      color: this.color /*, transparent: true, opacity: 0.5*/,\r\n    });\r\n\r\n    this.group.position.set(p.x, p.y, p.z);\r\n\r\n    const geometryH = new THREE.Geometry();\r\n    geometryH.vertices.push(new THREE.Vector3(-this.size, 0, 0));\r\n    geometryH.vertices.push(new THREE.Vector3(this.size, 0, 0));\r\n\r\n    const geometryV = new THREE.Geometry();\r\n    geometryV.vertices.push(new THREE.Vector3(0, 0, -this.size));\r\n    geometryV.vertices.push(new THREE.Vector3(0, 0, this.size));\r\n\r\n    const lineH = new THREE.Line(geometryH, material);\r\n    const lineV = new THREE.Line(geometryV, material);\r\n    this.group.scale.set(0.01, 0.01, 0.01);\r\n    \r\n    TweenMax.fromTo(this.group.scale, 2.75, {\r\n      x: MAX_SCALE,\r\n      z: MAX_SCALE\r\n    },\r\n      {\r\n      x: 1,\r\n      z: 1,\r\n      ease: TweenMax.Elastic.easeOut.config(1, 0.1),\r\n      // ease: TweenMax.Back.easeOut.config(5),\r\n      onStart: () => {\r\n        // this.group.scale.set(MAX_SCALE,MAX_SCALE, MAX_SCALE);\r\n      },\r\n      // delay: 2,// + Math.random(),\r\n      // repeat: 1\r\n    })\r\n\r\n\r\n    this.group.add(lineH);\r\n    this.group.add(lineV);\r\n\r\n    this.parentGroup.add(this.group);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/world/Crosspoint.js","\n    var R = 6378137,\n        sphericalScale = 0.5 / (Math.PI * R);\n\n    module.exports = function(bounds, minZoom, maxZoom) {\n\n      var min,\n          max,\n          tiles = [];\n\n      if (!maxZoom) {\n        max = min = minZoom;\n      } else if (maxZoom < minZoom) {\n        min = maxZoom;\n        max = minZoom;\n      } else {\n        min = minZoom;\n        max = maxZoom;\n      }\n\n      for (var z = min; z <= max; z++) {\n        tiles = tiles.concat(xyz(bounds,z));\n      }\n\n      return tiles;\n\n    };\n\n    /* Adapted from: https://gist.github.com/mourner/8825883 */\n    function xyz(bounds, zoom) {\n\n\n          //north,west\n      var min = project(bounds[1][1],bounds[0][0], zoom),\n          //south,east\n          max = project(bounds[0][1],bounds[1][0], zoom),\n          tiles = [];\n\n      for (var x = min.x; x <= max.x; x++) {\n        for (var y = min.y; y <= max.y; y++) {\n            tiles.push({\n              x: x,\n              y: y,\n              z: zoom\n            });\n        }\n      }\n\n      return tiles;\n\n    }\n\n    /* \n       Adapts a group of functions from Leaflet.js to work headlessly\n       https://github.com/Leaflet/Leaflet\n       \n       Combines/modifies the following methods:\n       L.Transformation._transform (src/geometry/Transformation.js)\n       L.CRS.scale (src/geo/crs/CRS.js)\n       L.CRS.latLngToPoint (src/geo/crs/CRS.js)\n       L.Projection.SphericalMercator.project (src/geo/projection/Projection.SphericalMercator.js)\n    */\n    function project(lat,lng,zoom) {\n      var d = Math.PI / 180,\n          max = 1 - 1E-15,\n          sin = Math.max(Math.min(Math.sin(lat * d), max), -max),\n          scale = 256 * Math.pow(2, zoom);\n\n      var point = {\n        x: R * lng * d,\n        y: R * Math.log((1 + sin) / (1 - sin)) / 2\n      };\n\n      point.x = tiled(scale * (sphericalScale * point.x + 0.5));\n      point.y = tiled(scale * (-sphericalScale * point.y + 0.5));\n\n      return point;\n    }\n\n    function tiled(num) {\n      return Math.floor(num/256);\n    }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/xyz-affair/index.js\n// module id = 130\n// module chunks = 0","import * as THREE from 'three';\r\nimport { TweenMax } from 'gsap';\r\n\r\nimport { CITY_BUILDINGS_PRIO0, CITY_BUILDINGS_PRIO1 } from './constants';\r\nimport { wireframeMat, lineMat, boundaryMat, waterMat } from './materials';\r\n\r\nexport default class City {\r\n  constructor(system) {\r\n    this.system = system;\r\n\r\n    this.buildings = [];\r\n    this.models = {};\r\n\r\n    this.group = new THREE.Object3D();\r\n    this.system.scene.add(this.group);\r\n\r\n    this.load();\r\n  }\r\n\r\n  load() {\r\n    CITY_BUILDINGS_PRIO0.forEach(model => this.loadBuilding(model));\r\n    CITY_BUILDINGS_PRIO1.forEach(model => this.loadBuilding(model, true));\r\n\r\n    this.system.loaderJSON.load('models/wroclaw-boundary.json', object => {\r\n      const model = new THREE.LineSegments(\r\n        new THREE.EdgesGeometry(object),\r\n        boundaryMat\r\n      );\r\n      this.models.boundary = model;\r\n    });\r\n\r\n    this.system.loaderJSON.load('models/water_lowp.json', object => {\r\n      const model = new THREE.Mesh(object, waterMat);\r\n      this.models.water = model;\r\n    });\r\n  }\r\n\r\n  loadBuilding(model, isLazy = false) {\r\n    this.system.loaderJSON.load(`models/buildings/${model}`, object => {\r\n      const edges = new THREE.LineSegments(\r\n        new THREE.EdgesGeometry(object),\r\n        lineMat\r\n      );\r\n\r\n      const mesh = new THREE.Mesh(object, wireframeMat);\r\n\r\n      this.buildings.push({\r\n        isBuilt: false,\r\n        isLazy,\r\n        edges,\r\n        mesh,\r\n      });\r\n    });\r\n  }\r\n\r\n  buildModels(forceBuild) {\r\n    TweenMax.staggerFromTo(\r\n      this.buildings.filter(\r\n        building =>\r\n          !building.isBuilt &&\r\n          !building.isBuilding &&\r\n          (!building.isLazy || forceBuild)\r\n      ),\r\n      0.5 + Math.random() * 2.5,\r\n      {\r\n        __p: 0,\r\n      },\r\n      {\r\n        __p: 1,\r\n        delay: 0,\r\n        ease: TweenMax.Bounce.easeOut,\r\n        onStartParams: ['{self}'],\r\n        onStart: tween => {\r\n          tween.target.isBuilding = true;\r\n          tween.target.edges.scale.set(1, 0.01, 1);\r\n          this.group.add(tween.target.edges);\r\n        },\r\n        onUpdateParams: ['{self}'],\r\n        onUpdate: tween => {\r\n          tween.target.edges.scale.set(1, tween.target.__p, 1);\r\n        },\r\n        onCompleteParams: ['{self}'],\r\n        onComplete: tween => {\r\n          tween.target.isBuilt = true;\r\n        },\r\n      },\r\n      0.25\r\n    );\r\n  }\r\n\r\n  addModels() {\r\n    Object.keys(this.models).forEach(ob => {\r\n      this.group.add(this.models[ob]);\r\n    });\r\n  }\r\n\r\n  init() {\r\n    this.addModels();\r\n    this.buildModels();\r\n  }\r\n\r\n  initLate() {\r\n    this.buildModels(true);\r\n  }\r\n\r\n  update() {}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/world/City.js","import * as THREE from 'three';\r\n\r\nexport const wireframeMat = new THREE.MeshBasicMaterial({\r\n  color: 0x3498db, // 0x8e44ad,\r\n  side: THREE.DoubleSide,\r\n  transparent: true,\r\n  // opacity: 0.2,\r\n  wireframe: true,\r\n  blending: THREE.AdditiveBlending,\r\n  precision: 'lowp'\r\n});\r\n\r\nexport const faceMat = new THREE.MeshBasicMaterial({\r\n  color: 0x111111,\r\n  side: THREE.DoubleSide,\r\n  // precision: 'lowp'\r\n  // transparent: true,\r\n  // opacity: 0.6,\r\n  // blending: THREE.AdditiveBlending,\r\n});\r\n\r\nexport const lineMat = new THREE.LineBasicMaterial({\r\n  color: 0x3498db,\r\n  transparent: true,\r\n  blending: THREE.AdditiveBlending,\r\n  // depthWrite: false,\r\n  // depthTest: false,\r\n  // precision: 'lowp'\r\n});\r\n\r\nexport const boundaryMat = new THREE.LineBasicMaterial({\r\n  color: 0xff0090,\r\n  // precision: 'lowp'\r\n});\r\n\r\nexport const waterMat = new THREE.MeshBasicMaterial({\r\n  color: 0x3498db,\r\n  side: THREE.DoubleSide,\r\n  // precision: 'lowp'\r\n  // transparent: true,\r\n  // opacity: 0.6,\r\n  // blending: THREE.AdditiveBlending,\r\n});\n\n\n// WEBPACK FOOTER //\n// ./src/components/world/materials.js","import * as THREE from 'three';\r\n\r\nimport { TweenMax } from 'gsap';\r\nimport { generateSprite } from './Calc';\r\n\r\nimport { TRANSIT_TYPES } from './constants';\r\n\r\nexport default class Transit {\r\n  constructor(system) {\r\n    this.system = system;\r\n\r\n    this.currentType = null;\r\n    this.group = new THREE.Object3D();\r\n    this.system.scene.add(this.group);\r\n\r\n    this.vertices = [];\r\n\r\n    this.load();\r\n\r\n  }\r\n\r\n  load() {\r\n    this.system.loaderFile.load('data/mpk.json', data => {\r\n      this.prepareData(JSON.parse(data));\r\n    });\r\n\r\n    // this.system.loaderJSON.load(`/models/meatball.json`, object => {\r\n    //   const material = new THREE.MeshBasicMaterial({\r\n    //     color: 0x3498db, // 0x8e44ad,\r\n    //     side: THREE.DoubleSide,\r\n    //     transparent: true,\r\n    //     opacity: 0.1,\r\n    //     wireframe: true,\r\n    //     blending: THREE.AdditiveBlending,\r\n    //     // precision: 'lowp'\r\n    //   });\r\n\r\n    //   this.blob = new THREE.Mesh(object, material);\r\n    //   this.blob.scale.set(1000, 1000, 1000)\r\n\r\n    //   this.system.scene.add(this.blob);\r\n\r\n    //   // this.light = new THREE.PointLight( 0xffffbb );\r\n    //   // this.light.position.set(0, 5000, 0);\r\n\r\n    //   // this.helper = new THREE.PointLightHelper(this.light, 50 );\r\n\r\n    //   // this.system.scene.add(this.light);\r\n    //   // this.system.scene.add(this.helper);\r\n\r\n\r\n    // });\r\n  }\r\n\r\n  prepareData(data) {\r\n    this.data = data.lines.map(line =>\r\n      Object.assign({}, line, {\r\n        model: null,\r\n        isActive: false,\r\n        code: TRANSIT_TYPES[line.type].code,\r\n        color: TRANSIT_TYPES[line.type].color,\r\n        points: this.getPoints(line.name, data.busStops),\r\n      })\r\n    );\r\n  }\r\n\r\n  getPoints(lineId, data) {\r\n    const d = data.find(d => d.name === lineId) || {};\r\n    return (d.coords || []).map(p =>\r\n      this.system.mercator.fromGeo(parseFloat(p.lat), parseFloat(p.lon))\r\n    );\r\n  }\r\n\r\n  createModels() {\r\n    this.data.filter(d => d.points.length > 0).forEach(d => {\r\n      d.model = this.getLineModel(d.points, d.color);\r\n      // d.model.material.opacity = 0.2;\r\n      this.group.add(d.model);\r\n    });\r\n  }\r\n\r\n  getLineModel(points, color, quality = 1000) {\r\n    const texture = generateSprite(32, color, THREE);\r\n    const material = new THREE.PointsMaterial({\r\n      size: 3,\r\n      transparent: true,\r\n      sizeAttenuation: false,\r\n      map: texture,\r\n      blending: THREE.AdditiveBlending,\r\n      depthWrite: false,\r\n      opacity: 0.3,\r\n    });\r\n\r\n    const materialLine = new THREE.LineBasicMaterial({\r\n      color: new THREE.Color(color),\r\n      transparent: true,\r\n      opacity: 0.2,\r\n      blending: THREE.AdditiveBlending,\r\n    });\r\n\r\n    const vertices = points.map(p => new THREE.Vector3(p.x, 0, p.y));\r\n    this.vertices = this.vertices.concat(vertices);\r\n\r\n    const curve = new THREE.CatmullRomCurve3(vertices);\r\n    const geometry = new THREE.Geometry().setFromPoints(\r\n      curve.getPoints(quality)\r\n    );\r\n\r\n    return new THREE.Line( geometry, materialLine)\r\n    // return new THREE.Points(geometry, material);\r\n  }\r\n\r\n  activate(type = TRANSIT_TYPES.ITS) {\r\n    if (\r\n      this.currentType !== type.code &&\r\n      type.code !== TRANSIT_TYPES.ITS.code\r\n    ) {\r\n      this.data.filter(d => d.points.length > 0).forEach(d => {\r\n        TweenMax.to(d.model.material, 1.2, {\r\n          opacity: d.code === type.code ? 0.7 : 0\r\n        });\r\n      });\r\n    } else if (\r\n      type.code === TRANSIT_TYPES.ITS.code\r\n    ) {\r\n      this.data.filter(d => d.points.length > 0).forEach(d => {\r\n        TweenMax.to(d.model.material, 1.2, {\r\n          opacity: 0.3\r\n        });\r\n      });\r\n    }\r\n\r\n    this.currentType = type.code;\r\n  }\r\n\r\n  update() {\r\n\r\n    if (this.blob) {\r\n      this.blob.rotation.x += (0.00123 + Math.cos(this.system.clock.getElapsedTime()) * 0.023411) / 10;\r\n      this.blob.rotation.z += (0.00154 + Math.sin(this.system.clock.getElapsedTime()) * 0.01) / 10;\r\n\r\n    }\r\n\r\n\r\n  }\r\n\r\n  init() {\r\n    this.createModels();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/world/Transit.js","import * as THREE from 'three';\r\nimport { TweenMax, TimelineLite } from 'gsap';\r\nimport {\r\n  DEFAULTS,\r\n  CENTER,\r\n  CENTER_WROLCAW,\r\n  PI,\r\n  PI_HALF,\r\n  TILESERVER_URL,\r\n  LS_PREFIX\r\n} from './constants';\r\n\r\nimport { geo2tile, tile2geo, getTileSize, isEqualTile } from './Calc';\r\nimport { getTiles } from './Common';\r\nexport default class Tilemap {\r\n  constructor(system, zoom = DEFAULTS.zoom) {\r\n    this.system = system;\r\n\r\n    this.isReady = false;\r\n    this.activeTile = null;\r\n\r\n    this.zoom = zoom;\r\n    this.tileSize = getTileSize(\r\n      CENTER.lat,\r\n      CENTER.lon,\r\n      this.zoom,\r\n      this.system.mercator\r\n    );\r\n\r\n    this.group = new THREE.Object3D();\r\n    this.system.scene.add(this.group);\r\n\r\n    this.loadingManager = new THREE.LoadingManager();\r\n    this.loadingManager.onLoad = this.onComplete.bind(this);\r\n\r\n    this.loader = new THREE.TextureLoader(this.loadingManager);\r\n    this.loader.crossOrigin = 'Anonymous';\r\n\r\n    this.centerXY = geo2tile(CENTER_WROLCAW.lat, CENTER_WROLCAW.lon, this.zoom);\r\n\r\n    this.tiles = [];\r\n    this.createTiles();\r\n\r\n    this.onComplete = this.onComplete.bind(this);\r\n\r\n    if (this.system.options.editable) {\r\n      this.createDummyIntersection();      \r\n    }\r\n  }\r\n\r\n  createDummyIntersection() {\r\n    const loader = new THREE.TextureLoader();\r\n    const texture = loader.load('gfx/stripe_white_diagonal.png');\r\n    texture.wrapS = THREE.RepeatWrapping;\r\n    texture.wrapT = THREE.RepeatWrapping;\r\n    texture.repeat.set(6, 6);\r\n\r\n    const geometry = new THREE.PlaneGeometry(this.tileSize, this.tileSize, 4);\r\n    const material = new THREE.MeshBasicMaterial({transparent: true, opacity: 0, map: texture});\r\n    this.dummyTile = new THREE.Mesh(geometry, material);\r\n    this.dummyTile._isDummy = true;\r\n    this.dummyTile.rotation.x = -PI_HALF;\r\n    this.dummyTile.position.y = 25;\r\n    \r\n    this.group.add(this.dummyTile);\r\n    \r\n    const geometryPlane = new THREE.PlaneGeometry(this.tileSize * 30, this.tileSize * 30, 4);\r\n    const materialPlane = new THREE.MeshBasicMaterial({color: 0x34495e, transparent: true, opacity: 0});\r\n    this.dummyPlane = new THREE.Mesh(geometryPlane, materialPlane);\r\n    this.dummyPlane.position.y = 50;\r\n    this.dummyPlane.rotation.x = -PI_HALF;\r\n    this.dummyPlane._isDummy = true;\r\n\r\n    this.group.add(this.dummyPlane);\r\n  }\r\n\r\n  createTile(x,y,z) {\r\n    const coordsNW = tile2geo(x, y, z);\r\n    const coordsSE = tile2geo(x + 1, y + 1, z);\r\n    const coords = {\r\n      lat: (coordsNW.lat + coordsSE.lat) / 2,\r\n      lon: (coordsNW.lon + coordsSE.lon) / 2,\r\n    };\r\n\r\n    const distance = Math.hypot(\r\n      Math.abs(coords.lat - CENTER_WROLCAW.lat),\r\n      Math.abs(coords.lon - CENTER_WROLCAW.lon)\r\n    );\r\n\r\n    const position = this.system.mercator.fromGeo(\r\n      coordsNW.lat,\r\n      coordsNW.lon\r\n    );\r\n\r\n    return {\r\n      x,\r\n      y,\r\n      z,\r\n      position,\r\n      distance,\r\n    };\r\n  }\r\n\r\n  addTile(x, y, z) {\r\n    const newTile = this.createTile(x, y, z);\r\n    this.tiles.push(newTile);\r\n    this.createTileMesh(newTile);\r\n  }\r\n\r\n  removeTile(tileId) {\r\n    const tileIdx = this.tiles.findIndex(t => t.mesh.id === tileId);\r\n    this.tiles.splice(tileIdx, 1);\r\n\r\n    const tileObject = this.group.getObjectById(tileId);\r\n    tileObject._isAnimating = true;\r\n    \r\n    TweenMax.to(tileObject.rotation, 1.5,  {\r\n      x: PI,\r\n      // z: PI_HALF,\r\n      ease: TweenMax.Elastic.easeInOut.config(1.2, 0.2),\r\n      onComplete: () => {\r\n        this.group.remove(tileObject);\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  createTiles() {\r\n    this.tiles = getTiles()\r\n      .map(tile => this.createTile(tile.x, tile.y, tile.z))\r\n      .sort((a, b) => {\r\n        return a.distance - b.distance;\r\n      })\r\n      .map((tile, id) => {\r\n        // set id after sorting to get lowest number from center\r\n        return Object.assign(tile, { id });\r\n      });\r\n\r\n    this.tiles.forEach(tile => this.createTileMesh(tile));\r\n  }\r\n\r\n  createTileMesh(tile) {\r\n    let z = tile.z;\r\n    let x = tile.x;\r\n    let y = tile.y;\r\n\r\n    const canvas = document.createElement('canvas');\r\n    canvas.width = 256;\r\n    canvas.height = 256;\r\n    const ctx = canvas.getContext('2d');\r\n    ctx.fillStyle = 'white';\r\n\r\n    this.loader.load(TILESERVER_URL.local(x, y, z), texture => {\r\n      const img = texture.image;\r\n      ctx.drawImage(img, 0, 0);\r\n\r\n      // ctx.font = 'bold 25pt Courier';\r\n      // ctx.fillText(`z: ${z}`, 10, 50);\r\n      // ctx.fillText(`x: ${x} `, 10, 100);\r\n      // ctx.fillText(`y: ${y}`, 10, 150);\r\n      // ctx.lineWidth = cornerWidth;\r\n      // ctx.strokeStyle = '#fff';\r\n\r\n      // ctx.strokeStyle=\"#FF0090\";\r\n      // ctx.setLineDash([cornerSize, 256 - 2 * cornerSize]);\r\n\r\n      // ctx.beginPath();\r\n      // ctx.moveTo(0, 0);\r\n      // ctx.lineTo(canvas.width, 0);\r\n      // ctx.stroke();\r\n      // ctx.beginPath();\r\n      // ctx.moveTo(canvas.width, 0);\r\n      // ctx.lineTo(canvas.width, canvas.height);\r\n      // ctx.stroke();\r\n\r\n      // ctx.beginPath();\r\n      // ctx.moveTo(canvas.width, canvas.height);\r\n      // ctx.lineTo(0, canvas.height);\r\n      // ctx.stroke();\r\n\r\n      // ctx.beginPath();\r\n      // ctx.moveTo(0, canvas.height);\r\n      // ctx.lineTo(0, 0);\r\n      // ctx.stroke();\r\n\r\n      const textureFinal = new THREE.Texture(canvas);\r\n      textureFinal.needsUpdate = true;\r\n\r\n      const geometry = new THREE.PlaneGeometry(this.tileSize, this.tileSize, 4);\r\n      const material = new THREE.MeshBasicMaterial({\r\n        map: textureFinal,\r\n        transparent: true,\r\n        opacity: 1,\r\n        depthTest: false,\r\n        blending: THREE.AdditiveBlending,\r\n        // side: THREE.DoubleSide\r\n      });\r\n\r\n      tile.mesh = new THREE.Mesh(geometry, material);\r\n\r\n      tile.mesh.position.x = tile.position.x + this.tileSize / 2;\r\n      tile.mesh.position.z = tile.position.y + this.tileSize / 2;\r\n      tile.mesh.position.y = -10;\r\n      tile.mesh.rotation.x = -PI_HALF;\r\n      tile.mesh.scale.set(0.01, 0.01, 0.01);\r\n\r\n      tile.mesh._x = tile.x;\r\n      tile.mesh._y = tile.y;\r\n      tile.mesh._z = tile.z;\r\n\r\n      this.buildTile(tile);\r\n\r\n      this.group.add(tile.mesh);\r\n    });\r\n  }\r\n\r\n  buildTile(tile) {\r\n    TweenMax.fromTo(\r\n      tile,\r\n      2.5,\r\n      {\r\n        _scale: 0.01,\r\n        _opacity: 0,\r\n      },\r\n      {\r\n        _scale: 1,\r\n        _opacity: DEFAULTS.tilesOpacity,\r\n        delay: tile.id * 0.01,\r\n        ease: TweenMax.Elastic.easeInOut.config(1.2, 0.2),\r\n        onUpdate: () => {\r\n          tile.mesh.scale.set(tile._scale, tile._scale, tile._scale);\r\n          tile.mesh.material.opacity = tile._opacity;\r\n        },\r\n      }\r\n    );\r\n  }\r\n\r\n  buildTiles() {\r\n    TweenMax.staggerFromTo(\r\n      this.tiles,\r\n      2.5,\r\n      {\r\n        _scale: 0.01,\r\n        _opacity: 0,\r\n      },\r\n      {\r\n        _scale: 1,\r\n        _opacity: 0.33,\r\n        ease: TweenMax.Elastic.easeInOut.config(1.2, 0.2),\r\n        onUpdateParams: ['{self}'],\r\n        onUpdate: t => {\r\n          // console.log(t.target)\r\n          t.target.mesh.scale.set(\r\n            t.target._scale,\r\n            t.target._scale,\r\n            t.target._scale\r\n          );\r\n          t.target.mesh.material.opacity = t.target._opacity;\r\n          //   t.target.mesh.rotation.z = t.target._rotY;\r\n          //   t.target.mesh.position.y = t.target._posY;\r\n        },\r\n      },\r\n      0.01,\r\n      this.onComplete\r\n    );\r\n  }\r\n\r\n  onComplete() {\r\n    // this.system.makeGlitch();\r\n    this.isReady = true;\r\n  }\r\n\r\n  checkDummyIntersection() {\r\n    const intersects = this.system.raycaster.intersectObject(\r\n      this.dummyPlane\r\n    );\r\n\r\n    if (intersects.length > 0 && this.activeTile === null) {\r\n      const {x, z} = intersects[0].point;\r\n      const coords = this.system.mercator.fromXY(x, -z);\r\n      const tile = geo2tile(coords.lat, coords.lon, this.zoom);\r\n      if (!this.activeDummy || !isEqualTile(this.activeDummy, tile)) {\r\n\r\n        const coordsNW = tile2geo(tile.x, tile.y, this.zoom); \r\n  \r\n        const position = this.system.mercator.fromGeo(\r\n          coordsNW.lat,\r\n          coordsNW.lon\r\n        );\r\n\r\n        this.dummyTile.material.opacity = 0.5;\r\n        this.dummyTile.position.x = position.x + this.tileSize / 2;\r\n        this.dummyTile.position.z = position.y + this.tileSize / 2;\r\n\r\n        this.activeDummy = tile;\r\n      }      \r\n    } else {\r\n      this.dummyTile.material.opacity = 0;\r\n      this.activeDummy = null;\r\n    }\r\n\r\n  }\r\n\r\n  saveTiles() { // saves tiles to LS\r\n    console.log('-- SAVING tiles');\r\n    const tiles = this.tiles.map(tile => ({\r\n      x: tile.x,\r\n      y: tile.y,\r\n      z: tile.z\r\n    }));\r\n\r\n    localStorage.setItem(`${LS_PREFIX}tiles`, JSON.stringify(tiles));\r\n  }\r\n\r\n  update() {\r\n    if (this.isReady && this.system.mouse && this.system.options.editable) {\r\n      const intersects = this.system.raycaster.intersectObjects(\r\n        this.group.children.filter(c => !c._isDummy)\r\n      );\r\n      if (intersects.length > 0) {\r\n        if ((!this.activeTile || this.activeTile !== intersects[0].object.id)) {\r\n          this.activeTile = intersects[0].object.id;\r\n          const tl = new TimelineLite();\r\n\r\n          if (!intersects[0].object._isAnimating) {\r\n            tl.to(intersects[0].object.scale, 0.15, {\r\n              x: 0.75,\r\n              y: 0.75,\r\n              onStart: () => {\r\n                intersects[0].object._isAnimating = true;\r\n              }\r\n            });\r\n            tl.to(intersects[0].object.scale, 0.15, {\r\n              x: 1,\r\n              y: 1,\r\n              ease: TweenMax.Elastic.easeOut.config(1.2, 0.2),\r\n              onComplete: () => {\r\n                intersects[0].object._wasActive = true;\r\n                intersects[0].object._isAnimating = false;\r\n              },\r\n            })\r\n\r\n            intersects[0].object.material.opacity = 1;\r\n\r\n          }\r\n        }\r\n      } else {\r\n        this.activeTile = null;\r\n      }\r\n\r\n\r\n\r\n      this.group.children\r\n      .filter(child => {\r\n        return child._wasActive && !child._isAnimating && child.id !== this.activeTile && !child._isDummy;\r\n      })\r\n      .forEach(child => {\r\n        child.material.opacity = DEFAULTS.tilesOpacity;\r\n        child._wasActive = false;\r\n        child._isAnimating = false;        \r\n      });\r\n\r\n      this.checkDummyIntersection();\r\n    }\r\n  }\r\n\r\n  onDocumentMouseDown(e) {\r\n    if (!this.activeTile && this.activeDummy) {\r\n      this.addTile(this.activeDummy.x, this.activeDummy.y, this.zoom);\r\n      this.activeTile = null;\r\n    } else if (this.activeTile && !this.activeDummy) {\r\n      this.removeTile(this.activeTile);\r\n    }\r\n  }\r\n\r\n  \r\n  init() {\r\n    if (this.system.options.editable) {\r\n      document.addEventListener('mousedown',  this.onDocumentMouseDown.bind(this), false );      \r\n    }\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/world/Tilemap.js","import * as THREE from 'three';\r\nimport axios from 'axios';\r\n// import { TweenMax, TimelineLite } from 'gsap';\r\n\r\nimport { CENTER_PGS, PI, PI_HALF, ITS_INTERVAL } from './constants';\r\nimport { getTileSize } from './Calc';\r\nimport { TweenMax } from 'gsap';\r\n\r\nexport default class ITS {\r\n  constructor(system) {\r\n    this.system = system;\r\n\r\n    this.group = new THREE.Object3D();\r\n    this.ring = new THREE.Object3D();\r\n    this.marker = new THREE.Object3D();\r\n    this.points = new THREE.Object3D();\r\n\r\n    this.positions = [];\r\n\r\n    this.group.add(this.points);\r\n    this.group.add(this.marker);\r\n    this.system.scene.add(this.group);\r\n\r\n    this.loadingManager = new THREE.LoadingManager();\r\n    this.loadingManager.onLoad = this.onComplete.bind(this);\r\n\r\n    this.loader = new THREE.FileLoader(this.loadingManager);\r\n    this.loader.crossOrigin = 'Anonymous';\r\n\r\n    this.setupSpheres();\r\n    this.setupRadar();\r\n\r\n    this.setLocation(CENTER_PGS);\r\n\r\n    this.loadData();\r\n    this.interval = setInterval(this.loadData.bind(this), ITS_INTERVAL);\r\n  }\r\n\r\n  setupSpheres() {\r\n    const radius = 1000;\r\n    const colors = [0xe74c3c, 0xe67e22, 0x9b59b6, 0xffffff];\r\n    // const colors = [0x9b59b6, 0x3498db];\r\n\r\n    const parts = [1, 1, 0.7, 0.7];\r\n    const segments = 3;\r\n    const phase = PI;\r\n\r\n    parts.forEach((rFx, idx) => {\r\n      const theta = phase * idx;\r\n      const ringGeometry = new THREE.RingGeometry(\r\n        radius * 0.99 * rFx,\r\n        radius * rFx,\r\n        12,\r\n        1,\r\n        0,\r\n        PI / 2\r\n      );\r\n      const material = new THREE.MeshBasicMaterial({\r\n        color: 0xf1c40f,\r\n        // wireframe: true,\r\n        transparent: true,\r\n        // opacity: 0.5,\r\n        // blending: THREE.AdditiveBlending,\r\n      });\r\n\r\n      const ringPartial = new THREE.Mesh(ringGeometry, material);\r\n      ringPartial.position.y = 100;\r\n      ringPartial.rotation.z = theta;\r\n      ringPartial.rotation.x = -PI_HALF;\r\n\r\n      this.ring.add(ringPartial);\r\n    });\r\n\r\n    this.marker.add(this.ring);\r\n  }\r\n\r\n  setupRadar() {\r\n    const radius = 150;\r\n    const ringGeometry = new THREE.RingGeometry(radius * 0.95, radius, 32, 1);\r\n    const material = new THREE.MeshBasicMaterial({\r\n      color: 0x1abc9c,\r\n      wireframe: true,\r\n      transparent: true,\r\n      opacity: 0.2,\r\n      blending: THREE.AdditiveBlending,\r\n    });\r\n\r\n    const radar = new THREE.Mesh(ringGeometry, material);\r\n    radar.rotation.x = -PI_HALF;\r\n\r\n    this.marker.add(radar);\r\n    \r\n    const o = {\r\n      scale: 0,\r\n      opacity: 1,\r\n    };\r\n\r\n    TweenMax.fromTo(\r\n      o,\r\n      2.5,\r\n      {\r\n        scale: 0,\r\n        opacity: 1,\r\n      },\r\n      {\r\n        scale: 10,\r\n        opacity: 0,\r\n        ease: TweenMax.Power4.easeIn,\r\n        repeat: -1,\r\n        onUpdate: () => {\r\n          radar.material.opacity = o.opacity;\r\n          radar.scale.set(o.scale, o.scale, 1);\r\n        },\r\n      }\r\n    );    \r\n\r\n    // const spriteMap = new THREE.TextureLoader().load('/gfx/flare.png');\r\n    // const spriteMaterial = new THREE.SpriteMaterial({\r\n    //   map: spriteMap,\r\n    //   color: 0xffffff,\r\n    //   // transparent: true,\r\n    //   // blending: THREE.AdditiveBlending\r\n    // });\r\n    // const sprite = new THREE.Sprite(spriteMaterial);\r\n    // sprite.scale.set(500, 500, 500);\r\n    // sprite.position.y = 25;\r\n    // this.marker.add(sprite);\r\n  }\r\n\r\n  setLocation(p) {\r\n    const coords = this.system.mercator.fromGeo(p.lat, p.lon);\r\n    this.location = p;\r\n\r\n    this.marker.children.forEach(child => {\r\n      child.position.x = coords.x;\r\n      child.position.z = coords.y;\r\n    });\r\n  }\r\n\r\n  loadData() {\r\n    console.log('loading data @', new Date().toISOString());\r\n    const data = new FormData();\r\n\r\n    [\r\n      'a',\r\n      'c',\r\n      'd',\r\n      'k',\r\n      'n',\r\n      '100',\r\n      '101',\r\n      '103',\r\n      '104',\r\n      '105',\r\n      '107',\r\n      '109',\r\n      '110',\r\n      '113',\r\n      '114',\r\n      '115',\r\n      '116',\r\n      '118',\r\n      '119',\r\n      '120',\r\n      '122',\r\n      '125',\r\n      '126',\r\n      '127',\r\n      '128',\r\n      '129',\r\n      '130',\r\n      '131',\r\n      '132',\r\n      '133',\r\n      '134',\r\n      '136',\r\n      '140',\r\n      '141',\r\n      '142',\r\n      '144',\r\n      '145',\r\n      '146',\r\n      '147',\r\n      '149',\r\n      '240',\r\n      '241',\r\n      '243',\r\n      '245',\r\n      '246',\r\n      '247',\r\n      '249',\r\n      '250',\r\n      '251',\r\n      '253',\r\n      '255',\r\n      '257',\r\n      '259',\r\n      '102',\r\n      '106',\r\n      '108',\r\n      '112',\r\n      '148',\r\n      '150',\r\n      '206',\r\n      '248',\r\n      '319',\r\n      '325',\r\n      '331',\r\n      '602',\r\n      '607',\r\n      '609',\r\n      '612',\r\n    ].forEach(bus => data.append('busList[bus][]', bus));\r\n\r\n    [\r\n      '0P',\r\n      '0L',\r\n      '1',\r\n      '2',\r\n      '3',\r\n      '4',\r\n      '5',\r\n      '6',\r\n      '7',\r\n      '8',\r\n      '9',\r\n      '10',\r\n      '11',\r\n      '14',\r\n      '15',\r\n      '17',\r\n      '20',\r\n      '23',\r\n      '24',\r\n      '31',\r\n      '32',\r\n      '33',\r\n    ].forEach(tram => data.append('busList[tram][]', tram));\r\n    axios\r\n      .post(\r\n        'https://cors-anywhere.herokuapp.com/http://mpk.wroc.pl/position.php',\r\n        data\r\n      )\r\n      .then(response => this.processData(response.data));\r\n  }\r\n\r\n  processData(positions) {\r\n    // const statuses = [...new Set(positions.map(p => p.status))];\r\n    // console.log('statuses', statuses);\r\n\r\n    positions.forEach(position => {\r\n      const oldPosition = this.positions.find(p => position.k === p.k);\r\n\r\n      if (!!oldPosition) {\r\n        // existing one\r\n        const newCoords = this.system.mercator.fromGeo(\r\n          parseFloat(position.x),\r\n          parseFloat(position.y)\r\n        );\r\n\r\n        TweenMax.to(\r\n          oldPosition.mesh.position,\r\n          Math.round(ITS_INTERVAL / 1000),\r\n          {\r\n            x: newCoords.x,\r\n            z: newCoords.y,\r\n            ease: TweenMax.Linear.easeNone,\r\n            onComplete: () => {\r\n              oldPosition.x = newCoords.x;\r\n              oldPosition.y = newCoords.y;\r\n            },\r\n          }\r\n        );\r\n\r\n        // oldPosition.line.geometry.vertices.push(oldPosition.line.geometry.vertices.shift());\r\n        // oldPosition.line.geometry.vertices[4] = new THREE.Vector3(newCoords.x, 0, newCoords.y);\r\n        // oldPosition.line.geometry.verticesNeedUpdate = true;\r\n      } else {\r\n        // new position\r\n        const coords = this.system.mercator.fromGeo(\r\n          parseFloat(position.x),\r\n          parseFloat(position.y)\r\n        );\r\n        const color = position.type === 'bus' ? 0x27ae60 : 0x3498db;\r\n        const geometry = new THREE.OctahedronGeometry(25, 1);\r\n        const material = new THREE.MeshBasicMaterial({\r\n          color,\r\n          wireframe: true,\r\n          transparent: true,\r\n          opacity: 0.5,\r\n          blending: THREE.AdditiveBlending,\r\n        });\r\n\r\n        const mesh = new THREE.Mesh(geometry, material);\r\n        mesh.position.x = coords.x;\r\n        mesh.position.z = coords.y;\r\n\r\n        this.points.add(mesh);\r\n\r\n        // const lineGeometry = new THREE.Geometry();\r\n        // lineGeometry.vertices.push(coords.x, 0, coords.y);\r\n        // lineGeometry.vertices.push(coords.x, 0, coords.y);\r\n        // lineGeometry.vertices.push(coords.x, 0, coords.y);\r\n        // lineGeometry.vertices.push(coords.x, 0, coords.y);\r\n        // lineGeometry.vertices.push(coords.x, 0, coords.y);\r\n\r\n        // const line = new THREE.Line( lineGeometry, new THREE.LineBasicMaterial({\r\n        //   color,\r\n        //   transparent: true,\r\n        //   opacity: 0.5,\r\n        //   blending: THREE.AdditiveBlending,\r\n        // }) );\r\n        // line.geometry.dynamic = true;\r\n\r\n        // this.points.add(line);\r\n\r\n        const newPosition = Object.assign({}, position, { mesh });\r\n        this.positions.push(newPosition);\r\n      }\r\n    });\r\n  }\r\n\r\n  onComplete() {\r\n  }\r\n\r\n  update() {\r\n    this.ring.children.forEach((child, idx) => {\r\n      const t = this.system.clock.getElapsedTime() * 2;\r\n      const fn = Math.sin; // idx % 2 === 0 ? Math.sin : Math.cos;\r\n\r\n      // let dir = idx % 2 === 0 ? 1 : - 1;\r\n      const dir = idx > 1 ? -1 : 1;\r\n\r\n      // const scale = 1 - fn(t + idx / 10) / 20;\r\n\r\n      child.rotation.z += dir * (0.05 + 0.03 * Math.sin(t));\r\n      // child.scale.set(scale, scale, scale);\r\n    });\r\n  }\r\n\r\n  init() {}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/world/ITS.js","module.exports = require('./lib/axios');\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/axios/index.js\n// module id = 136\n// module chunks = 0","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Factory for creating new instances\naxios.create = function create(instanceConfig) {\n  return createInstance(utils.merge(defaults, instanceConfig));\n};\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/axios/lib/axios.js\n// module id = 137\n// module chunks = 0","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/is-buffer/index.js\n// module id = 138\n// module chunks = 0","'use strict';\n\nvar defaults = require('./../defaults');\nvar utils = require('./../utils');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = utils.merge({\n      url: arguments[0]\n    }, arguments[1]);\n  }\n\n  config = utils.merge(defaults, this.defaults, { method: 'get' }, config);\n  config.method = config.method.toLowerCase();\n\n  // Hook up interceptors middleware\n  var chain = [dispatchRequest, undefined];\n  var promise = Promise.resolve(config);\n\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    chain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    chain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  while (chain.length) {\n    promise = promise.then(chain.shift(), chain.shift());\n  }\n\n  return promise;\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/axios/lib/core/Axios.js\n// module id = 139\n// module chunks = 0","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/process/browser.js\n// module id = 140\n// module chunks = 0","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/axios/lib/helpers/normalizeHeaderName.js\n// module id = 141\n// module chunks = 0","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  // Note: status is not exposed by XDomainRequest\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/axios/lib/core/settle.js\n// module id = 142\n// module chunks = 0","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n  error.request = request;\n  error.response = response;\n  return error;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/axios/lib/core/enhanceError.js\n// module id = 143\n// module chunks = 0","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%40/gi, '@').\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      }\n\n      if (!utils.isArray(val)) {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/axios/lib/helpers/buildURL.js\n// module id = 144\n// module chunks = 0","'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/axios/lib/helpers/parseHeaders.js\n// module id = 145\n// module chunks = 0","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n  (function standardBrowserEnv() {\n    var msie = /(msie|trident)/i.test(navigator.userAgent);\n    var urlParsingNode = document.createElement('a');\n    var originURL;\n\n    /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n    function resolveURL(url) {\n      var href = url;\n\n      if (msie) {\n        // IE needs attribute set twice to normalize properties\n        urlParsingNode.setAttribute('href', href);\n        href = urlParsingNode.href;\n      }\n\n      urlParsingNode.setAttribute('href', href);\n\n      // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n      return {\n        href: urlParsingNode.href,\n        protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n        host: urlParsingNode.host,\n        search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n        hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n        hostname: urlParsingNode.hostname,\n        port: urlParsingNode.port,\n        pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n                  urlParsingNode.pathname :\n                  '/' + urlParsingNode.pathname\n      };\n    }\n\n    originURL = resolveURL(window.location.href);\n\n    /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n    return function isURLSameOrigin(requestURL) {\n      var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n      return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n    };\n  })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return function isURLSameOrigin() {\n      return true;\n    };\n  })()\n);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/axios/lib/helpers/isURLSameOrigin.js\n// module id = 146\n// module chunks = 0","'use strict';\n\n// btoa polyfill for IE<10 courtesy https://github.com/davidchambers/Base64.js\n\nvar chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\nfunction E() {\n  this.message = 'String contains an invalid character';\n}\nE.prototype = new Error;\nE.prototype.code = 5;\nE.prototype.name = 'InvalidCharacterError';\n\nfunction btoa(input) {\n  var str = String(input);\n  var output = '';\n  for (\n    // initialize result and counter\n    var block, charCode, idx = 0, map = chars;\n    // if the next str index does not exist:\n    //   change the mapping table to \"=\"\n    //   check if d has no fractional digits\n    str.charAt(idx | 0) || (map = '=', idx % 1);\n    // \"8 - idx % 1 * 8\" generates the sequence 2, 4, 6, 8\n    output += map.charAt(63 & block >> 8 - idx % 1 * 8)\n  ) {\n    charCode = str.charCodeAt(idx += 3 / 4);\n    if (charCode > 0xFF) {\n      throw new E();\n    }\n    block = block << 8 | charCode;\n  }\n  return output;\n}\n\nmodule.exports = btoa;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/axios/lib/helpers/btoa.js\n// module id = 147\n// module chunks = 0","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n  (function standardBrowserEnv() {\n    return {\n      write: function write(name, value, expires, path, domain, secure) {\n        var cookie = [];\n        cookie.push(name + '=' + encodeURIComponent(value));\n\n        if (utils.isNumber(expires)) {\n          cookie.push('expires=' + new Date(expires).toGMTString());\n        }\n\n        if (utils.isString(path)) {\n          cookie.push('path=' + path);\n        }\n\n        if (utils.isString(domain)) {\n          cookie.push('domain=' + domain);\n        }\n\n        if (secure === true) {\n          cookie.push('secure');\n        }\n\n        document.cookie = cookie.join('; ');\n      },\n\n      read: function read(name) {\n        var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n        return (match ? decodeURIComponent(match[3]) : null);\n      },\n\n      remove: function remove(name) {\n        this.write(name, '', Date.now() - 86400000);\n      }\n    };\n  })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return {\n      write: function write() {},\n      read: function read() { return null; },\n      remove: function remove() {}\n    };\n  })()\n);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/axios/lib/helpers/cookies.js\n// module id = 148\n// module chunks = 0","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/axios/lib/core/InterceptorManager.js\n// module id = 149\n// module chunks = 0","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\nvar isAbsoluteURL = require('./../helpers/isAbsoluteURL');\nvar combineURLs = require('./../helpers/combineURLs');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Support baseURL config\n  if (config.baseURL && !isAbsoluteURL(config.url)) {\n    config.url = combineURLs(config.baseURL, config.url);\n  }\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData(\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers || {}\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData(\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData(\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/axios/lib/core/dispatchRequest.js\n// module id = 150\n// module chunks = 0","'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn(data, headers);\n  });\n\n  return data;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/axios/lib/core/transformData.js\n// module id = 151\n// module chunks = 0","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/axios/lib/helpers/isAbsoluteURL.js\n// module id = 152\n// module chunks = 0","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/axios/lib/helpers/combineURLs.js\n// module id = 153\n// module chunks = 0","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/axios/lib/cancel/CancelToken.js\n// module id = 154\n// module chunks = 0","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/axios/lib/helpers/spread.js\n// module id = 155\n// module chunks = 0","/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nmodule.exports = function(THREE) {\n  var CopyShader = EffectComposer.CopyShader = require('three-copyshader')\n    , RenderPass = EffectComposer.RenderPass = require('./lib/renderpass')(THREE)\n    , ShaderPass = EffectComposer.ShaderPass = require('./lib/shaderpass')(THREE, EffectComposer)\n    , MaskPass = EffectComposer.MaskPass = require('./lib/maskpass')(THREE)\n    , ClearMaskPass = EffectComposer.ClearMaskPass = require('./lib/clearmaskpass')(THREE)\n\n  function EffectComposer( renderer, renderTarget ) {\n    this.renderer = renderer;\n\n    if ( renderTarget === undefined ) {\n      var width = window.innerWidth || 1;\n      var height = window.innerHeight || 1;\n      var parameters = { minFilter: THREE.LinearFilter, magFilter: THREE.LinearFilter, format: THREE.RGBFormat, stencilBuffer: false };\n\n      renderTarget = new THREE.WebGLRenderTarget( width, height, parameters );\n    }\n\n    this.renderTarget1 = renderTarget;\n    this.renderTarget2 = renderTarget.clone();\n\n    this.writeBuffer = this.renderTarget1;\n    this.readBuffer = this.renderTarget2;\n\n    this.passes = [];\n\n    this.copyPass = new ShaderPass( CopyShader );\n  };\n\n  EffectComposer.prototype = {\n    swapBuffers: function() {\n\n      var tmp = this.readBuffer;\n      this.readBuffer = this.writeBuffer;\n      this.writeBuffer = tmp;\n\n    },\n\n    addPass: function ( pass ) {\n\n      this.passes.push( pass );\n\n    },\n\n    insertPass: function ( pass, index ) {\n\n      this.passes.splice( index, 0, pass );\n\n    },\n\n    render: function ( delta ) {\n\n      this.writeBuffer = this.renderTarget1;\n      this.readBuffer = this.renderTarget2;\n\n      var maskActive = false;\n\n      var pass, i, il = this.passes.length;\n\n      for ( i = 0; i < il; i ++ ) {\n\n        pass = this.passes[ i ];\n\n        if ( !pass.enabled ) continue;\n\n        pass.render( this.renderer, this.writeBuffer, this.readBuffer, delta, maskActive );\n\n        if ( pass.needsSwap ) {\n\n          if ( maskActive ) {\n\n            var context = this.renderer.context;\n\n            context.stencilFunc( context.NOTEQUAL, 1, 0xffffffff );\n\n            this.copyPass.render( this.renderer, this.writeBuffer, this.readBuffer, delta );\n\n            context.stencilFunc( context.EQUAL, 1, 0xffffffff );\n\n          }\n\n          this.swapBuffers();\n\n        }\n\n        if ( pass instanceof MaskPass ) {\n\n          maskActive = true;\n\n        } else if ( pass instanceof ClearMaskPass ) {\n\n          maskActive = false;\n\n        }\n\n      }\n\n    },\n\n    reset: function ( renderTarget ) {\n\n      if ( renderTarget === undefined ) {\n\n        renderTarget = this.renderTarget1.clone();\n\n        renderTarget.width = window.innerWidth;\n        renderTarget.height = window.innerHeight;\n\n      }\n\n      this.renderTarget1 = renderTarget;\n      this.renderTarget2 = renderTarget.clone();\n\n      this.writeBuffer = this.renderTarget1;\n      this.readBuffer = this.renderTarget2;\n\n    },\n\n    setSize: function ( width, height ) {\n\n      var renderTarget = this.renderTarget1.clone();\n\n      renderTarget.width = width;\n      renderTarget.height = height;\n\n      this.reset( renderTarget );\n\n    }\n\n  };\n\n  // shared ortho camera\n\n  EffectComposer.camera = new THREE.OrthographicCamera( -1, 1, 1, -1, 0, 1 );\n\n  EffectComposer.quad = new THREE.Mesh( new THREE.PlaneGeometry( 2, 2 ), null );\n\n  EffectComposer.scene = new THREE.Scene();\n  EffectComposer.scene.add( EffectComposer.quad );\n\n  return EffectComposer\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/three-effectcomposer/index.js\n// module id = 156\n// module chunks = 0","/**\n * @author alteredq / http://alteredqualia.com/\n *\n * Full-screen textured quad shader\n */\n\nmodule.exports = {\n  uniforms: {\n    \"tDiffuse\": { type: \"t\", value: null },\n    \"opacity\":  { type: \"f\", value: 1.0 }\n  },\n  vertexShader: [\n    \"varying vec2 vUv;\",\n\n    \"void main() {\",\n\n      \"vUv = uv;\",\n      \"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\",\n\n    \"}\"\n  ].join(\"\\n\"),\n  fragmentShader: [\n    \"uniform float opacity;\",\n\n    \"uniform sampler2D tDiffuse;\",\n\n    \"varying vec2 vUv;\",\n\n    \"void main() {\",\n\n      \"vec4 texel = texture2D( tDiffuse, vUv );\",\n      \"gl_FragColor = opacity * texel;\",\n\n    \"}\"\n  ].join(\"\\n\")\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/three-copyshader/index.js\n// module id = 157\n// module chunks = 0","/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nmodule.exports = function(THREE) {\n  function RenderPass( scene, camera, overrideMaterial, clearColor, clearAlpha ) {\n    if (!(this instanceof RenderPass)) return new RenderPass(scene, camera, overrideMaterial, clearColor, clearAlpha);\n\n    this.scene = scene;\n    this.camera = camera;\n\n    this.overrideMaterial = overrideMaterial;\n\n    this.clearColor = clearColor;\n    this.clearAlpha = ( clearAlpha !== undefined ) ? clearAlpha : 1;\n\n    this.oldClearColor = new THREE.Color();\n    this.oldClearAlpha = 1;\n\n    this.enabled = true;\n    this.clear = true;\n    this.needsSwap = false;\n\n  };\n\n  RenderPass.prototype = {\n\n    render: function ( renderer, writeBuffer, readBuffer, delta ) {\n\n      this.scene.overrideMaterial = this.overrideMaterial;\n\n      if ( this.clearColor ) {\n\n        this.oldClearColor.copy( renderer.getClearColor() );\n        this.oldClearAlpha = renderer.getClearAlpha();\n\n        renderer.setClearColor( this.clearColor, this.clearAlpha );\n\n      }\n\n      renderer.render( this.scene, this.camera, readBuffer, this.clear );\n\n      if ( this.clearColor ) {\n\n        renderer.setClearColor( this.oldClearColor, this.oldClearAlpha );\n\n      }\n\n      this.scene.overrideMaterial = null;\n\n    }\n\n  };\n\n  return RenderPass;\n\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/three-effectcomposer/lib/renderpass.js\n// module id = 158\n// module chunks = 0","/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nmodule.exports = function(THREE, EffectComposer) {\n  function ShaderPass( shader, textureID ) {\n    if (!(this instanceof ShaderPass)) return new ShaderPass(shader, textureID);\n\n    this.textureID = ( textureID !== undefined ) ? textureID : \"tDiffuse\";\n\n    this.uniforms = THREE.UniformsUtils.clone( shader.uniforms );\n\n    this.material = new THREE.ShaderMaterial( {\n\n      uniforms: this.uniforms,\n      vertexShader: shader.vertexShader,\n      fragmentShader: shader.fragmentShader\n\n    } );\n\n    this.renderToScreen = false;\n\n    this.enabled = true;\n    this.needsSwap = true;\n    this.clear = false;\n\n  };\n\n  ShaderPass.prototype = {\n\n    render: function ( renderer, writeBuffer, readBuffer, delta ) {\n\n      if ( this.uniforms[ this.textureID ] ) {\n\n        this.uniforms[ this.textureID ].value = readBuffer;\n\n      }\n\n      EffectComposer.quad.material = this.material;\n\n      if ( this.renderToScreen ) {\n\n        renderer.render( EffectComposer.scene, EffectComposer.camera );\n\n      } else {\n\n        renderer.render( EffectComposer.scene, EffectComposer.camera, writeBuffer, this.clear );\n\n      }\n\n    }\n\n  };\n\n  return ShaderPass;\n\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/three-effectcomposer/lib/shaderpass.js\n// module id = 159\n// module chunks = 0","/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nmodule.exports = function(THREE) {\n  function MaskPass( scene, camera ) {\n    if (!(this instanceof MaskPass)) return new MaskPass(scene, camera);\n\n    this.scene = scene;\n    this.camera = camera;\n\n    this.enabled = true;\n    this.clear = true;\n    this.needsSwap = false;\n\n    this.inverse = false;\n  };\n\n  MaskPass.prototype = {\n\n    render: function ( renderer, writeBuffer, readBuffer, delta ) {\n\n      var context = renderer.context;\n\n      // don't update color or depth\n\n      context.colorMask( false, false, false, false );\n      context.depthMask( false );\n\n      // set up stencil\n\n      var writeValue, clearValue;\n\n      if ( this.inverse ) {\n\n        writeValue = 0;\n        clearValue = 1;\n\n      } else {\n\n        writeValue = 1;\n        clearValue = 0;\n\n      }\n\n      context.enable( context.STENCIL_TEST );\n      context.stencilOp( context.REPLACE, context.REPLACE, context.REPLACE );\n      context.stencilFunc( context.ALWAYS, writeValue, 0xffffffff );\n      context.clearStencil( clearValue );\n\n      // draw into the stencil buffer\n\n      renderer.render( this.scene, this.camera, readBuffer, this.clear );\n      renderer.render( this.scene, this.camera, writeBuffer, this.clear );\n\n      // re-enable update of color and depth\n\n      context.colorMask( true, true, true, true );\n      context.depthMask( true );\n\n      // only render where stencil is set to 1\n\n      context.stencilFunc( context.EQUAL, 1, 0xffffffff );  // draw if == 1\n      context.stencilOp( context.KEEP, context.KEEP, context.KEEP );\n\n    }\n\n  };\n\n  return MaskPass\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/three-effectcomposer/lib/maskpass.js\n// module id = 160\n// module chunks = 0","/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nmodule.exports = function(THREE) {\n  function ClearMaskPass() {\n    if (!(this instanceof ClearMaskPass)) return new ClearMaskPass(scene, camera);\n    this.enabled = true;\n  };\n\n  ClearMaskPass.prototype = {\n    render: function ( renderer, writeBuffer, readBuffer, delta ) {\n      var context = renderer.context;\n      context.disable( context.STENCIL_TEST );\n    }\n  };\n\n  return ClearMaskPass\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/three-effectcomposer/lib/clearmaskpass.js\n// module id = 161\n// module chunks = 0"],"sourceRoot":""}